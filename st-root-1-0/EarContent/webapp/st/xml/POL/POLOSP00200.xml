<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="600" Id="form" Left="8" OnLoadCompleted="POLOSP00200_OnLoadCompleted" PidAttrib="7" Title="온라인소매&#32;가격표&#32;등록" Top="8" Ver="1.0" Width="1024" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_condition">
				<Contents>
					<colinfo id="APLY_YM" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="HIST_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_TYP_CD_MAX" size="256" summ="default" type="STRING"/>
					<colinfo id="AGRMT_PRD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="APLY_STA_DTM" size="256" summ="default" type="STRING"/>
					<colinfo id="APLY_END_DTM" size="256" summ="default" type="STRING"/>
					<colinfo id="ALLOT_SALE_PRC_ADJ" size="256" summ="default" type="STRING"/>
					<colinfo id="HOUR" size="256" summ="default" type="STRING"/>
					<colinfo id="MIN" size="256" summ="default" type="STRING"/>
					<colinfo id="END_HOUR" size="256" summ="default" type="STRING"/>
					<colinfo id="END_MIN" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="RJCT_RSN" size="256" summ="default" type="STRING"/>
					<colinfo id="OPLST_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="SL_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="UKEY_AGENCY_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="DEL_RSN" size="256" summ="default" type="STRING"/>
					<colinfo id="APRV_ST" size="256" summ="default" type="STRING"/>
					<colinfo id="TPLST_ID" size="256" summ="default" type="STRING"/>
					<record>
						<AGRMT_PRD_CD></AGRMT_PRD_CD>
						<APLY_END_DTM></APLY_END_DTM>
						<APLY_STA_DTM></APLY_STA_DTM>
						<APLY_YM></APLY_YM>
						<DEAL_CO_NM></DEAL_CO_NM>
						<DEL_RSN></DEL_RSN>
						<DS_NET_CD></DS_NET_CD>
						<END_HOUR></END_HOUR>
						<END_MIN></END_MIN>
						<HIST_YN></HIST_YN>
						<HOUR></HOUR>
						<MIN></MIN>
						<ORG_ID></ORG_ID>
						<RJCT_RSN></RJCT_RSN>
						<RMKS></RMKS>
						<SALE_TYP_CD_MAX></SALE_TYP_CD_MAX>
						<SL_NET_CD></SL_NET_CD>
						<OPLST_ID></OPLST_ID>
						<UKEY_AGENCY_CD></UKEY_AGENCY_CD>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_CopyAdptProdMgmt">
				<Contents>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CHRTIC_1" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CHRTIC_2" size="256" summ="default" type="STRING"/>
					<colinfo id="CHK" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_zPolC">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_splstCnt">
				<Contents>
					<colinfo id="oplst_id_cnt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_polSplst">
				<Contents>
					<colinfo id="CHK" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CHRTIC_1" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CHRTIC_2" size="256" summ="default" type="STRING"/>
					<colinfo id="ALLOT_SALE_PRC_STARD" size="256" summ="default" type="STRING"/>
					<colinfo id="ALLOT_SALE_PRC" size="256" summ="default" type="STRING"/>
					<colinfo id="ALLOT_PR_MNY" size="256" summ="default" type="STRING"/>
					<colinfo id="CASH_PR_MNY" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_CMMS" size="256" summ="default" type="STRING"/>
					<colinfo id="CASH_SALE_PRC" size="256" summ="default" type="STRING"/>
					<colinfo id="ALLOT_TRGT_PRFIT_LS" size="256" summ="default" type="STRING"/>
					<colinfo id="CASH_TRGT_PRFIT_LS" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_polSplstTmp" OnColumnChanged="ds_polSplstTmp_OnColumnChanged"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_splstKey">
				<Contents>
					<colinfo id="OPLST_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="APLY_YM" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="SL_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="AGRMT_PRD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_TYP_CD_MAX" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_copyPolSplstTmp"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_copyCondition">
				<Contents>
					<colinfo id="OPLST_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="APLY_YM" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="SL_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="AGRMT_PRD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_TYP_CD_MAX" size="256" summ="default" type="STRING"/>
					<colinfo id="APLY_STA_DTM" size="256" summ="default" type="STRING"/>
					<colinfo id="APLY_END_DTM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Div Border="Raised" Height="71" Id="div_search" Left="10" Style="sty_div_input" TabOrder="1" Text="질의내용" Top="12" Width="1004">
			<Contents>
				<Static Align="Right" Height="20" Id="Static0" Left="246" Style="sty_lb_Basic" TabOrder="1" Text="유통망" Top="38" VAlign="Middle" Width="76"></Static>
				<Static Align="Right" Height="20" Id="Static1" Left="470" Style="sty_lb_Basic" TabOrder="0" Text="판매유형" Top="38" VAlign="Middle" Width="76"></Static>
				<Static Align="Right" Height="20" Id="Static2" Left="690" Style="sty_lb_Basic" TabOrder="2" Text="약정기간" Top="38" VAlign="Middle" Width="76"></Static>
				<Combo BindDataset="ds_condition" Border="Flat" Column="AGRMT_PRD_CD" Height="20" Id="cmb_agrmtPrdCd" Left="769" OnChanged="div_search_cmb_agrmtPrdCd_OnChanged" Style="sty_ipt_form" TabOrder="12" Top="37" Width="131"></Combo>
				<Button ButtonStyle="TRUE" Cursor="HAND" Height="21" Id="btn_search" ImageID="btn_b_4" Left="915" OnClick="div_search_btn_search_OnClick" Style="sty_btn_b" TabOrder="13" Text="모델선택" Top="38" Width="75"></Button>
				<Static Align="Right" Height="20" Id="Static3" Left="254" Style="sty_lb_Basic" TabOrder="5" Text="적용기간" Top="7" VAlign="Middle" Width="68"></Static>
				<Calendar BindDataset="ds_condition" Border="Flat" ButtonImageID="btn_i_calendar" Column="APLY_STA_DTM" DayFont="Default,-1" Enable="FALSE" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_aplyStaDtm" Left="326" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" OnChanged="div_search_cal_aplyStaDtm_OnChanged" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="2" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="90"></Calendar>
				<Static Align="Center" Height="20" Id="Static4" Left="461" TabOrder="6" Text="~" Top="7" VAlign="Middle" Width="20"></Static>
				<Calendar BindDataset="ds_condition" Border="Flat" ButtonImageID="btn_i_calendar" Column="APLY_END_DTM" DayFont="Default,-1" Enable="FALSE" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_aplyEndDtm" Left="482" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="5" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="90"></Calendar>
				<Static Align="Right" Height="20" Id="Static5" Left="10" Style="sty_lb_Basic" TabOrder="4" Text="적용년월" Top="7" VAlign="Middle" Width="60"></Static>
				<Shape Bottom="33" Height="1" Id="Shape0" Left="-1" LineColor="user9" Right="1023" TabOrder="8" Top="32" Width="1024"></Shape>
				<Edit Align="CENTER" BindDataset="ds_condition" Border="Flat" CanChange="div_search_edt_hour_CanChange" Column="HOUR" Enable="FALSE" Height="20" Id="edt_hour" Left="417" LeftMargin="2" MaxLength="2" Number="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="7" Width="22"></Edit>
				<Edit Align="CENTER" BindDataset="ds_condition" Border="Flat" CanChange="div_search_edt_min_CanChange" Column="MIN" Enable="FALSE" Height="20" Id="edt_min" Left="440" LeftMargin="2" MaxLength="2" Number="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Width="22"></Edit>
				<Edit Align="CENTER" BindDataset="ds_condition" Border="Flat" Column="END_HOUR" Enable="FALSE" Height="20" Id="edt_endHour" Left="573" LeftMargin="2" MaxLength="2" Number="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="7" Width="22"></Edit>
				<Edit Align="CENTER" BindDataset="ds_condition" Border="Flat" Column="END_MIN" Enable="FALSE" Height="20" Id="edt_endMin" Left="596" LeftMargin="2" MaxLength="2" Number="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="7" Width="22"></Edit>
				<Combo BindDataset="ds_condition" Border="Flat" Column="DS_NET_CD" Height="20" Id="cmb_dsNetCd" Left="325" OnChanged="div_search_cmb_dsNetCd_OnChanged" Style="sty_ipt_form" TabOrder="10" Top="37" Width="139"></Combo>
				<Combo BindDataset="ds_condition" Border="Flat" Column="SALE_TYP_CD_MAX" Height="20" Id="cmb_salePtn" Left="548" OnChanged="div_search_cmb_salePtn_OnChanged" Style="sty_ipt_form" TabOrder="11" Top="37" Width="131"></Combo>
				<Static Align="Right" Height="20" Id="Static6" Left="10" Style="sty_lb_Basic" TabOrder="18" Text="대리점" Top="38" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_condition" Border="Flat" Column="DEAL_CO_NM" Height="20" Id="edt_agencyCdNm" Left="73" MaxLength="10" OnKeyDown="div_search_edt_agencyCdNm_OnKeyDown" Style="sty_ipt_form" TabOrder="9" Top="39" UpperOnly="TRUE" Width="77"></Edit>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Height="20" Id="btn_agency" ImageID="btn_i_detail_b" Left="150" OnClick="div_search_btn_agency_OnClick" TabOrder="14" TabStop="FALSE" Text="Button0" Top="39" Width="20"></Button>
				<Edit BindDataset="ds_condition" Border="Flat" Column="UKEY_AGENCY_CD" Enable="FALSE" Height="20" Id="edt_agencyUkeyCd" Left="170" MaxLength="10" Style="sty_ipt_form" TabOrder="15" Top="39" UpperOnly="TRUE" Width="85"></Edit>
				<Edit BindDataset="ds_condition" Border="Flat" Column="ORG_ID" Height="20" Id="edt_agencyCd" Left="256" MaxLength="10" Style="sty_ipt_form" TabOrder="16" TabStop="FALSE" Top="39" UpperOnly="TRUE" Visible="FALSE" Width="8"></Edit>
				<MaskEdit BindDataset="ds_condition" Border="Flat" Column="APLY_YM" Enable="FALSE" Height="20" Id="cal_polYm" Left="73" LeftMargin="2" Mask="@@@@-@@" MaxLength="6" Readonly="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="1" Top="8" Type="STRING" Width="77"></MaskEdit>
				<Button Cursor="HAND" Enable="FALSE" Height="20" Id="btn_monthCalendar" ImageID="btn_i_calendar" Left="150" OnClick="btn_monthCalendar_OnClick" TabOrder="17" TabStop="FALSE" Text="Button3" Top="8" Width="17"></Button>
				<Static Align="Right" Height="20" Id="Static7" Left="688" Style="sty_lb_Basic" TabOrder="26" Text="영업망" Top="6" VAlign="Middle" Width="76"></Static>
				<Combo BindDataset="ds_condition" Border="Flat" Column="SL_NET_CD" Height="20" Id="cmb_slNetCd" Left="769" OnChanged="div_search_cmb_slNetCd_OnChanged" Style="sty_ipt_form" TabOrder="8" Top="6" Width="131"></Combo>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Height="20" Id="btn_saleTypCdMin" ImageID="btn_i_detail_b" Left="677" OnClick="div_search_btn_saleTypCdMin_OnClick" TabOrder="27" TabStop="FALSE" Text="Button0" Top="38" Width="20"></Button>
				<Image Height="21" Id="Image0" ImageID="bul_mand" Left="19" TabOrder="28" Top="37" Transparent="TRUE" Width="20"></Image>
			</Contents>
		</Div>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_save" ImageID="btn_c_2" Left="889" LeftMargin="5" OnClick="df_save" Style="sty_btn_c" TabOrder="6" Text="저장" Top="565" Visible="FALSE" Width="60"></Button>
		<Grid BkColor2="user32" BoldHead="true" Border="Flat" Bottom="447" Editable="TRUE" Enable="true" EndLineColor="default" FillArea="TRUE" FillAreaType="Control" HeadBorder="Flat" HeadHeight="22" Height="337" Id="grd_polSplst" InputPanel="FALSE" Left="10" LineColor="user33" OnExpandUp="grd_polSplst_OnExpandUp" Right="1014" RowHeight="21" Style="sty_Grid" TabOrder="2" TabStop="true" Top="110" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="user33" WheelScrollRow="1" Width="1004">
			<contents>
				<format id="Default">
					<columns>
						<col width="30"/>
						<col width="69"/>
						<col width="71"/>
						<col width="39"/>
						<col width="39"/>
						<col width="100"/>
						<col width="73"/>
						<col width="82"/>
						<col width="87"/>
						<col width="82"/>
						<col width="87"/>
						<col width="73"/>
						<col width="69"/>
						<col width="73"/>
						<col width="73"/>
						<col width="73"/>
						<col width="69"/>
					</columns>
					<head>
						<cell bkcolor="user34" col="0" color="user35" display="text" rowspan="3" text="번호"/>
						<cell bkcolor="user34" col="1" color="user35" display="text" rowspan="3" text="제조사"/>
						<cell bkcolor="user34" col="2" color="user35" display="text" rowspan="3" text="모델"/>
						<cell bkcolor="user34" col="3" color="user35" display="text" rowspan="3" text="상품&#32;특성1" wordwrap="exchar"/>
						<cell bkcolor="user34" col="4" color="user35" display="text" rowspan="3" text="상품&#32;특성2" wordwrap="exchar"/>
						<cell bkcolor="user34" col="5" color="user35" colspan="12" display="text" text="010신규"/>
						<cell bkcolor="user34" col="5" color="user35" display="text" row="1" rowspan="2" text="기준할부가"/>
						<cell bkcolor="user34" col="15" color="user35" colspan="2" display="text" row="1" text="목표손익"/>
						<cell bkcolor="user34" col="6" color="user35" display="text" row="1" rowspan="2" text="확정할부가"/>
						<cell bkcolor="user34" col="7" color="user35" colspan="2" display="text" row="1" text="목표장려금"/>
						<cell bkcolor="user34" col="9" color="user35" colspan="2" display="text" row="1" text="판매원가"/>
						<cell bkcolor="user34" col="11" color="user35" colspan="2" display="text" row="1" text="할인한도"/>
						<cell bkcolor="user34" col="13" color="user35" display="text" row="1" rowspan="2" text="소매할부판매가"/>
						<cell bkcolor="user34" col="14" color="user35" display="text" row="1" rowspan="2" text="현금판매가"/>
						<cell bkcolor="user34" col="15" color="user35" display="text" row="2" text="할부"/>
						<cell bkcolor="user34" col="16" color="user35" display="text" row="2" text="현금"/>
						<cell bkcolor="user34" col="7" color="user35" display="text" row="2" text="할부"/>
						<cell bkcolor="user34" col="8" color="user35" display="text" row="2" text="현금"/>
						<cell bkcolor="user34" col="9" color="user35" display="text" row="2" text="할부"/>
						<cell bkcolor="user34" col="10" color="user35" display="text" row="2" text="현금"/>
						<cell bkcolor="user34" col="11" color="user35" display="text" row="2" text="할부"/>
						<cell bkcolor="user34" col="12" color="user35" display="text" row="2" text="현금"/>
					</head>
					<body>
						<cell align="center" col="0" display="text" expr="row+1"/>
						<cell col="1" display="text"/>
						<cell col="2" display="text"/>
						<cell align="center" col="3" display="text"/>
						<cell align="center" col="4" display="text"/>
						<cell align="right" col="5" color="user27" display="number"/>
						<cell align="right" col="6" display="number"/>
						<cell align="right" col="7" display="number" edit="button" expandimage="btn_i_detail_b" expandshow="true" expandsize="19"/>
						<cell align="right" col="8" display="number" edit="button" expandimage="btn_i_detail_b" expandshow="true" expandsize="19"/>
						<cell align="right" col="9" display="number" edit="button" expandimage="btn_i_detail_b" expandshow="true" expandsize="19" limit="7"/>
						<cell align="right" col="10" display="number" edit="button" expandimage="btn_i_detail_b" expandshow="true" expandsize="19" limit="7"/>
						<cell align="right" col="11" display="number"/>
						<cell align="right" col="12" display="number"/>
						<cell align="right" col="13" display="number" limit="7"/>
						<cell align="right" col="14" display="number"/>
						<cell align="right" col="15" display="number"/>
						<cell align="right" col="16" display="number"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Div Border="Raised" Height="94" Id="div_adjust" Left="10" Style="sty_div_input" TabOrder="3" Text="질의내용" Top="461" Width="1004">
			<Contents>
				<Radio Border="None" ColumnCount="3" Height="20" Id="rad_adjtBasic" INDEX="-1" Left="251" LeftMargin="5" OnChanged="div_adjust_rad_adjtBasic_OnChanged" RightMargin="15" Style="sty_opt_input" TabOrder="1" Top="7" Width="240"></Radio>
				<Static Align="Right" Height="20" Id="Static6" Left="198" Style="sty_lb_Basic" TabOrder="1" Text="조정기준" Top="7" VAlign="Middle" Width="50"></Static>
				<Static Align="Right" Height="20" Id="Static0" Left="506" Style="sty_lb_Basic" TabOrder="2" Text="기본손익" Top="7" VAlign="Middle" Width="60"></Static>
				<Static Align="Right" Height="20" Id="Static1" Left="644" Style="sty_lb_Basic" TabOrder="4" Text="단위" Top="7" VAlign="Middle" Width="40"></Static>
				<Combo Border="Flat" Height="20" Id="cmb_cutUnit" Left="687" OnChanged="div_adjust_cmb_cutUnit_OnChanged" Style="sty_ipt_form" TabOrder="3" Top="6" Width="67"></Combo>
				<Static Align="Right" Height="20" Id="Static2" Left="758" Style="sty_lb_Basic" TabOrder="6" Text="금액가감" Top="7" VAlign="Middle" Width="60"></Static>
				<Combo Border="Flat" Height="20" Id="cmb_money" ImeMode="none" Left="821" OnChanged="div_adjust_cmb_money_OnChanged" Style="sty_ipt_form" TabOrder="4" Top="6" Width="68"></Combo>
				<Static Height="20" Id="stc_money" Left="953" TabOrder="8" Text="%(원)" Top="7" VAlign="Middle" Width="35"></Static>
				<Static Align="Right" Height="20" Id="Static8" Left="12" Style="sty_lb_Basic" TabOrder="10" Text="비고" Top="38" VAlign="Middle" Width="50"></Static>
				<TextArea BindDataset="ds_condition" Border="Flat" CheckLength="Byte" Column="RMKS" Height="42" Id="txt_rmks" Left="66" MaxLength="90" Style="sty_ipt_form" TabOrder="6" Top="38" VScroll="TRUE" Width="419"></TextArea>
				<Static Align="Right" Height="20" Id="Static4" Left="504" Style="sty_lb_Basic" TabOrder="12" Text="반려사유" Top="38" VAlign="Middle" Width="60"></Static>
				<TextArea BindDataset="ds_condition" Border="Flat" CheckLength="Byte" Column="RJCT_RSN" Height="42" Id="txt_rejtReason" Left="567" MaxLength="90" Readonly="TRUE" Style="sty_ipt_form" TabOrder="7" Top="38" VScroll="TRUE" Width="419"></TextArea>
				<Shape Bottom="33" Height="1" Id="Shape0" Left="-1" LineColor="user9" Right="1023" TabOrder="13" Top="32" Width="1024"></Shape>
				<MaskEdit Border="Flat" Height="20" Id="edt_basicMny" Left="569" LeftMargin="2" MaxLength="7" OnKillFocus="div_adjust_edt_basicMny_OnKillFocus" RightMargin="2" TabOrder="2" Top="7" Value="0" Width="60"></MaskEdit>
				<MaskEdit Border="Flat" Height="20" Id="edt_money" Left="889" LeftMargin="2" MaxLength="2" OnClick="div_adjust_edt_money_OnClick" OnKillFocus="div_adjust_edt_money_OnKillFocus" RightMargin="2" TabOrder="5" Top="7" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static3" Left="8" Style="sty_lb_Basic" TabOrder="17" Text="확정할부가조정" Top="7" VAlign="Middle" Width="90"></Static>
				<MaskEdit BindDataset="ds_condition" Border="Flat" Column="ALLOT_SALE_PRC_ADJ" Height="20" Id="edt_allotSalePrc" Left="103" LeftMargin="2" MaxLength="7" OnKillFocus="div_adjust_edt_allotSalePrc_OnKillFocus" RightMargin="2" TabOrder="16" Top="7" Value="0" Width="60"></MaskEdit>
				<Static Height="20" Id="stc_allotSalePrc" Left="167" TabOrder="18" Text="원" Top="7" VAlign="Middle" Width="25"></Static>
			</Contents>
		</Div>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_delete" ImageID="btn_d_2" Left="952" LeftMargin="5" OnClick="df_delete" Style="sty_btn_d" TabOrder="7" Text="삭제" Top="565" Visible="FALSE" Width="60"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_mod" ImageID="btn_c_4" Left="10" LeftMargin="5" OnClick="btn_mod_OnClick" Style="sty_btn_c" TabOrder="4" Text="정책변경" Top="565" Width="85"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_approvalReq" ImageID="btn_c_4" Left="801" LeftMargin="5" OnClick="btn_approvalReq_OnClick" Style="sty_btn_c" TabOrder="5" Text="승인요청" Top="565" Visible="FALSE" Width="85"></Button>
		<Button Cursor="HAND" Height="21" Id="Button5" ImageID="btn_i_exceldown_w" Left="995" OnClick="btn_export_OnClick" TabOrder="8" Text="Button1" ToolTipText="Excel&#32;Download" Top="86" Width="19"></Button>
		<Image Align="Left" Height="20" Id="img_polChg" ImageID="bul_caution" Left="13" LeftMargin="20" Style="sty_lb_info" TabOrder="9" Text="정책변경발생" Top="88" Visible="FALSE" Width="328"></Image>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* 프로그램ID : POLOSP00200
* 업무명      : 온라인소매가격표
* 프로그램명  : 온라인소매가격표 관리
--------------------------------------------------------------------------------
* 작성자      : 전승호
* 작성일      : 2009.01.14
--------------------------------------------------------------------------------
* 1. 변경이력
수정자    :
수정일    :
수정 내역 :
*******************************************************************************/

/*******************************************************************************
// 1. 전 처리기
*******************************************************************************/
#include "lib::lib_commF.js"
#include "lib::lib_util.js"

/*******************************************************************************
// 2. 폼 변수 정의
*******************************************************************************/
var FV_STR_NAME; 			//사용자 이름
var SAVE_FLAG = "N";
var APRV_SAVE_FLAG = "N"; 	//승인요청,저장 구분 FLAG
var PRE_APLY_STA_DTM = ""; 
var FV_ORG_ID;				// 소속
var FV_ORG_CL;				//소속구분

/*******************************************************************************
* 함수명 : POLOSP00200_OnLoadCompleted
* 기능명 : OnLoadCompleted 이벤트
*******************************************************************************/
function POLOSP00200_OnLoadCompleted(obj)
{
	cf_setGrdChecknSortEvent(grd_polSplst);	// 그리드 정렬
	// 권한 설정
	cf_setAuth(pFrmNum);
	
	FV_ORG_ID     = gds_session.GetColumn(0, "orgid");
	FV_ORG_CL     = gds_session.GetColumn(0, "orgcl");
		
	http.Sync = true;
	
	// 공통 코드를 위한 데이타셋 설정
	cf_setCommonCodeDsEnv();
	cf_setCommonCode("div_search.cmb_slNetCd", "ZPOL_C_00103");   		//영업망
	cf_setCommonCode("div_search.cmb_dsNetCd", "ZPOL_C_00110"); 		//유통망
	cf_setCommonCode("div_search.cmb_agrmtPrdCd", "ZPOL_C_00230"); 		//약정보조금
	cf_setCommonCode("div_search.cmb_salePtn", "ZPOL_C_00020"); 		//판매유형
	cf_setCommonCode("div_adjust.rad_adjtBasic", "ZPOL_C_00320"); 		//조정기준
	cf_setCommonCode("div_adjust.cmb_cutUnit", "ZPOL_C_00250", "선택"); //절사단위
	cf_setCommonCode("div_adjust.cmb_money", "ZPOL_C_00330", "선택"); 	//금액가감
	
	cf_checkCommonCode();
	
	if(uf_isNull(OPLST_ID) == true){ //신규버튼 클릭시
	
		f_set_init();
		
		f_getZPolC00040(); //장려금테이블의 세부판매유형 조회 
		
	}else{
	
		f_setSplstId(); // 검색조건 세팅
		
		f_getSaleTypCdMin();
		
		uf_ObjComponentEnable(div_search,false);
		
		div_search.btn_search.Enable = true;
		
	}
	
	if(COPY_FLAG == "Y"){ //참조가격표 리스트 더블 클릭시 기등록된 자료 조회 
		
		f_getCopySaleTypCdMin(); //판매가격표의 세부판매유형 조회
		
	}	
	
	http.Sync = false;
	
	cf_setParam(ds_condition,"RMKS"        ,RMKS);
	cf_setParam(ds_condition,"RJCT_RSN"    ,RJCT_RSN);	
	
	if(HIST_FLAG == "Y"){ //온라인소매가격표 종결된 가격표
		/*
		uf_ObjComponentEnable(div_search,false);
		
		uf_ObjComponentEnable(div_adjust,false);
		
		btn_mod.Enable = false;
		btn_approvalReq.Enable = false;
		btn_save.Enable = false;
		btn_delete.Enable = false;	
				
		div_search.btn_search.Enable = true;	
		btn_save.Enable = true;					
		*/
		f_setColorEdit();

		btn_approvalReq.Enable = true;
		btn_save.Enable = true;
		
		if(CRUD_FLAG == "Y"){ //종결되지 않은 가격표중에서도 최종 가격표만 정책변경/삭제 가능 
			if(NEW_FLAG == "Y"){ //신규버튼 클릭시에는 비활성화
				btn_mod.Enable = false;
				btn_delete.Enable = false;
			}else{
				btn_mod.Enable = true;
				btn_delete.Enable = true;				
			}
		}else{
			btn_mod.Enable = false;
			btn_delete.Enable = false;
		}
		
		//btn_mod.Enable = false;
		
	}else{
		
		f_setColorEdit();

		btn_approvalReq.Enable = true;
		btn_save.Enable = true;
		
		if(CRUD_FLAG == "Y"){ //종결되지 않은 가격표중에서도 최종 가격표만 정책변경/삭제 가능 
			if(NEW_FLAG == "Y"){ //신규버튼 클릭시에는 비활성화
				btn_mod.Enable = false;
				btn_delete.Enable = false;
			}else{
				btn_mod.Enable = true;
				btn_delete.Enable = true;				
			}
		}else{
			btn_mod.Enable = false;
			btn_delete.Enable = false;
		}
		
	}
	
	grd_polSplst.AutoEnter = true;
	
	f_setAgrmtPrdCd(div_search.cmb_dsNetCd.Value);
	
	uf_enableAgencyByAuth("div_search", "edt_agencyCdNm,edt_agencyCd,btn_agency","edt_agencyUkeyCd");
	
	div_adjust.edt_basicMny.Enable = false;
	
	cf_setParam(ds_condition,"ALLOT_SALE_PRC_ADJ",ALLOT_SALE_PRC_ADJ);

	div_adjust.edt_allotSalePrc.Enable = false;
}

/*******************************************************************************
* 함수명 : df_reSet
* 기능명 : 화면 초기화
*******************************************************************************/
function df_reSet(sArg)
{	
	cf_setGrdChecknSortEvent(grd_polSplst);	// 그리드 정렬
	// 권한 설정
	cf_setAuth(pFrmNum);
	
	cf_setArg2Param(sArg);
	
	http.Sync = true;

	if(uf_isNull(OPLST_ID) == true){ //신규버튼 클릭시
	
		f_set_init();
		
		f_getZPolC00040(); //장려금테이블의 세부판매유형 조회 
		
	}else{
	
		f_setSplstId(); // 검색조건 세팅
		
		f_getSaleTypCdMin();
		
		uf_ObjComponentEnable(div_search,false);
		
		div_search.btn_search.Enable = true;
		
	}
	
	if(COPY_FLAG == "Y"){ //참조가격표 리스트 더블 클릭시 기등록된 자료 조회 
		
		f_getCopySaleTypCdMin(); //판매가격표의 세부판매유형 조회
		
	}	
	
	http.Sync = false;
	
	cf_setParam(ds_condition,"RMKS"        ,RMKS);
	cf_setParam(ds_condition,"RJCT_RSN"    ,RJCT_RSN);	
	
	if(HIST_FLAG == "Y"){ //온라인소매가격표 종결된 가격표
		
		/*
		uf_ObjComponentEnable(div_search,false);
		
		uf_ObjComponentEnable(div_adjust,false);
		
		btn_mod.Enable = false;
		btn_approvalReq.Enable = false;
		btn_save.Enable = false;
		btn_delete.Enable = false;	
				
		div_search.btn_search.Enable = true;	
		btn_save.Enable = true;					
		*/
		f_setColorEdit();

		btn_approvalReq.Enable = true;
		btn_save.Enable = true;
		
		if(CRUD_FLAG == "Y"){ //종결되지 않은 가격표중에서도 최종 가격표만 정책변경/삭제 가능 
			if(NEW_FLAG == "Y"){ //신규버튼 클릭시에는 비활성화
				btn_mod.Enable = false;
				btn_delete.Enable = false;
			}else{
				btn_mod.Enable = true;
				btn_delete.Enable = true;				
			}
		}else{
			btn_mod.Enable = false;
			btn_delete.Enable = false;
		}
		
		//btn_mod.Enable = false;
		
	}else{
	
		f_setColorEdit();
		
		btn_approvalReq.Enable = true;
		btn_save.Enable = true;
		
		if(CRUD_FLAG == "Y"){ //종결되지 않은 가격표중에서도 최종 가격표만 정책변경/삭제 가능 
			if(NEW_FLAG == "Y"){ //신규버튼 클릭시에는 비활성화
				btn_mod.Enable = false;
				btn_delete.Enable = false;
			}else{
				btn_mod.Enable = true;
				btn_delete.Enable = true;				
			}
		}else{
			btn_mod.Enable = false;
			btn_delete.Enable = false;
		}
		
	}
	
	grd_polSplst.AutoEnter = true;
	
	f_setAgrmtPrdCd(div_search.cmb_dsNetCd.Value);
	
	uf_enableAgencyByAuth("div_search", "edt_agencyCdNm,edt_agencyCd,btn_agency","edt_agencyUkeyCd");
	
	div_adjust.edt_basicMny.Enable = false;
	
	cf_setParam(ds_condition,"ALLOT_SALE_PRC_ADJ",ALLOT_SALE_PRC_ADJ);

	div_adjust.edt_allotSalePrc.Enable = false;
}

/*******************************************************************************
* 함수명 : f_callBack 
* 기능명 : 트랜잭션 콜백 
* 파라미터
1. sSvcID  : 서비스 아이디
*******************************************************************************/
function f_callBack(sSvcID)
{
	
	if(sSvcID == "svcSearchSplstIdCnt"){
		
		return;
		
	}else if(sSvcID == "svcSearchZPolC"){
	
	   if(ds_zPolC.rowcount == 0) {
			alert(cf_getMessage(MSG_00137, "세부판매유형"));
	   }
	   
	   f_crteDataSet("ds_polSplstTmp"); //DATA SET 자동 생성

	   f_drawGrid(); // 온라인소매가격표 Grid 그리기
	   
	}else if(sSvcID == "svcSearchSaleTypCdMin"){
	
	   f_crteDataSet("ds_polSplstTmp"); //DATA SET 자동 생성

	   f_drawGrid(); // 온라인소매가격표 Grid 그리기
	   
	   if(EDIT_FLAG == "U"){
	   
			img_polChg.Visible = true;
			df_search();
			/*
			if(confirm(cf_getMessage(MSG_00136, "변경발생정책을 반영")) == 1){
				
				http.Sync = true;
				grd_polSplst.Redraw = false;
				
				df_search();
				
				ds_copyPolSplstTmp.Copy(ds_polSplstTmp); //부모 데이터셋 Copy
				ds_polSplstTmp.clearData();
				
				f_addPolicyPolSplstTmp();
				
				grd_polSplst.Redraw = true;
				http.Sync = false;
			}else{
				df_search();
			}
			*/
	   }else{
			img_polChg.Visible = false;
			df_search();
	  }
	   
	}else if(sSvcID == "svcSearchCopySaleTypCdMin"){
	
	   f_crteDataSet("ds_polSplstTmp"); //DATA SET 자동 생성

	   f_drawGrid(); // 도매가격표 Grid 그리기
	   
	   df_searchCopy();
	   
	}else if(sSvcID == "svcAddPolicyPolSplstTmp"){
	
		grd_polSplst.BindDataset = "ds_polSplstTmp";
		
		f_setOriginData(); //기존 데이터는 원상복귀 한다.
			
		f_setColorEdit();
				
		return;
		
	}else if(sSvcID == "svcCopyPolicyPolSplstTmp"){
	
		grd_polSplst.BindDataset = "ds_polSplstTmp";
		
		f_setCopyData(); //선택된 참조가격표의 데이터 세팅.
				
		return;
		
	}else if(sSvcID == "svcSearch"){
	
		grd_polSplst.BindDataset = "ds_polSplstTmp";
		return;
		
	}else if(sSvcID == "svcUpdateBounty"){
		
		if(NEW_FLAG == "N"){ //기 등록된 가격표 일 경우
			f_setOriginData(); //기존 데이터는 원상복귀 한다.
		}
		
		div_adjust_edt_allotSalePrc_OnKillFocus(div_adjust.edt_allotSalePrc);
		
		f_setColorEdit();
		
		return;
		
	}else if(sSvcID == "svcSearchCopy"){
	
		ds_copyPolSplstTmp.clearData();
		ds_copyPolSplstTmp.Copy(ds_polSplstTmp); //부모 데이터셋 Copy
		
		ds_polSplstTmp.clearData();
		f_copyPolicyPolSplstTmp();
		
		return;
		
	}else if(sSvcID == "svcAdd"){
	
		gf_movenCall("100000070","df_search");
		
		df_close();
		
	}else if(sSvcID == "svcUpdate"){
	
		gf_movenCall("100000070","df_search");
		
		df_close();
		
	}else if(sSvcID == "svcDelete"){
	
		gf_movenCall("100000070","df_search");
		
		df_close();
		
	}else if(sSvcID == "svcSplstKey"){
	
		if(ds_splstKey.rowcount > 0){
			alert(cf_getMessage(MSG_00130, "온라인소매가격표"));
			return false;
		}else{
			
			if(APRV_SAVE_FLAG == "Y"){
				if(confirm(cf_getMessage(MSG_00136, "새로운 적용년월에 온라인소매가격표를  등록 및 승인요청")) == 1){
					
					 sSvcID = "svcAdd";
					 sInDs = "ds_condition=ds_condition ds_zPolC=ds_zPolC ds_polSplstTmp=ds_polSplstTmp";
					 sOutDs = "";
					 sArg = "sktst.pol.OSP#addPolSplst";
					 cf_Transaction(sSvcID, sInDs, sOutDs, sArg, null, true, true);
				}
			}else{
				if(confirm(cf_getMessage(MSG_00136, "새로운 적용년월에 온라인소매가격표를  등록")) == 1){
					
					 sSvcID = "svcAdd";
					 sInDs = "ds_condition=ds_condition ds_zPolC=ds_zPolC ds_polSplstTmp=ds_polSplstTmp";
					 sOutDs = "";
					 sArg = "sktst.pol.OSP#addPolSplst";
					 cf_Transaction(sSvcID, sInDs, sOutDs, sArg, null, true, true);
				}				
			}
		}
		
	}
	
}

/*******************************************************************************
* 함수명 : f_crteDataSet
* 기능명 : DataSet 생성 
*******************************************************************************/
function f_crteDataSet(aDs)
{
   if( IsValidObject(object(aDs)) == false )  // 데이타셋이 존재하지 않을때만 생성
	{
		Create("Dataset", aDs);
		
		for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ )
		{
			object(aDs).AddColumn("PROD_CD");
			object(aDs).AddColumn("DEAL_CO_NM");
			object(aDs).AddColumn("PROD_NM");
			object(aDs).AddColumn("PROD_CHRTIC_1");
			object(aDs).AddColumn("PROD_CHRTIC_2");
			
			for( nRow = 1; nRow < 13; nRow++ )
			{
				object(aDs).AddColumn(ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_"+nRow);
			}
		}
   }
}

/*******************************************************************************
* 함수명 : f_drawGrid
* 기능명 : 온라인소매가격표 리스트 그리기 생성 
*******************************************************************************/
function f_drawGrid()
{
	var grdName = "grd_polSplst";
	
	var sContents = '<contents>\n';
		sContents += '<format id="Default">\n';

	var sContColums = '<columns>\n';
	    sContColums	+=	'<col fix="left" width="25"/>\n';
		sContColums	+=	'<col fix="left" width="35"/>\n';
		sContColums	+=	'<col fix="left" width="75"/>\n';
		sContColums	+=	'<col fix="left" width="35"/>\n';	
		sContColums	+=	'<col fix="left" width="35"/>\n';
			  		  
	for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ )
	{
		for( var nRow = 1; nRow < 13; nRow++ )
		{
			sContColums	+=	'<col width="65"/>\n';
		}
	}
	
	sContColums	+=	'</columns>\n';
	
	sContents = sContents + sContColums;
	
	var sContHeads = '<head>\n';
		sContHeads += '<cell bkcolor="user34" col="0" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" rowspan="3" text="No"/>\n';
		sContHeads += '<cell bkcolor="user34" col="1" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" rowspan="3" text="제조사"/>\n';
		sContHeads += '<cell bkcolor="user34" col="2" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" rowspan="3" text="모델"/>\n';
		sContHeads += '<cell bkcolor="user34" col="3" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" rowspan="3" text="상품&#10;특성1" wordwrap="exchar"/>\n';
		sContHeads += '<cell bkcolor="user34" col="4" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" rowspan="3" text="상품&#10;특성2" wordwrap="exchar"/>\n';

	var aColCnt = 5;
	var bColCnt = 0;
	var cColCnt = 0;
	var dColCnt = 0;
	var eColCnt = 0;
	var fColCnt = 0;
	var gColCnt = 0;
	var hColCnt = 0;
	var iColCnt = 0;
	var jColCnt = 0;
	var kColCnt = 0;
	var lColCnt = 0;
	
	for( nRow = 0; nRow < ds_zPolC.rowcount ; nRow++ ){
		
		var sHeadNm = ds_zPolC.GetColumn(nRow, "COMM_CD_VAL_NM");	
		
		bColCnt = aColCnt+1;
		cColCnt = bColCnt+1;
		dColCnt = cColCnt+1;
		eColCnt = dColCnt+1;
		fColCnt = eColCnt+1;
		gColCnt = fColCnt+1;
		hColCnt = gColCnt+1;
		iColCnt = hColCnt+1;
		jColCnt = iColCnt+1;
		kColCnt = jColCnt+1;
		lColCnt = kColCnt+1;
		
		sContHeads	+=	'<cell bkcolor="user34" col="'+aColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" colspan="12" display="text" text="'+sHeadNm+'"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+aColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="1" rowspan="2" text="기준&#10;할부가"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+kColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" colspan="2" display="text" row="1" text="목표손익"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+bColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="1" rowspan="2" text="확정할부가"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+cColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" colspan="2" display="text" row="1" text="목표장려금"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+eColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" colspan="2" display="text" row="1" text="판매원가"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+gColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" colspan="2" display="text" row="1" text="할인한도"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+iColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="1" rowspan="2" text="소매&#10;할부판매가"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+jColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="1" rowspan="2" text="현금판매가"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+kColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="2" text="할부"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+lColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="2" text="현금"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+cColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="2" text="할부"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+dColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="2" text="현금"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+eColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="2" text="할부"/>\n';
		sContHeads	+=	'<cell bkcolor="user34" col="'+fColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="2" text="현금"/>\n';		
		sContHeads	+=	'<cell bkcolor="user34" col="'+gColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="2" text="할부"/>\n';		
		sContHeads	+=	'<cell bkcolor="user34" col="'+hColCnt+'" FixedFont="돋움체,8" Font="돋움,8" color="user35" display="text" row="2" text="현금"/>\n';		
		aColCnt = aColCnt+12;
	}
	
	sContHeads	+=	'</head>\n';

	sContents = sContents + sContHeads;
	
	var nColor = "expr:decode(ds_polSplstTmp.getColumn(row,'CUD_FLAG'),'I','user28','')";
	
	var sContBodys = '<body>\n';
		sContBodys += '<cell col="0" FixedFont="돋움체,8" Font="돋움,8" align="right" display="text" expr="row+1"/>\n';
		sContBodys += '<cell col="1" FixedFont="돋움체,8" Font="돋움,8" colid="DEAL_CO_NM" color='+nColor+' align="left" display="text"/>\n';
		sContBodys += '<cell col="2" FixedFont="돋움체,8" Font="돋움,8" colid="PROD_NM" color='+nColor+' align="left" display="text"/>\n';
		sContBodys += '<cell col="3" FixedFont="돋움체,8" Font="돋움,8" colid="PROD_CHRTIC_1" color='+nColor+' align="left" display="text"/>\n';
		sContBodys += '<cell col="4" FixedFont="돋움체,8" Font="돋움,8" colid="PROD_CHRTIC_2" color='+nColor+' align="left" display="text"/>\n';
	
	var nColCnt = 5;
	
	for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ )
	{
		for( var nRow = 1; nRow < 13; nRow++ )
		{	
			var limit = "7";
			var sColId = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_"+nRow;
			var sColor = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_"+nRow+"Color";
			
			var bkSaleColor = "expr:decode(ds_polSplstTmp.getColumn(0,'RAD_ADJUST'),'01','user25','03','user25','')";
			var bkCashColor = "expr:decode(ds_polSplstTmp.getColumn(0,'RAD_ADJUST'),'02','user25','03','user25','')";
			var bkDefaultColor = "expr:decode(ds_polSplstTmp.getColumn(row,'PROD_NM'),null,'','user25')";
			
			var editSale = "expr:decode(ds_polSplstTmp.getColumn(0,'RAD_ADJUST'),'01','number','03','number','none')";
			var editCash = "expr:decode(ds_polSplstTmp.getColumn(0,'RAD_ADJUST'),'02','number','03','number','none')";
			
			var color = "expr:decode(ds_polSplstTmp.getColumn(row,'"+sColor+"'),'Y','user27','')";
			
			if(nRow == 1){
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'" color='+color+' display="number"/>\n';
				
			}else if(nRow == 2){ 
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'" bkcolor='+bkDefaultColor+' display="number" edit="number" limit='+limit+'/>\n';
				
			}else if(nRow == 3){ 
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'" color='+color+' display="number" edit="button" expandimage="btn_i_detail_b" expandshow="true" expandsize="19"/>\n';
				
			}else if(nRow == 4){ 
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'" color='+color+' display="number" edit="button" expandimage="btn_i_detail_b" expandshow="true" expandsize="19"/>\n';
				
			}else if(nRow == 5){
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'" display="number"/>\n';
				
			}else if(nRow == 6){
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'" display="number"/>\n';
				
			}else if(nRow == 7){
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'"  display="number"/>\n';
				
			}else if(nRow == 8){
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'"  display="number"/>\n';
				
			}else if(nRow == 9){
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'"  edit='+editSale+' bkcolor='+bkSaleColor+' display="number" limit='+limit+'/>\n';
				
			}else if(nRow == 10){
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'" edit='+editCash+' bkcolor='+bkCashColor+' display="number" limit='+limit+'/>\n';
				
			}else{
				
				sContBodys	+=	'<cell col="'+nColCnt+'" FixedFont="돋움체,8" Font="돋움,8" colid="'+sColId+'" display="number"/>\n';
				
			}
			
			nColCnt++;
		}
		
	}
	
	sContBodys	+=	'</body>\n';
	
	sContents = sContents + sContBodys;

	sContents		+= '</format>\n';
	sContents	+= '</contents>\n';

	var objGrid = object(grdName);
	
	objGrid.Contents = sContents;

}

/*******************************************************************************
* 함수명 : df_search
* 기능명 : 공통 조회 버튼 클릭
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function df_search(sButtonID)
{
	var sSvcID = "svcSearch";
	var sInDs = "ds_condition=ds_condition";
	var sOutDs = "ds_polSplstTmp=ds_polSplstTmp";
	var sArg = "sktst.pol.OSP#getPolSpLstDetail";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	
}

/*******************************************************************************
* 함수명 : df_searchCopy
* 기능명 : 참조가격표 선택시 온라인소매가격표 조회
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function df_searchCopy(sButtonID)
{
	var sSvcID = "svcSearchCopy";
	var sInDs = "ds_condition=ds_copyCondition";
	var sOutDs = "ds_polSplstTmp=ds_polSplstTmp";
	var sArg = "sktst.pol.OSP#getPolSpLstDetail";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	
}

/*******************************************************************************
* 함수명 : f_addPolicyPolSplstTmp
* 기능명 : 변경발생 정책 적용조회
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function f_addPolicyPolSplstTmp()
{
	var sSvcID = "svcAddPolicyPolSplstTmp";
	var sInDs = "ds_condition=ds_condition";
	var sOutDs = "ds_polSplstTmp=ds_polSplstTmp";
	var sArg = "sktst.pol.OSP#addPolicyPolSplstTmp";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	
}

/*******************************************************************************
* 함수명 : f_copyPolicyPolSplstTmp
* 기능명 : 참조가격표 이관 데이터 조회
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function f_copyPolicyPolSplstTmp()
{
	
	ds_condition.SetColumn(0,"OPLST_ID",ds_copyCondition.GetColumn(0,"OPLST_ID"));
	
	var sSvcID = "svcCopyPolicyPolSplstTmp";
	var sInDs = "ds_condition=ds_condition";
	var sOutDs = "ds_polSplstTmp=ds_polSplstTmp";
	var sArg = "sktst.pol.OSP#addPolicyPolSplstTmp";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	
}

/*******************************************************************************
* 함수명 : f_pre_save
* 기능명 : 저장버튼 전 체크함수 
*******************************************************************************/
function f_pre_save()
{
	if(uf_isNull(ds_condition.GetColumn(0,"ORG_ID")) == true){
		div_search.edt_agencyCdNm.SetFocus();
		alert(cf_getMessage(MSG_00135, "적용조직"));
		return false;
	}
		
	if(ds_polSplstTmp.rowcount < 1){
		alert(cf_getMessage(MSG_00134, "단말기"));
		return;
	}
	
	if(SAVE_FLAG == "N" && this.ds_condition.GetUpdate() == false && APRV_SAVE_FLAG == "N"){
		alert(MSG_00133); //변경사항이 없습니다.
		return;
	}
	
	if(length(div_search.edt_hour.Text) !=2 || div_search.edt_hour.Text > 24){
		alert(cf_getMessage(MSG_00135, "적용기간 시작시간"));
		div_search.edt_hour.SetFocus();
		return;
	}
	
	if(length(div_search.edt_min.Text) !=2 || div_search.edt_min.Text > 59){
		alert(cf_getMessage(MSG_00135, "적용기간 시작분"));
		div_search.edt_min.SetFocus();
		return;
	}
	
    return true;
}

/*******************************************************************************
 * @description    : 공통 저장 함수
*******************************************************************************/
function df_save()
{
	
	cf_CheckCloseMnth('04',ds_condition.getColumn(0,"APLY_STA_DTM"),'적용기간');
	if(FV_BOOLEAN_CLOSE) return;
	
	APRV_SAVE_FLAG = "N";
	cf_setParam(ds_condition,"APRV_ST", "04"); //미승인
	
	if (!(f_pre_save())) return;
	
	var sSvcID = "";
	var sInDs = "";
	var sOutDs = "";
	var sArg = "";
	
	if(PRE_APLY_STA_DTM == replace(div_search.cal_aplyStaDtm.Text,'-','')
	                       + div_search.edt_hour.Text
	                       + div_search.edt_min.Text)
	{
		
		if(confirm(cf_getMessage(MSG_00136, "온라인소매가격표를 소급변경")) == 1){
			 sSvcID = "svcUpdate";
			 sInDs = "ds_condition=ds_condition ds_zPolC=ds_zPolC ds_polSplstTmp=ds_polSplstTmp";
			 sOutDs = "ds_polSplstTmp=ds_polSplstTmp";
			 sArg = "sktst.pol.OSP#savePolSplst";
			 cf_Transaction(sSvcID, sInDs, sOutDs, sArg, null, true, true);
		}
		
	}
	else
	{
		if(uf_isNull(OPLST_ID) == true){ //신규버튼 클릭시
			
			f_dupSplstKey(); //중복된 key 온라인소매가격표 확인
			
		}else{
			
			if(confirm(cf_getMessage(MSG_00136, "새로운 적용년월에 온라인소매가격표를  등록")) == 1){
				
				 sSvcID = "svcAdd";
				 sInDs = "ds_condition=ds_condition ds_zPolC=ds_zPolC ds_polSplstTmp=ds_polSplstTmp";
				 sOutDs = "";
				 sArg = "sktst.pol.OSP#addPolSplst";
				 cf_Transaction(sSvcID, sInDs, sOutDs, sArg, null, true, true);
			}
		}
	}
	
}

/*******************************************************************************
* 함수명 : f_pre_aprv
* 기능명 : 승인요청 전 체크함수 
*******************************************************************************/
function f_pre_aprv()
{
	/*
	if(APRV_ST == "01"){
		alert(cf_getMessage(MSG_00138, "승인요청된 온라인소매가격표"));
		return;
	}
	
	if(APRV_ST == "03"){
		alert(cf_getMessage(MSG_00138, "승인된 온라인소매가격표"));
		return;
	}
	*/
    return true;
}

/*******************************************************************************
 * @description    : 승인요청버튼 클릭시
*******************************************************************************/
function btn_approvalReq_OnClick(obj)
{
	cf_CheckCloseMnth('04',ds_condition.getColumn(0,"APLY_STA_DTM"),'적용기간');
	if(FV_BOOLEAN_CLOSE) return;
	
	APRV_SAVE_FLAG = "Y";
	cf_setParam(ds_condition,"APRV_ST", "01"); //승인요청중
	
	if (!(f_pre_save())) return;
	
	if (!(f_pre_aprv())) return;
	
	var sSvcID = "";
	var sInDs = "";
	var sOutDs = "";
	var sArg = "";
	
	if(PRE_APLY_STA_DTM == replace(div_search.cal_aplyStaDtm.Text,'-','')
	                       + div_search.edt_hour.Text
	                       + div_search.edt_min.Text)
	{
		
		if(confirm(cf_getMessage(MSG_00136, "온라인소매가격표를 소급변경 및 승인요청")) == 1){
			sSvcID = "svcUpdate";
			sInDs = "ds_condition=ds_condition ds_zPolC=ds_zPolC ds_polSplstTmp=ds_polSplstTmp";
			sOutDs = "ds_polSplstTmp=ds_polSplstTmp";
			sArg = "sktst.pol.OSP#savePolSplst";
			cf_Transaction(sSvcID, sInDs, sOutDs, sArg, null, true, true);
		}
		
	}
	else
	{
		if(uf_isNull(OPLST_ID) == true){ //신규버튼 클릭시
			
			f_dupSplstKey(); //중복된 key 온라인소매가격표 확인
			
		}else{
			
			if(confirm(cf_getMessage(MSG_00136, "새로운 적용년월에 온라인소매가격표를  등록 및 승인요청")) == 1){
				sSvcID = "svcAdd";
				sInDs = "ds_condition=ds_condition ds_zPolC=ds_zPolC ds_polSplstTmp=ds_polSplstTmp";
				sOutDs = "";
				sArg = "sktst.pol.OSP#addPolSplst";
				cf_Transaction(sSvcID, sInDs, sOutDs, sArg, null, true, true);
			}
		}
	}
	
}

/*******************************************************************************
* 함수명 : f_pre_save
* 기능명 : 저장버튼 전 체크함수 
*******************************************************************************/
function f_pre_delete()
{
	
	if(NEW_FLAG == "Y"){
		alert(cf_getMessage(MSG_00138, "신규등록 화면"));
		return false;
	}
	
	if(ds_polSplstTmp.rowcount < 1){
		return false;
	}
	
	if(HIST_FLAG == "Y"){
		alert(cf_getMessage(MSG_00138, "종결된 온라인소매가격표"));
		return false;
	}
	
	
	if(CRUD_FLAG != "Y"){
		alert(cf_getMessage(MSG_00130, "최종 온라인소매가격표"));
		return false;
	}
	
    return true;
}

/*******************************************************************************
* 함수명 : df_delete
* 기능명 : 공통 수정 버튼 클릭
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function df_delete(sButtonID)
{
	
	cf_CheckCloseMnth('04',ds_condition.getColumn(0,"APLY_STA_DTM"),'적용기간');
	if(FV_BOOLEAN_CLOSE) return;
	
	if (!(f_pre_delete())) return;
	
	var sSvcID = "";
	var sInDs = "";
	var sOutDs = "";
	var sArg = "";
	
	if(confirm(cf_getMessage(MSG_00136, "온라인소매가격표를 삭제")) == 1){
	
		var sArg  = "APLY_YM="+quote(div_search.cal_polYm.Value);
        sArg += " DEAL_CO_NM=" + quote(ds_condition.getColumn(0,"DEAL_CO_NM")); 
        sArg += " SL_NET_CD=" + quote(div_search.cmb_slNetCd.Text);
        sArg += " DS_NET_CD=" + quote(div_search.cmb_dsNetCd.Text); 
        sArg += " SALE_TYP_CD_MAX=" + quote(div_search.cmb_salePtn.Text); 
        sArg += " AGRMT_PRD_CD=" + quote(div_search.cmb_agrmtPrdCd.Text); 
	    
		var rtn = dialog("POL::POLRSP00700.xml", sArg, 336, 128);
		
		if(rtn == "1"){
		
			ds_condition.AddColumn("PLST_ID");
			ds_condition.SetColumn(0,"PLST_ID",OPLST_ID);
			ds_condition.SetColumn(0,"APLY_YM",APLY_YM);
			ds_condition.SetColumn(0,"ORG_ID",ORG_ID);
			ds_condition.SetColumn(0,"SL_NET_CD",SL_NET_CD);
			ds_condition.SetColumn(0,"DS_NET_CD",DS_NET_CD);
			ds_condition.SetColumn(0,"AGRMT_PRD_CD",AGRMT_PRD_CD);
			ds_condition.SetColumn(0,"SALE_TYP_CD_MAX",SALE_TYP_CD_MAX);
			
			sSvcID = "svcDelete";
			sInDs = "nc_input_fieldDs=ds_condition";
			sOutDs = "";
			sArg = "sktst.pol.OSP#deletePolSplst";
			cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
			
		}else{
		
			return;
			
		}
	}
	
}

/*******************************************************************************
* 함수명 : btn_mod_OnClick
* 기능명 : 정책변경 버튼 
*******************************************************************************/
function btn_mod_OnClick(obj)
{	
	var sArg = " APLY_STA_DTM=" + quote(substr(PRE_APLY_STA_DTM,0,8));
		sArg += " HOUR=" + quote(substr(PRE_APLY_STA_DTM,8,2));
		sArg += " MIN=" + quote(substr(PRE_APLY_STA_DTM,10,2));
		sArg += " APLY_END_DTM=" + quote(ds_condition.getColumn(0,"APLY_END_DTM"));
		sArg += " END_HOUR=" + quote(ds_condition.getColumn(0,"END_HOUR"));
		sArg += " END_MIN=" + quote(ds_condition.getColumn(0,"END_MIN"));
		sArg += " MOD_FLAG=" + quote('N');
		
	
	var rtn = dialog("POL::POLRSP00800.xml", sArg, 336, 128);
	
	if(rtn == 1){
	
		if(confirm(cf_getMessage(MSG_00136, "새로운 온라인소매가격표를 등록")) == 1){
		
			ds_polSplstTmp.Reset(); //정책변경시에는 초기가격표 그대로 복원한다.
			
			div_search_btn_search_OnClick();
			
		}else{
		
			cf_setParam(ds_condition,"APLY_STA_DTM"  ,substr(PRE_APLY_STA_DTM,0,8));
			cf_setParam(ds_condition,"HOUR"          ,substr(PRE_APLY_STA_DTM,8,2));
			cf_setParam(ds_condition,"MIN"         	 ,substr(PRE_APLY_STA_DTM,10,2));
	
		}
	
	}
	
}

/*******************************************************************************
* 함수명 : df_update
* 기능명 : 공통 수정 버튼 클릭
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function df_update(sButtonID)
{

}

/*******************************************************************************
* 함수명 : df_close
* 기능명 : 화면 종료
*******************************************************************************/
function df_close(sButtonID)
{
	this.close();
}

/*******************************************************************************
* 함수명 : f_getZPolC00040
* 기능명 : 장려금의 세부판매유형 코드 조회
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function f_getZPolC00040()
{
	var sSvcID = "svcSearchZPolC";
	var sInDs = "nc_input_fieldDs=ds_condition";
	var sOutDs = "ds_zPolC=ds_zPolC";
	var sArg = "sktst.pol.OSP#getZpolC";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
* 함수명 : f_getSaleTypCdMin
* 기능명 : 판매가격표의 세부판매유형 코드 조회
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function f_getSaleTypCdMin()
{
	ds_condition.SetColumn(0,"OPLST_ID",OPLST_ID);
	
	var sSvcID = "svcSearchSaleTypCdMin";
	var sInDs = "nc_input_fieldDs=ds_condition";
	var sOutDs = "ds_zPolC=ds_zPolC";
	var sArg = "sktst.pol.OSP#getSaleTypCdMin";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
* 함수명 : f_getCopySaleTypCdMin
* 기능명 : 판매가격표의 세부판매유형 코드 조회
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function f_getCopySaleTypCdMin()
{
	var sSvcID = "svcSearchCopySaleTypCdMin";
	var sInDs = "nc_input_fieldDs=ds_copyCondition";
	var sOutDs = "ds_zPolC=ds_zPolC";
	var sArg = "sktst.pol.OSP#getSaleTypCdMin";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
* 함수명 : f_dupSplstKey
* 기능명 : 판매가격표의 등록여부 key 체크
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function f_dupSplstKey()
{
	ds_splstKey.ClearData();
		
	var sSvcID = "svcSplstKey";
	var sInDs = "nc_input_fieldDs=ds_Condition";
	var sOutDs = "ds_splstKey=ds_splstKey";
	var sArg = "sktst.pol.OSP#getSplstKey";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
* 함수명 : f_setBounty
* 기능명 : 세부판매유형 코드 조회
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function f_setBounty()
{
	var sSvcID = "svcUpdateBounty";
	var sInDs = "ds_condition=ds_condition";
	var sOutDs = "ds_polSplstTmp=ds_polSplstTmp";
	var sArg = "sktst.pol.OSP#updatePolTemp";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg, "", true, true);
}


/*******************************************************************************
* 함수명 : div_search_btn_search_OnClick
* 기능명 :  모델선택버튼 OnClick 이벤트 발생
*******************************************************************************/
function div_search_btn_search_OnClick(obj)
{
	
	if(uf_isNull(ds_condition.GetColumn(0,"ORG_ID")) == true){
		alert(cf_getMessage(MSG_00135, "적용조직"));
		div_search_btn_agency_OnClick();
		return false;
	}
	
	ds_CopyAdptProdMgmt.ClearData();
			
	for( var idx=0 ; idx<ds_polSplstTmp.rowcount; idx++ ){
	
		ds_CopyAdptProdMgmt.addrow();
		
		ds_CopyAdptProdMgmt.setColumn(ds_CopyAdptProdMgmt.lastrow,"PROD_CD",ds_polSplstTmp.GetColumn(idx,"PROD_CD"));
		ds_CopyAdptProdMgmt.setColumn(ds_CopyAdptProdMgmt.lastrow,"PROD_NM",ds_polSplstTmp.GetColumn(idx,"PROD_NM"));
		ds_CopyAdptProdMgmt.setColumn(ds_CopyAdptProdMgmt.lastrow,"DEAL_CO_NM",ds_polSplstTmp.GetColumn(idx,"DEAL_CO_NM"));
		ds_CopyAdptProdMgmt.setColumn(ds_CopyAdptProdMgmt.lastrow,"PROD_CHRTIC_1",ds_polSplstTmp.GetColumn(idx,"PROD_CHRTIC_1"));
		ds_CopyAdptProdMgmt.setColumn(ds_CopyAdptProdMgmt.lastrow,"PROD_CHRTIC_2",ds_polSplstTmp.GetColumn(idx,"PROD_CHRTIC_2"));
	
	}	
	
	var sArg  = "APLY_YM="+quote(div_search.cal_polYm.Value);
        sArg += " SALE_TYP_CD_MAX=" + quote(ds_condition.getColumn(0,"SALE_TYP_CD_MAX")); 
        sArg += " ORG_ID=" + quote(ds_condition.getColumn(0,"ORG_ID"));
        sArg += " SL_NET_CD=" + quote(div_search.cmb_slNetCd.Value);
        sArg += " DS_NET_CD=" + quote(div_search.cmb_dsNetCd.Value); 
        sArg += " AGRMT_PRD_CD=" + quote(div_search.cmb_agrmtPrdCd.Value); 
        sArg += " APLY_STA_DTM=" + quote(ds_condition.getColumn(0,"APLY_STA_DTM"));
	    sArg += " HOUR=" + quote(ds_condition.getColumn(0,"HOUR")); 
	    sArg += " MIN=" + quote(ds_condition.getColumn(0,"MIN"));
	    
	var rtn = dialog("POL::POLOSP00210.xml", sArg, 336, 128);
	
	grd_polSplst.bindDataset = "";
	grd_polSplst.bindDataset = "ds_polSplstTmp";
	
	f_reSetAdjust(); //조정기준 초기화
		
	SAVE_FLAG = "Y";

	if(rtn == "1"){
	
		f_setBounty();// 모델별 장려금 세팅
	
	}
	
}

/*******************************************************************************
* 함수명 : grd_polSplst_OnExpandUp
* 기능명 :  온라인소매가격표 리스트 등록 할부/현금 팝업 호출
*******************************************************************************/
function grd_polSplst_OnExpandUp(obj,nRow,nCell,strVal,nPivotIndex)
{
	var sArg = "";
	var ALLOT_PAY_INCLD_YN = "";
	
	if( grd_polSplst.GetCellProp("body",nCell,"expandshow") == true){//expandshow
		
		var SALE_TYP_CD_MIN = substr(grd_polSplst.GetCellProp("body",nCell,"ColId"),0,6);
		
		if(substr(grd_polSplst.GetCellProp("body",nCell,"ColId"),7,1) == "3"){
			ALLOT_PAY_INCLD_YN = "A";
		}else{
			ALLOT_PAY_INCLD_YN = "C";	
		}

		sArg = "PROD_CD="+quote(ds_polSplstTmp.getColumn(nRow,"PROD_CD"));
		sArg += " APLY_YM="+quote(div_search.cal_polYm.Value);
		sArg += " SALE_TYP_CD_MIN="+quote(SALE_TYP_CD_MIN);
		sArg += " ALLOT_PAY_INCLD_YN="+quote(ALLOT_PAY_INCLD_YN);
		sArg += " APLY_STA_DTM="+quote(ds_condition.GetColumn(0,"APLY_STA_DTM"));
		sArg += " HOUR="+quote(ds_condition.GetColumn(0,"HOUR"));
		sArg += " MIN="+quote(ds_condition.GetColumn(0,"MIN"));
		sArg += " APLY_END_DTM="+quote(ds_condition.GetColumn(0,"APLY_END_DTM"));
		sArg += " END_HOUR="+quote(ds_condition.GetColumn(0,"END_HOUR"));
		sArg += " END_MIN="+quote(ds_condition.GetColumn(0,"END_MIN"));
		sArg += " ORG_ID="+quote(ds_condition.GetColumn(0,"ORG_ID"));
		sArg += " SL_NET_CD="+quote(ds_condition.GetColumn(0,"SL_NET_CD"));
		sArg += " DS_NET_CD="+quote(ds_condition.GetColumn(0,"DS_NET_CD"));
		sArg += " AGRMT_PRD_CD="+quote(ds_condition.GetColumn(0,"AGRMT_PRD_CD"));
		
		dialog("POL::POLOSP00220.xml", sArg, 336, 128);
	}
}

/*******************************************************************************
* 함수명 : div_search_cmb_dsNetCd_OnChanged
* 기능명 :  유통망 OnChanged 이벤트 발생
*******************************************************************************/
function div_search_cmb_dsNetCd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	ds_polSplstTmp.FireEvent  = false;
	ds_polSplstTmp.Clear();
	grd_polSplst.BindDataset = "ds_polSplstTmp";
	ds_polSplstTmp.FireEvent  = true;
	
	f_setAgrmtPrdCd(strCode);
	
}

/*******************************************************************************
* 함수명 : div_search_cmb_slNetCd_OnChanged
* 기능명 :  영업망 OnChanged 이벤트 발생
*******************************************************************************/
function div_search_cmb_slNetCd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	ds_polSplstTmp.FireEvent  = false;
	ds_polSplstTmp.Clear();
	grd_polSplst.BindDataset = "ds_polSplstTmp";
	ds_polSplstTmp.FireEvent  = true;
	
}

/*******************************************************************************
* 함수명 : div_search_cmb_salePtn_OnChanged
* 기능명 :  판매유형변경시 그리드 초기화
*******************************************************************************/
function div_search_cmb_salePtn_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{

	if(strCode == "S30000"){
		obj.Index = nOldIndex;
		alert(cf_getMessage(MSG_00023, "중고판매유형은 "));
		return false;
	}
	
	ds_polSplstTmp.FireEvent  = false;
	ds_polSplstTmp.Clear();
	grd_polSplst.BindDataset = "ds_polSplstTmp";
	ds_polSplstTmp.FireEvent  = true;
	
	http.Sync = true;
	
	f_getZPolC00040(); //세부판매유형 조회 
	
	div_search_btn_saleTypCdMin_OnClick();
	
	http.Sync = false;
	
	div_search.btn_search.SetFocus();
	
}

/*******************************************************************************
* 함수명 : div_search_cmb_agrmtPrdCd_OnChanged
* 기능명 :  약정보조금 OnChanged 이벤트 발생
*******************************************************************************/
function div_search_cmb_agrmtPrdCd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	ds_polSplstTmp.FireEvent  = false;
	ds_polSplstTmp.Clear();
	grd_polSplst.BindDataset = "ds_polSplstTmp";
	ds_polSplstTmp.FireEvent  = true;
}

/*******************************************************************************
* 함수명 : f_setNewData
* 기능명 : 소매가격표 원본 데이터 복구 해제
*******************************************************************************/
function f_setNewData()
{	
	for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ ){
	
		var UPLST_SALE_STARD_COLUMN = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_1";
		var UPLST_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_2";
		var IPOL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_3";
		var IPOL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_4";
		var ORG_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_5";
		var ORG_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_6";
		var SALE_ALLOT_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_7";
		var SALE_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_8";
		var SALE_ALLOT_RET_COLUMN 	= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_9";
		var CASH_COLUMN 			= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_10";
		var GOAL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_11";
		var GOAL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_12";
			
		for( var idx=0 ; idx<ds_polSplstTmp.rowcount; idx++ ){
			
			SAVE_FLAG = "Y";

			var GOAL_SALE = toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_SALE_COLUMN)) - 
							toNumber(ds_polSplstTmp.GetColumn(idx,SALE_ALLOT_COLUMN)) +
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_COLUMN)) -
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN));
							
			ds_polSplstTmp.SetColumn(idx,GOAL_SALE_COLUMN,GOAL_SALE);
			
			var GOAL_CASH = toNumber(ds_polSplstTmp.GetColumn(idx,CASH_COLUMN)) - 
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN)) + 
							toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_CASH_COLUMN)); 
		                
			ds_polSplstTmp.SetColumn(idx,GOAL_CASH_COLUMN,GOAL_CASH);			
			
		}
	}
}

/*******************************************************************************
* 함수명 : f_reCalculate
* 기능명 : 기본손익/절사단위/금액가감 계산
*******************************************************************************/
function f_reCalculate(obj)
{
	ds_polSplstTmp.FireEvent = false;
	div_adjust.Enable = false;
	grd_polSplst.Redraw = false;
		
	f_setNewData(); //원본 데이터 복구 해제
	
	if(obj.id == "edt_basicMny"){
		f_basicMny();
		obj.Value = "0";
	}
	
	if(obj.id == "cmb_cutUnit"){
		if(obj.Value != ""){
			f_cutUnit(obj.Value);
			obj.index = 0;
		}
	}

	if(obj.id == "cmb_money" || obj.id == "edt_money"){
		if(obj.id == "cmb_money"){
			if(obj.Value != ""){
				if(uf_isNull(div_adjust.edt_money.Value) == false ){
					f_money();
				}
			}
		}else{
			f_money();
			obj.Value = "0";
		}
	}
	
	grd_polSplst.Redraw = true;
	div_adjust.Enable = true;
	ds_polSplstTmp.FireEvent = true;
}

/*******************************************************************************
* 함수명 : div_adjust_edt_money_OnClick
* 기능명 : 금액가감 OnClick 이벤트 발생시
*******************************************************************************/
function div_adjust_edt_money_OnClick(obj,objDragObj,nX,nY)
{
	if(div_adjust.cmb_money.Value == ""){
		alert(cf_getMessage(MSG_00047, "금액가감"));
		div_adjust.cmb_money.SetFocus();
		return false;
	}
}

/*******************************************************************************
* 함수명 : div_adjust_rad_adjtBasic_OnChanged
* 기능명 : 조정기준 CheckBox Event 발생시 처리
*******************************************************************************/
function div_adjust_rad_adjtBasic_OnChanged(obj,strValue)
{	
	grd_polSplst.Redraw = false;
	ds_polSplstTmp.FireEvent = false;
	
	if(strValue == '03'){
		div_adjust.cmb_money.Enable = false;
		div_adjust.edt_money.Enable = false;
	}else{
		div_adjust.cmb_money.Enable = true;
		div_adjust.edt_money.Enable = true;		
	}
	
	for( nRow = 0; nRow < ds_polSplstTmp.rowcount ; nRow++ ){
		ds_polSplstTmp.SetColumn(nRow,"RAD_ADJUST",strValue);
	}
	
	ds_polSplstTmp.FireEvent = true;
	grd_polSplst.Redraw = true;
}

/*******************************************************************************
* 함수명 : div_adjust_edt_basicMny_OnKillFocus
* 기능명 : 기본손익 OnKillFocus Event 발생시 처리
*******************************************************************************/
function div_adjust_edt_basicMny_OnKillFocus(obj)
{
	div_adjust.Enable = false;
	grd_polSplst.Redraw = false;
	
	f_reCalculate(obj);
	
	grd_polSplst.Redraw = true;
	div_adjust.Enable = true;
}

/*******************************************************************************
* 함수명 : div_adjust_cmb_cutUnit_OnChanged
* 기능명 : 절사단위 콤보 OnChanged 이벤트 발생시
*******************************************************************************/
function div_adjust_cmb_cutUnit_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{	
	div_adjust.Enable = false;
	grd_polSplst.Redraw = false;
	
	f_reCalculate(obj);
	
	grd_polSplst.Redraw = true;
	div_adjust.Enable = true;
	
}

/*******************************************************************************
* 함수명 : div_adjust_cmb_money_OnChanged
* 기능명 : 금액가감 콤보 OnChanged 이벤트 발생시
*******************************************************************************/
function div_adjust_cmb_money_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{

	if(strCode == ""){
		div_adjust.edt_money.Value = "";
		div_adjust.edt_money.MaxLength = 7;
		div_adjust.stc_money.Text = "%(원)";
	}else if(strCode == "01"){
		div_adjust.edt_money.Value = "";
		div_adjust.edt_money.MaxLength = 7;
		div_adjust.stc_money.Text = "원";
	}else if(strCode == "02"){
		div_adjust.edt_money.Value = "";
		div_adjust.edt_money.MaxLength = 3;
		div_adjust.stc_money.Text = "%";
	}
	
	grd_polSplst.Redraw = false;
	f_reCalculate(obj);
	grd_polSplst.Redraw = true;
}

/*******************************************************************************
* 함수명 : div_adjust_edt_money_OnKillFocus
* 기능명 : 금액가감 OnKillFocus 이벤트 발생시
*******************************************************************************/
function div_adjust_edt_money_OnKillFocus(obj)
{	
	f_reCalculate(obj);
}

/*******************************************************************************
* 함수명 : f_basicMny
* 기능명 : 기본손익 OnKillFocus Event 발생시 처리
* DESC : 조정기준 판매수수료 선택시 => 현금판매가 =  할부판매가 - 판매수수료
                                       판매수수료 =  할부장려금 -기본손익
         조정기준 현금판매가 선택시 => 현금판매가 = 할부판매가 - 현금장려금 +기본손익
                                       판매수수료 = 할부판매가 - 현금판매가
         조정기준 동시조정  선택시 => 현금판매가 = 할부판매가 - 현금장려금 +기본손익
                                      판매수수료 = 할부장려금 -기본손익 
         목표손익할부 => 목표장려금 할부 - 할인 한도
         목표손익현금 => 현금판매가 - ( 할부판매가 - 현금 장려금)
*******************************************************************************/
function f_basicMny(obj)
{	/*
	var FIX_STRD_SALE_PRC = 0;
	var FIX_STRD_CASH_PRC = 0;
	
	for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ ){
	
		var UPLST_SALE_STARD_COLUMN = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_1";
		var UPLST_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_2";
		var IPOL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_3";
		var IPOL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_4";
		var ORG_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_5";
		var ORG_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_6";
		var SALE_ALLOT_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_7";
		var SALE_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_8";
		var SALE_ALLOT_RET_COLUMN 	= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_9";
		var CASH_COLUMN 			= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_10";
		var GOAL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_11";
		var GOAL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_12";
			
		for( var idx=0 ; idx<ds_polSplstTmp.rowcount; idx++ ){
			
			if(div_adjust.rad_adjtBasic.Value == "01"){ //조정기준(판매수수료)선택시
				
				SAVE_FLAG = "Y";
				ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_COLUMN)) - 
				                                               toNumber(div_adjust.edt_basicMny.Value));
				ds_polSplstTmp.SetColumn(idx,CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) -
				                                         toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_COLUMN)));
				ds_polSplstTmp.SetColumn(idx,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) - 
				                                              toNumber(toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN))));
				
			}else if(div_adjust.rad_adjtBasic.Value == "02"){ //조정기준(현금판매가)선택시
				
				SAVE_FLAG = "Y";
				ds_polSplstTmp.SetColumn(idx,CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)) +
														 toNumber(div_adjust.edt_basicMny.Value));
				ds_polSplstTmp.SetColumn(idx,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) - 
				                                              toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)));
				ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_COLUMN)) - 
				                                              toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)));                                              
			}else if(div_adjust.rad_adjtBasic.Value == "03"){ //조정기준(동시조정)선택시
				
				SAVE_FLAG = "Y";
				ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_COLUMN)) - 
				                                               toNumber(div_adjust.edt_basicMny.Value));
				ds_polSplstTmp.SetColumn(idx,CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)) +
														 toNumber(div_adjust.edt_basicMny.Value));
				ds_polSplstTmp.SetColumn(idx,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) - 
				                                              toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)));
			}
			
			var GOAL_SALE = toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_SALE_COLUMN)) - 
							toNumber(ds_polSplstTmp.GetColumn(idx,SALE_ALLOT_COLUMN)) +
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_COLUMN)) -
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN));
							
			ds_polSplstTmp.SetColumn(idx,GOAL_SALE_COLUMN,GOAL_SALE);
			
			var GOAL_CASH = toNumber(ds_polSplstTmp.GetColumn(idx,CASH_COLUMN)) - 
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN)) + 
							toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_CASH_COLUMN)); 
		                
			ds_polSplstTmp.SetColumn(idx,GOAL_CASH_COLUMN,GOAL_CASH);
			
		}
	}*/

}

/*******************************************************************************
* 함수명 : div_adjust_cmb_cutUnit_OnChanged
* 기능명 : 절사단위 콤보 OnChanged 이벤트 발생시
* DESC : 1000 원= 올림
        5000D원= 1~2499 올림 2500~4999 올림 5000~7500 올림 7500~9999 올림
        10000DNJS = 올림
*******************************************************************************/
function f_cutUnit(strCode)
{
	var FIX_STRD_SALE_ALLOT_RET_PRC = 0;
	var FIX_STRD_CASH_PRC = 0;
	
	for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ ){

		var UPLST_SALE_STARD_COLUMN = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_1";
		var UPLST_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_2";
		var IPOL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_3";
		var IPOL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_4";
		var ORG_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_5";
		var ORG_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_6";
		var SALE_ALLOT_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_7";
		var SALE_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_8";
		var SALE_ALLOT_RET_COLUMN 	= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_9";
		var CASH_COLUMN 			= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_10";
		var GOAL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_11";
		var GOAL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_12";
		
		for( var idx=0 ; idx<ds_polSplstTmp.rowcount; idx++ ){
				
			SAVE_FLAG = "Y";
			
			FIX_STRD_SALE_ALLOT_RET_PRC = toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN));
			FIX_STRD_CASH_PRC = toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN));
			var CUT_PRC = 0;
			var CUT_PRC_SALE = 0;
			var CUT_PRC_CASH = 0;
			
			if(strCode == ""){ //선택 선택시
				return false;
			}else if(strCode == "01"){ //1000원 선택시
				if(div_adjust.rad_adjtBasic.Value == "01"){ //조정기준(판매수수료)선택시
					CUT_PRC = round(FIX_STRD_SALE_ALLOT_RET_PRC/1000)*1000;
					/*
					if(length(toString(replace(FIX_STRD_SALE_ALLOT_RET_PRC,'-',''))) > 3){
						CUT_PRC = ceil(FIX_STRD_SALE_ALLOT_RET_PRC/1000)*1000;
					}else{
						if( FIX_STRD_SALE_ALLOT_RET_PRC > 0){
							CUT_PRC = 1000;
						}else{
							CUT_PRC = 0;
						}
					}
					*/
				}else if(div_adjust.rad_adjtBasic.Value == "02"){ //조정기준(현금판매가)선택시
					CUT_PRC = round(FIX_STRD_CASH_PRC/1000)*1000;
					/*
					if(length(toString(replace(FIX_STRD_CASH_PRC,'-',''))) > 3){
						CUT_PRC = ceil(FIX_STRD_CASH_PRC/1000)*1000;
					}else{
						if( FIX_STRD_CASH_PRC > 0){
							CUT_PRC = 1000;
						}else{
							CUT_PRC = 0;
						}
					}	
					*/			
				}else if(div_adjust.rad_adjtBasic.Value == "03"){ //조정기준(동시조정)선택시
					CUT_PRC_SALE = round(FIX_STRD_SALE_ALLOT_RET_PRC/1000)*1000;
					/*
					if(length(toString(replace(FIX_STRD_SALE_ALLOT_RET_PRC,'-',''))) > 3){
						CUT_PRC_SALE = ceil(FIX_STRD_SALE_ALLOT_RET_PRC/1000)*1000;
					}else{
						if( FIX_STRD_SALE_ALLOT_RET_PRC > 0){
							CUT_PRC_SALE = 1000;
						}else{
							CUT_PRC_SALE = 0;
						}
					}
					*/	
					CUT_PRC_CASH = round(FIX_STRD_CASH_PRC/1000)*1000;
					/*				
					if(length(toString(replace(FIX_STRD_CASH_PRC,'-',''))) > 3){
						CUT_PRC_CASH = ceil(FIX_STRD_CASH_PRC/1000)*1000;
					}else{
						if( FIX_STRD_CASH_PRC > 0){
							CUT_PRC_CASH = 1000;
						}else{
							CUT_PRC_CASH = 0;
						}
					}
					*/
				}
			}else if(strCode == "02"){ //10000원 선택시
				if(div_adjust.rad_adjtBasic.Value == "01"){ //조정기준(판매수수료)선택시
					CUT_PRC = round(FIX_STRD_SALE_ALLOT_RET_PRC/10000)*10000;
					/*
					if(length(toString(replace(FIX_STRD_SALE_ALLOT_RET_PRC,'-',''))) > 4){
						CUT_PRC = ceil(FIX_STRD_SALE_ALLOT_RET_PRC/10000)*10000;
					}else{
						if( FIX_STRD_SALE_ALLOT_RET_PRC > 0){
							CUT_PRC = 10000;
						}else{
							CUT_PRC = 0;
						}
					}
					*/
				}else if(div_adjust.rad_adjtBasic.Value == "02"){ //조정기준(현금판매가)선택시
					CUT_PRC = round(FIX_STRD_CASH_PRC/10000)*10000;
					/*
					if(length(toString(replace(FIX_STRD_CASH_PRC,'-',''))) > 4){
						CUT_PRC = ceil(FIX_STRD_CASH_PRC/10000)*10000;
					}else{
						if( FIX_STRD_CASH_PRC > 0){
							CUT_PRC = 10000;
						}else{
							CUT_PRC = 0;
						}
					}
					*/
				}else if(div_adjust.rad_adjtBasic.Value == "03"){ //조정기준(동시조정)선택시
					CUT_PRC_SALE = round(FIX_STRD_SALE_ALLOT_RET_PRC/10000)*10000;
					/*
					if(length(toString(replace(FIX_STRD_SALE_ALLOT_RET_PRC,'-',''))) > 4){
						CUT_PRC_SALE = ceil(FIX_STRD_SALE_ALLOT_RET_PRC/10000)*10000;
					}else{
						if( FIX_STRD_SALE_ALLOT_RET_PRC > 0){
							CUT_PRC_SALE = 10000;
						}else{
							CUT_PRC_SALE = 0;
						}
					}
					*/	
					CUT_PRC_CASH = round(FIX_STRD_CASH_PRC/10000)*10000;
					/*			
					if(length(toString(replace(FIX_STRD_CASH_PRC,'-',''))) > 4){
						CUT_PRC_CASH = ceil(FIX_STRD_CASH_PRC/10000)*10000;
					}else{
						if( FIX_STRD_CASH_PRC > 0){
							CUT_PRC_CASH = 10000;
						}else{
							CUT_PRC_CASH = 0;
						}
					}
					*/
				}
			}
			
			if(div_adjust.rad_adjtBasic.Value == "01"){ //조정기준(판매수수료)선택시
				ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_RET_COLUMN,CUT_PRC);
				ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_COLUMN)) - 
															   toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)));
			}else if(div_adjust.rad_adjtBasic.Value == "02"){ //조정기준(현금판매가)선택시
				ds_polSplstTmp.SetColumn(idx,CASH_COLUMN,CUT_PRC);
				ds_polSplstTmp.SetColumn(idx,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) - 
				                                              toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)));
			}else if(div_adjust.rad_adjtBasic.Value == "03"){ //조정기준(동시조정)선택시
				ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_RET_COLUMN,CUT_PRC_SALE);
				ds_polSplstTmp.SetColumn(idx,CASH_COLUMN,CUT_PRC_CASH);
				ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_COLUMN)) - 
															   toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)));				
				ds_polSplstTmp.SetColumn(idx,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) - 
				                                              toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)));
			}
			
			var GOAL_SALE = toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_SALE_COLUMN)) - 
							toNumber(ds_polSplstTmp.GetColumn(idx,SALE_ALLOT_COLUMN)) +
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_COLUMN)) -
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN));
							
			ds_polSplstTmp.SetColumn(idx,GOAL_SALE_COLUMN,GOAL_SALE);
			
			var GOAL_CASH = toNumber(ds_polSplstTmp.GetColumn(idx,CASH_COLUMN)) - 
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN)) + 
							toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_CASH_COLUMN)); 
		                
			ds_polSplstTmp.SetColumn(idx,GOAL_CASH_COLUMN,GOAL_CASH);
			
		}
		
	}	
	
}

/*******************************************************************************
* 함수명 : div_adjust_edt_money_OnKillFocus
* 기능명 : 금액가감 OnKillFocus 이벤트 발생시
* DESC : 금액일 경우 할인한도 = 할인한도 + 금액가감
                     현금판매가 = 현금판매가 - 금액가감
         비율일 경우 할인한도 = 할인한도 + (할부장려금 * 금액가감율) 
                     현금판매가 = 현금판매가 - (현금장려금 * 금액가감율) 
*******************************************************************************/
function f_money()
{	
	var FIX_STRD_SALE_ALLOT_RET_PRC = 0;
	var FIX_STRD_CASH_PRC = 0;
	
	for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ ){

		var UPLST_SALE_STARD_COLUMN = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_1";
		var UPLST_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_2";
		var IPOL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_3";
		var IPOL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_4";
		var ORG_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_5";
		var ORG_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_6";
		var SALE_ALLOT_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_7";
		var SALE_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_8";
		var SALE_ALLOT_RET_COLUMN 	= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_9";
		var CASH_COLUMN 			= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_10";
		var GOAL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_11";
		var GOAL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_12";
		
		for( var idx=0 ; idx<ds_polSplstTmp.rowcount; idx++ ){
				
			SAVE_FLAG = "Y";
			
			FIX_STRD_SALE_ALLOT_RET_PRC = toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_COLUMN));
			FIX_STRD_CASH_PRC = toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN));
			var CUT_PRC = 0;
			var CUT_PRC_SALE = 0;
			var CUT_PRC_CASH = 0;
			
			if(div_adjust.cmb_money.Value == ""){ //선택 선택시
				return false;
			}else if(div_adjust.cmb_money.Value == "01"){ //금액 선택시
			
				if(div_adjust.rad_adjtBasic.Value == "01"){ //조정기준(할인한도)선택시
					
					FIX_STRD_SALE_ALLOT_RET_PRC = toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)) + 
												  toNumber(div_adjust.edt_money.Value);
					ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_RET_COLUMN,FIX_STRD_SALE_ALLOT_RET_PRC);
					ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_COLUMN)) - 
																   toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)));

				}else if(div_adjust.rad_adjtBasic.Value == "02"){ //조정기준(현금판매가)선택시
					
					FIX_STRD_CASH_PRC = toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)) + 
					                    toNumber(div_adjust.edt_money.Value);
					ds_polSplstTmp.SetColumn(idx,CASH_COLUMN,FIX_STRD_CASH_PRC);
					
					ds_polSplstTmp.SetColumn(idx,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) - 
																  toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)));
										
				}else if(div_adjust.rad_adjtBasic.Value == "03"){ //조정기준(동시조정)선택시
					
					FIX_STRD_SALE_ALLOT_RET_PRC = toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)) + 
												  toNumber(div_adjust.edt_money.Value);
					ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_RET_COLUMN,FIX_STRD_SALE_ALLOT_RET_PRC);
									
					FIX_STRD_CASH_PRC = toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)) + 
					                    toNumber(div_adjust.edt_money.Value);
					ds_polSplstTmp.SetColumn(idx,CASH_COLUMN,FIX_STRD_CASH_PRC);
					
					ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_COLUMN)) - 
																   toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)));
					ds_polSplstTmp.SetColumn(idx,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) - 
																  toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)));
					
				}
				
				var GOAL_SALE = toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_SALE_COLUMN)) - 
								toNumber(ds_polSplstTmp.GetColumn(idx,SALE_ALLOT_COLUMN)) +
								toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_COLUMN)) -
								toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN));
								
				ds_polSplstTmp.SetColumn(idx,GOAL_SALE_COLUMN,GOAL_SALE);
				
				var GOAL_CASH = toNumber(ds_polSplstTmp.GetColumn(idx,CASH_COLUMN)) - 
								toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN)) + 
								toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_CASH_COLUMN)); 
							
				ds_polSplstTmp.SetColumn(idx,GOAL_CASH_COLUMN,GOAL_CASH);
				
			}else if(div_adjust.cmb_money.Value == "02"){ //비율 선택시
				
				if(div_adjust.rad_adjtBasic.Value == "01"){ //조정기준(할인한도)선택시
					
					FIX_STRD_SALE_ALLOT_RET_PRC = toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)) + 
												  Truncate(toNumber(toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN))) * toNumber(toNumber(div_adjust.edt_money.Value)/100));
					ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_RET_COLUMN,FIX_STRD_SALE_ALLOT_RET_PRC);
					
					ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_COLUMN)) - 
																   toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)));
				
				}else if(div_adjust.rad_adjtBasic.Value == "02"){ //조정기준(현금판매가)선택시
					
					FIX_STRD_CASH_PRC = toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)) + 
					                    Truncate(toNumber(toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN))) * toNumber(toNumber(div_adjust.edt_money.Value)/100));
					ds_polSplstTmp.SetColumn(idx,CASH_COLUMN,FIX_STRD_CASH_PRC);
					
					ds_polSplstTmp.SetColumn(idx,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) - 
																  toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)));
																  
				}else if(div_adjust.rad_adjtBasic.Value == "03"){ //조정기준(동시조정)선택시
					
					FIX_STRD_SALE_ALLOT_RET_PRC = toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)) + 
												  Truncate(toNumber(toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN))) * toNumber(toNumber(div_adjust.edt_money.Value)/100));
					ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_RET_COLUMN,FIX_STRD_SALE_ALLOT_RET_PRC);
									
					FIX_STRD_CASH_PRC = toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)) + 
					                    Truncate(toNumber(toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN))) * toNumber(toNumber(div_adjust.edt_money.Value)/100));
					ds_polSplstTmp.SetColumn(idx,CASH_COLUMN,FIX_STRD_CASH_PRC);
					
					ds_polSplstTmp.SetColumn(idx,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_COLUMN)) - 
																   toNumber(ds_polSplstTmp.getColumn(idx,SALE_ALLOT_RET_COLUMN)));
				
					ds_polSplstTmp.SetColumn(idx,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) - 
					                                              toNumber(ds_polSplstTmp.getColumn(idx,CASH_COLUMN)));
				
				}
				
				var GOAL_SALE = toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_SALE_COLUMN)) - 
								toNumber(ds_polSplstTmp.GetColumn(idx,SALE_ALLOT_COLUMN)) +
								toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_COLUMN)) -
								toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN));
								
				ds_polSplstTmp.SetColumn(idx,GOAL_SALE_COLUMN,GOAL_SALE);
				
				var GOAL_CASH = toNumber(ds_polSplstTmp.GetColumn(idx,CASH_COLUMN)) - 
								toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN)) + 
								toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_CASH_COLUMN)); 
							
				ds_polSplstTmp.SetColumn(idx,GOAL_CASH_COLUMN,GOAL_CASH);					
			}
			
		}
		
	}	

}

/*******************************************************************************
* 함수명 : div_adjust_edt_allotSalePrc_OnKillFocus
* 기능명 : 할부판매가 OnKillFocus 이벤트 발생시
*******************************************************************************/
function div_adjust_edt_allotSalePrc_OnKillFocus(obj)
{	
	ds_polSplstTmp.FireEvent = false;
	div_adjust.Enable = false;
	grd_polSplst.Redraw = false;
	
	SAVE_FLAG = "Y";
	
	for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ ){
		
		var UPLST_SALE_STARD_COLUMN = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_1";
		var UPLST_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_2";
		var IPOL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_3";
		var IPOL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_4";
		var ORG_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_5";
		var ORG_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_6";
		var SALE_ALLOT_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_7";
		var SALE_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_8";
		var SALE_ALLOT_RET_COLUMN 	= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_9";
		var CASH_COLUMN 			= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_10";
		var GOAL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_11";
		var GOAL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_12";	
		
		for( var idx=0 ; idx<ds_polSplstTmp.rowcount; idx++ ){
			
			ds_polSplstTmp.SetColumn(idx,UPLST_SALE_COLUMN,toNumber(ds_polSplstTmp.getColumn(idx,UPLST_SALE_STARD_COLUMN)) +
			                                               toNumber(obj.value));
				
			var GOAL_SALE = toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_SALE_COLUMN)) - 
							toNumber(ds_polSplstTmp.GetColumn(idx,SALE_ALLOT_COLUMN)) +
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_COLUMN)) -
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN));
							
			ds_polSplstTmp.SetColumn(idx,GOAL_SALE_COLUMN,GOAL_SALE);
			
			var GOAL_CASH = toNumber(ds_polSplstTmp.GetColumn(idx,CASH_COLUMN)) - 
							toNumber(ds_polSplstTmp.GetColumn(idx,UPLST_SALE_STARD_COLUMN)) + 
							toNumber(ds_polSplstTmp.GetColumn(idx,IPOL_CASH_COLUMN)); 
		                
			ds_polSplstTmp.SetColumn(idx,GOAL_CASH_COLUMN,GOAL_CASH);
			
		}
	}
	
	//obj.value = "0";
	
	grd_polSplst.Redraw = true;
	div_adjust.Enable = true;
	ds_polSplstTmp.FireEvent = true;
}

/*******************************************************************************
* 함수명 : f_reSetAdjust
* 기능명 : 모델 팝업 선택시 조정기준 초기화 
*******************************************************************************/
function f_reSetAdjust()
{
	//div_adjust.edt_allotSalePrc.Value = "";
	
	div_adjust.rad_adjtBasic.Index = 0;
	div_adjust.edt_basicMny.Value = "0";
	div_adjust.cmb_cutUnit.Index = 0;
	div_adjust.cmb_money.Index = 0;
	div_adjust.edt_money.Value = "0";
}

/*******************************************************************************
* 함수명 : f_setSplstId
* 기능명 : 온라인소매가격표 관리에서 온경우 초기값 세팅
*******************************************************************************/
function f_setSplstId()
{
	div_search.cal_polYm.Value = APLY_YM;
	
	ds_condition.SetColumn(0,"APLY_STA_DTM",substr(APLY_STA_DTM,0,8));
	ds_condition.SetColumn(0,"HOUR",substr(APLY_STA_DTM,8,2));
	ds_condition.SetColumn(0,"MIN",substr(APLY_STA_DTM,10,2));
	ds_condition.SetColumn(0,"APLY_END_DTM",substr(APLY_END_DTM,0,8));
	ds_condition.SetColumn(0,"END_HOUR",substr(APLY_END_DTM,8,2));
	ds_condition.SetColumn(0,"END_MIN",substr(APLY_END_DTM,10,2));
	ds_condition.SetColumn(0,"ORG_ID",ORG_ID);	
	ds_condition.SetColumn(0,"DEAL_CO_NM",DEAL_CO_NM);
	ds_condition.SetColumn(0,"UKEY_AGENCY_CD",UKEY_AGENCY_CD);
	ds_condition.SetColumn(0,"DS_NET_CD",DS_NET_CD);
	ds_condition.SetColumn(0,"SALE_TYP_CD_MAX",SALE_TYP_CD_MAX);
	ds_condition.SetColumn(0,"AGRMT_PRD_CD",AGRMT_PRD_CD);
	
	div_search.cmb_slNetCd.Value = SL_NET_CD;
	div_search.cmb_dsNetCd.Value = DS_NET_CD;
	div_search.cmb_salePtn.Value = SALE_TYP_CD_MAX;
	div_search.cmb_agrmtPrdCd.Value = AGRMT_PRD_CD;
	
	PRE_APLY_STA_DTM = replace(div_search.cal_aplyStaDtm.Text,'-','')
	                 + div_search.edt_hour.Text
	                 + div_search.edt_min.Text;
		
}

/*******************************************************************************
* 함수명 : f_set_init
* 기능명 : 온라인소매가격표관리에서 신규버튼 클릭시 초기세팅
*******************************************************************************/
function f_set_init()
{
	if(COPY_FLAG != "Y"){
		uf_clearControls("div_search.edt_agencyCdNm,div_search.edt_agencyCd,div_search.edt_agencyUkeyCd");
		
		div_search.cmb_slNetCd.Index = 0;
		div_search.cmb_dsNetCd.Index = 0;
		div_search.cmb_agrmtPrdCd.Index = 0;
		div_search.cmb_salePtn.Index = 0;
		div_adjust.rad_adjtBasic.Index = 0;
		div_adjust.cmb_cutUnit.Index = 0;
		div_adjust.cmb_money.Index = 0;
	}
		
	uf_ObjComponentEnable(div_search,true);
	
	div_search.cal_aplyEndDtm.Enable = false;
	div_search.edt_endHour.Enable = false;
	div_search.edt_endMin.Enable = false;
	
	div_search.cal_aplyStaDtm.Enable = false;
	div_search.edt_hour.Enable = false;
	div_search.edt_min.Enable = false;	
	
	div_search.edt_agencyUkeyCd.Enable = false;	
	div_search.cal_polYm.Enable = false;
	div_search.btn_monthCalendar.Enable = false;	
			
	uf_ObjComponentEnable(div_adjust,true);
	
	ds_polSplstTmp.FireEvent = false;
	ds_polSplstTmp.ClearData();
	grd_polSplst.BindDataset = "ds_polSplstTmp";
	ds_polSplstTmp.FireEvent = true;
			
	div_search.cal_polYm.Value = APLY_YM;
	
	cf_setParam(ds_condition,"APLY_STA_DTM",APLY_YM+"01");
	cf_setParam(ds_condition,"HOUR"        ,"00");
	cf_setParam(ds_condition,"MIN"   	   ,"00");
	
	var lastDay = uf_MonthLastDay(APLY_YM+"01");
	
	cf_setParam(ds_condition,"APLY_END_DTM",APLY_YM+lastDay);
	cf_setParam(ds_condition,"END_HOUR"        ,"23");
	cf_setParam(ds_condition,"END_MIN"   	   ,"59");
	
	PRE_APLY_STA_DTM = "";
	
}


/*******************************************************************************
* 함수명 : div_search_cal_aplyStaDtm_CanChange
* 기능명 :  적용기간 시작일 CanChange 발생시
*******************************************************************************/
function div_search_cal_aplyStaDtm_OnChanged(obj,strOldText,strNewText)
{	
	if(strOldText != strNewText){

		if (!(f_compareDate(obj,strOldText,strNewText,"Y"))) return;
		
	}
}

/*******************************************************************************
* 함수명 : div_search_edt_hour_CanChange
* 기능명 :  적용기간 시간 CanChange 발생시
*******************************************************************************/
function div_search_edt_hour_CanChange(obj,stroldText,strText)
{
	if(strOldText != strText){

		if (!(f_compareDate(obj,strOldText,strText,"H"))) return;
		
	}
}

/*******************************************************************************
* 함수명 : div_search_edt_min_CanChange
* 기능명 :  적용기간 분 CanChange 발생시
*******************************************************************************/
function div_search_edt_min_CanChange(obj,stroldText,strText)
{
	if(strOldText != strText){

		if (!(f_compareDate(obj,strOldText,strText,"M"))) return;
		
	}
}

/*******************************************************************************
* 함수명 : f_compareDate
* 기능명 :  시작일자 종료일자 비교
*******************************************************************************/
function f_compareDate(obj,stroldText,strText,flag)
{
	var startDate = "";
	
	if(flag == "Y"){
		
		startDate = strText + ds_condition.GetColumn(0,"HOUR") + ds_condition.GetColumn(0,"MIN");
				 
    }else if(flag == "H"){
		
		if(strText > 23){
			obj.text = "00";
			obj.SetFocus();
			alert(cf_getMessage(MSG_00034, "23시"));
			return false;
		}
		
    	startDate = ds_condition.GetColumn(0,"APLY_STA_DTM") + strText + ds_condition.GetColumn(0,"MIN");
    	
	}else if(flag == "M"){
		
		if(strText > 59){
			obj.text = "00";
			obj.SetFocus();
			alert(cf_getMessage(MSG_00034, "59분"));
			return false;
		}
		
    	startDate = ds_condition.GetColumn(0,"APLY_STA_DTM") + ds_condition.GetColumn(0,"HOUR") + strText;              
	}  
	  
	var endtDate = ds_condition.GetColumn(0,"APLY_END_DTM") + ds_condition.GetColumn(0,"END_HOUR") + ds_condition.GetColumn(0,"END_MIN");	

	if(startDate >= endtDate){
	
		cf_setParam(ds_condition,"APLY_STA_DTM", stroldText);
		obj.setFocus();
		alert(cf_getMessage(MSG_00094, "적용기간 시작일자;적용기간 종료일자"));
		return false;
		
	}else if(substr(startDate,0,6) != substr(endtDate,0,6)){
		
		cf_setParam(ds_condition,"APLY_STA_DTM", stroldText);
		obj.setFocus();
		alert(cf_getMessage(MSG_00087, "적용년월"));
		return false;
				
	}else{
		return true;
	}

}

/*******************************************************************************
 * @description    :  대리점 키 이벤트
*******************************************************************************/
function div_search_edt_agencyCdNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	uf_clearControls("div_search.edt_agencyCd,div_search.edt_agencyUkeyCd");
	
	if(nChar == 13)
	{
		var sArg  = "org_id="+quote(FV_ORG_ID); 
			sArg += " org_cl="+quote(FV_ORG_CL); 
			
		cf_callAgencyPop(sArg, div_search, "edt_agencyCdNm,edt_agencyCd,edt_agencyUkeyCd");
	}
	
	ds_polSplstTmp.FireEvent = false;
	ds_polSplstTmp.Clear();
	grd_polSplst.BindDataset = "ds_polSplstTmp";
	ds_polSplstTmp.FireEvent = true;
}

/*******************************************************************************
 * @description    :  대리점 버튼 클릭 이벤트
*******************************************************************************/
function div_search_btn_agency_OnClick(obj)
{
	uf_clearControls("div_search.edt_agencyCd,div_search.edt_agencyUkeyCd");		
	
	var sArg  = "org_id="+quote(FV_ORG_ID); 
	    sArg += " org_cl="+quote(FV_ORG_CL); 
	
	cf_callAgencyPop(sArg, div_search, "edt_agencyCdNm,edt_agencyCd,edt_agencyUkeyCd");
	
	cf_setParam(ds_condition,"ORG_ID"        ,div_search.edt_agencyCd.Text);
	cf_setParam(ds_condition,"DEAL_CO_NM"     ,div_search.edt_agencyCdNm.Text);
	cf_setParam(ds_condition,"UKEY_AGENCY_CD"   ,div_search.edt_agencyUkeyCd.Text);
	
}

/*******************************************************************************
 * @description    :  온라인소매가격표 리스트 (확정할부가/판매수수료(할부)/현금판매가)변경시 
*******************************************************************************/
function ds_polSplstTmp_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
	ds_polSplstTmp.FireEvent = false;
	SAVE_FLAG = "Y";
	
	if(substr(strColumnID,7,1) == "2" || substr(strColumnID,7,1) == "9" || substr(strColumnID,7,2) == "10"){
	
		if(uf_isNull(varNewValue) == true){
		
			ds_polSplstTmp.SetColumn(nRow,strColumnID,0);
			varNewValue = 0;
		}
			
		var SALE_TYP_CD_MIN = substr(strColumnID,0,6);
		
		var UPLST_SALE_STARD_COLUMN = SALE_TYP_CD_MIN+"_1";
		var UPLST_SALE_COLUMN 		= SALE_TYP_CD_MIN+"_2";
		var IPOL_SALE_COLUMN 		= SALE_TYP_CD_MIN+"_3";
		var IPOL_CASH_COLUMN 		= SALE_TYP_CD_MIN+"_4";
		var ORG_SALE_COLUMN 		= SALE_TYP_CD_MIN+"_5";
		var ORG_CASH_COLUMN 		= SALE_TYP_CD_MIN+"_6";
		var SALE_ALLOT_COLUMN 		= SALE_TYP_CD_MIN+"_7";
		var SALE_CASH_COLUMN 		= SALE_TYP_CD_MIN+"_8";
		var SALE_ALLOT_RET_COLUMN   = SALE_TYP_CD_MIN+"_9";
		var CASH_COLUMN 			= SALE_TYP_CD_MIN+"_10";
		var GOAL_SALE_COLUMN 		= SALE_TYP_CD_MIN+"_11";
		var GOAL_CASH_COLUMN 		= SALE_TYP_CD_MIN+"_12";	
		
		if(substr(strColumnID,7,1) == "9"){ 
			ds_polSplstTmp.SetColumn(nRow,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(nRow,UPLST_SALE_COLUMN)) - 
														    toNumber(ds_polSplstTmp.getColumn(nRow,SALE_ALLOT_RET_COLUMN)));
														    
			if(div_adjust.rad_adjtBasic.Value != "03"){ //조정기준(동시조정)선택시
				ds_polSplstTmp.SetColumn(nRow,CASH_COLUMN, toNumber(varNewValue));	
				ds_polSplstTmp.SetColumn(nRow,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(nRow,UPLST_SALE_COLUMN)) -
															   toNumber(ds_polSplstTmp.getColumn(nRow,CASH_COLUMN)));
			}															    
		}else if(substr(strColumnID,7,2) == "10"){
			ds_polSplstTmp.SetColumn(nRow,SALE_CASH_COLUMN,toNumber(ds_polSplstTmp.getColumn(nRow,UPLST_SALE_COLUMN)) - 
														   toNumber(ds_polSplstTmp.getColumn(nRow,CASH_COLUMN)));  
														                                           
			if(div_adjust.rad_adjtBasic.Value != "03"){ //조정기준(동시조정)선택시
				ds_polSplstTmp.SetColumn(nRow,SALE_ALLOT_RET_COLUMN, toNumber(varNewValue));
				ds_polSplstTmp.SetColumn(nRow,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(nRow,UPLST_SALE_COLUMN)) -
																toNumber(varNewValue));
			}															                                           
		}else{
			//ds_polSplstTmp.SetColumn(nRow,SALE_ALLOT_COLUMN,toNumber(ds_polSplstTmp.getColumn(nRow,UPLST_SALE_COLUMN)) - toNumber(toNumber(ds_polSplstTmp.getColumn(nRow,CASH_COLUMN))));
		}
		
		var GOAL_SALE = toNumber(ds_polSplstTmp.GetColumn(nRow,IPOL_SALE_COLUMN)) - 
						toNumber(ds_polSplstTmp.GetColumn(nRow,SALE_ALLOT_COLUMN)) +
						toNumber(ds_polSplstTmp.GetColumn(nRow,UPLST_SALE_COLUMN)) -
						toNumber(ds_polSplstTmp.GetColumn(nRow,UPLST_SALE_STARD_COLUMN));
						
		ds_polSplstTmp.SetColumn(nRow,GOAL_SALE_COLUMN,GOAL_SALE);
		
		var GOAL_CASH = toNumber(ds_polSplstTmp.GetColumn(nRow,CASH_COLUMN)) - 
						toNumber(ds_polSplstTmp.GetColumn(nRow,UPLST_SALE_STARD_COLUMN)) + 
						toNumber(ds_polSplstTmp.GetColumn(nRow,IPOL_CASH_COLUMN)); 
					
		ds_polSplstTmp.SetColumn(nRow,GOAL_CASH_COLUMN,GOAL_CASH);
		
	}
	
	ds_polSplstTmp.FireEvent = true;
}

/*******************************************************************************
 * @description    :  온라인소매가격표 리스트 Color/Edit 컬럼 추가 
*******************************************************************************/
function f_setColorEdit()
{
	grd_polSplst.Redraw = false;
	ds_polSplstTmp.FireEvent = false;
	
	ds_polSplstTmp.AddColumn("RAD_ADJUST");
	div_adjust.rad_adjtBasic.value = "03";
	div_adjust.rad_adjtBasic.Enable = false;
	div_adjust.cmb_money.Enable = false;
	div_adjust.edt_money.Enable = false;
	var strValue = div_adjust.rad_adjtBasic.value;
	
	for( nRow = 0; nRow < ds_polSplstTmp.rowcount ; nRow++ ){
		ds_polSplstTmp.SetColumn(nRow,"RAD_ADJUST",strValue);
	}
	
	ds_polSplstTmp.FireEvent = true;
	grd_polSplst.Redraw = true;
	
}

/*******************************************************************************
* 함수명 : f_setOriginData
* 기능명 :  소매가격표 원본 데이터 복구
*******************************************************************************/
function f_setOriginData() 
{	
	grd_polSplst.Redraw = false;
	ds_polSplstTmp.FireEvent = false;
	
	ds_polSplstTmp.AddColumn("CUD_FLAG");
	
	var PRE_UPLST_SALE_STARD_COLUMN = 0;
	var CPY_PRE_UPLST_SALE_STARD_COLUMN = 0;
	
	var PRE_UPLST_SALE_COLUMN = 0;
	var CPY_UPLST_SALE_COLUMN = 0;
	
	var PRE_GOAL_SALE_COLUMN = 0;
	
	var PRE_IPOL_SALE_COLUMN = 0;
	var PRE_IPOL_CASH_COLUMN = 0;
	var PRE_SALE_ALLOT_COLUMN = 0;
	var PRE_SALE_ALLOT_COLUMN_COL_ID = "";
	var PRE_CASH_COLUMN_COL_ID = "";
	
	for( nRow = 0; nRow < ds_polSplstTmp.rowcount ; nRow++ ){
	
		var iRow = 0;
		var PROD_CD = ds_polSplstTmp.GetColumn(nRow,"PROD_CD");
		var findRow = ds_copyPolSplstTmp.FindRow("PROD_CD",PROD_CD);
		
		if(findRow >= 0){
			
			for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ )
			{
				var UPLST_SALE_STARD_COLUMN = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_1";
				var UPLST_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_2";
				var IPOL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_3";
				var IPOL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_4";
				var ORG_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_5";
				var ORG_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_6";
				var SALE_ALLOT_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_7";
				var SALE_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_8";
				var SALE_ALLOT_RET_COLUMN   = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_9";
				var CASH_COLUMN 			= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_10";
				var GOAL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_11";
				var GOAL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_12";	
				
				for( var jRow = 1; jRow < 13; jRow++ )
				{
					var sColId = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_"+jRow;
					var sColor = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_"+jRow+"Color";
					
					ds_polSplstTmp.AddColumn(sColor);
					
					if(jRow < 7){
						
						if(ds_polSplstTmp.GetColumn(nRow,sColId) != ds_copyPolSplstTmp.GetColumn(findRow,sColId)){

							ds_polSplstTmp.SetColumn(nRow,sColor,"Y");
						}
						
					}
					
					if(jRow == 1 ){
						PRE_UPLST_SALE_STARD_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
						CPY_PRE_UPLST_SALE_STARD_COLUMN = toNumber(ds_copyPolSplstTmp.GetColumn(findRow,sColId));
					}
					
					if(jRow == 2 ){
						PRE_UPLST_SALE_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
						CPY_UPLST_SALE_COLUMN = toNumber(ds_copyPolSplstTmp.GetColumn(findRow,sColId));
						ds_polSplstTmp.SetColumn(nRow,sColId,toNumber(PRE_UPLST_SALE_COLUMN) +
						                                     toNumber(CPY_UPLST_SALE_COLUMN) -
						                                     toNumber(CPY_PRE_UPLST_SALE_STARD_COLUMN));
					}					
					/*
					if(jRow == 3 ){
						PRE_IPOL_SALE_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
					}
					
					if(jRow == 4 ){
						PRE_IPOL_CASH_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
					}
					
					if(jRow == 7 ){
						PRE_SALE_ALLOT_COLUMN_COL_ID = sColId;
					}
					
					if(jRow == 8 ){
						ds_polSplstTmp.SetColumn(nRow,sColId,ds_copyPolSplstTmp.GetColumn(findRow,sColId));
					}					
					
					if(jRow == 9 ){
						PRE_CASH_COLUMN_COL_ID = sColId;
 
					}					
					
					if(jRow == 10){
						ds_polSplstTmp.SetColumn(nRow,sColId,ds_copyPolSplstTmp.GetColumn(findRow,sColId));
						PRE_GOAL_SALE_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
						//할부판매수수료 = 할부목표장려금 - 할부목표손익
						ds_polSplstTmp.SetColumn(nRow,PRE_SALE_ALLOT_COLUMN_COL_ID,toNumber(PRE_IPOL_SALE_COLUMN) - 
																				   toNumber(PRE_GOAL_SALE_COLUMN) +
						                                                           toNumber(CPY_UPLST_SALE_COLUMN) -
						                                                           toNumber(CPY_PRE_UPLST_SALE_STARD_COLUMN));
					}
					
					if(jRow == 11 ){
						ds_polSplstTmp.SetColumn(nRow,sColId,ds_copyPolSplstTmp.GetColumn(findRow,sColId));
						
						CPY_GOAL_CASH_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
						//현금판매가 = 기준할부가 - 현금목표장려금 + 현금목표 손익
						ds_polSplstTmp.SetColumn(nRow,PRE_CASH_COLUMN_COL_ID,toNumber(PRE_UPLST_SALE_STARD_COLUMN) -
															 toNumber(PRE_IPOL_CASH_COLUMN) +
															 toNumber(CPY_GOAL_CASH_COLUMN));
					}
					*/	
									
					var GOAL_SALE = toNumber(ds_polSplstTmp.GetColumn(nRow,IPOL_SALE_COLUMN)) - 
									toNumber(ds_polSplstTmp.GetColumn(nRow,SALE_ALLOT_COLUMN)) +
									toNumber(ds_polSplstTmp.GetColumn(nRow,UPLST_SALE_COLUMN)) -
									toNumber(ds_polSplstTmp.GetColumn(nRow,UPLST_SALE_STARD_COLUMN));
									
					ds_polSplstTmp.SetColumn(nRow,GOAL_SALE_COLUMN,GOAL_SALE);
					
					var GOAL_CASH = toNumber(ds_polSplstTmp.GetColumn(nRow,CASH_COLUMN)) - 
									toNumber(ds_polSplstTmp.GetColumn(nRow,UPLST_SALE_STARD_COLUMN)) + 
									toNumber(ds_polSplstTmp.GetColumn(nRow,IPOL_CASH_COLUMN)); 
								
					ds_polSplstTmp.SetColumn(nRow,GOAL_CASH_COLUMN,GOAL_CASH);
															
				}
				
			}
			
		}else{
			ds_polSplstTmp.SetColumn(nRow,"CUD_FLAG","I");
		}
		
	}
	
	ds_polSplstTmp.Sort("CUD_FLAG",false);
	
	ds_polSplstTmp.FireEvent = true;
	grd_polSplst.Redraw = true;

}

/*******************************************************************************
* 함수명 : f_setCopyData
* 기능명 :  선택된 참조가격표의 데이터 세팅
*******************************************************************************/
function f_setCopyData() 
{	
	grd_polSplst.Redraw = false;
	ds_polSplstTmp.FireEvent = false;
	
	var PRE_UPLST_SALE_STARD_COLUMN = 0;
	var CPY_PRE_UPLST_SALE_STARD_COLUMN = 0;
	
	var PRE_UPLST_SALE_COLUMN = 0;
	var CPY_UPLST_SALE_COLUMN = 0;
	
	var PRE_GOAL_SALE_COLUMN = 0;
	
	var PRE_IPOL_SALE_COLUMN = 0;
	var PRE_IPOL_CASH_COLUMN = 0;
	var PRE_SALE_ALLOT_COLUMN = 0;
	var PRE_SALE_ALLOT_COLUMN_COL_ID = "";
	var PRE_CASH_COLUMN_COL_ID = "";
	
	for( nRow = 0; nRow < ds_polSplstTmp.rowcount ; nRow++ ){
	
		var iRow = 0;
		var PROD_CD = ds_polSplstTmp.GetColumn(nRow,"PROD_CD");
		var findRow = ds_copyPolSplstTmp.FindRow("PROD_CD",PROD_CD);
		
		if(findRow >= 0){
			
			for( var iRow=0; iRow < ds_zPolC.rowcount; iRow++ )
			{
				var UPLST_SALE_STARD_COLUMN = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_1";
				var UPLST_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_2";
				var IPOL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_3";
				var IPOL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_4";
				var ORG_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_5";
				var ORG_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_6";
				var SALE_ALLOT_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_7";
				var SALE_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_8";
				var SALE_ALLOT_RET_COLUMN   = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_9";
				var CASH_COLUMN 			= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_10";
				var GOAL_SALE_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_11";
				var GOAL_CASH_COLUMN 		= ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_12";	
				
				for( var jRow = 1; jRow < 13; jRow++ )
				{
					var sColId = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_"+jRow;
					var sColor = ds_zPolC.GetColumn(iRow,"COMM_CD_VAL")+"_"+jRow+"Color";
					
					ds_polSplstTmp.AddColumn(sColor);
					
					if(jRow < 7){
						
						if(ds_polSplstTmp.GetColumn(nRow,sColId) != ds_copyPolSplstTmp.GetColumn(findRow,sColId)){

							ds_polSplstTmp.SetColumn(nRow,sColor,"Y");
						}
						
					}
					
					if(jRow == 1 ){
						PRE_UPLST_SALE_STARD_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
						CPY_PRE_UPLST_SALE_STARD_COLUMN = toNumber(ds_copyPolSplstTmp.GetColumn(findRow,sColId));
					}
					
					if(jRow == 2 ){
						PRE_UPLST_SALE_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
						CPY_UPLST_SALE_COLUMN = toNumber(ds_copyPolSplstTmp.GetColumn(findRow,sColId));
						ds_polSplstTmp.SetColumn(nRow,sColId,toNumber(PRE_UPLST_SALE_COLUMN) +
						                                     toNumber(CPY_UPLST_SALE_COLUMN) -
						                                     toNumber(CPY_PRE_UPLST_SALE_STARD_COLUMN));
					}					
					/*
					if(jRow == 3 ){
						PRE_IPOL_SALE_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
					}
					
					if(jRow == 4 ){
						PRE_IPOL_CASH_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
					}
					
					if(jRow == 7 ){
						PRE_SALE_ALLOT_COLUMN_COL_ID = sColId;
					}
					
					if(jRow == 8 ){
						ds_polSplstTmp.SetColumn(nRow,sColId,ds_copyPolSplstTmp.GetColumn(findRow,sColId));
					}					
					
					if(jRow == 9 ){
						PRE_CASH_COLUMN_COL_ID = sColId;
 
					}					
					
					if(jRow == 10){
						ds_polSplstTmp.SetColumn(nRow,sColId,ds_copyPolSplstTmp.GetColumn(findRow,sColId));
						PRE_GOAL_SALE_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
						//할부판매수수료 = 할부목표장려금 - 할부목표손익
						ds_polSplstTmp.SetColumn(nRow,PRE_SALE_ALLOT_COLUMN_COL_ID,toNumber(PRE_IPOL_SALE_COLUMN) - 
																				   toNumber(PRE_GOAL_SALE_COLUMN) +
						                                                           toNumber(CPY_UPLST_SALE_COLUMN) -
						                                                           toNumber(CPY_PRE_UPLST_SALE_STARD_COLUMN));
					}
					
					if(jRow == 11 ){
						ds_polSplstTmp.SetColumn(nRow,sColId,ds_copyPolSplstTmp.GetColumn(findRow,sColId));
						
						CPY_GOAL_CASH_COLUMN = toNumber(ds_polSplstTmp.GetColumn(nRow,sColId));
						//현금판매가 = 기준할부가 - 현금목표장려금 + 현금목표 손익
						ds_polSplstTmp.SetColumn(nRow,PRE_CASH_COLUMN_COL_ID,toNumber(PRE_UPLST_SALE_STARD_COLUMN) -
															 toNumber(PRE_IPOL_CASH_COLUMN) +
															 toNumber(CPY_GOAL_CASH_COLUMN));
					}
					*/					
				}
				
			}
			
		}
		
	}
	
	ds_polSplstTmp.FireEvent = true;
	grd_polSplst.Redraw = true;

}

/*******************************************************************************
* 함수명 : f_setAgrmtPrdCd
* 기능명 : 약정기간 세팅
*******************************************************************************/
function f_setAgrmtPrdCd(dsNetCd)
{
	//유통망-T기본약정일 경우에만 약정기간 세팅한다. 
	if(dsNetCd == "2"){
		if(uf_isNull(OPLST_ID) == true){
			if(HIST_FLAG != "Y"){
				div_search.cmb_agrmtPrdCd.Enable = true;
			}
		}
	}else{
		div_search.cmb_agrmtPrdCd.Enable = false;
		div_search.cmb_agrmtPrdCd.Value = "00"; //약정기간 = 없음
	} 
}

/*******************************************************************************
* 함수명 : f_set_gridFocus
* 기능명 : 그리드 포커스 이동
*******************************************************************************/
function f_set_gridFocus(gridObj, nRow, nCellIdx) 
{	
	var dataSetObj = object(gridObj.bindDataset);
	dataSetObj.row = nRow;
	gridObj.SetCellPos(nCellIdx);
	gridObj.SetFocus();
}

/*******************************************************************************
 * @description    :  월달력 사용 - 이벤트
*******************************************************************************/
function btn_monthCalendar_OnClick(obj)
{
	cf_callMonthCalendar(div_search.cal_polYm);
}

/*******************************************************************************
* 함수명 : btn_import_OnClick
* 기능명 :  엑셀 export
*******************************************************************************/
function btn_export_OnClick(obj)
{
	cf_exportExcel(grd_polSplst);
}

/*******************************************************************************
* 함수명 : div_search_btn_saleTypCdMin_OnClick
* 기능명 :  판매유형 선택
*******************************************************************************/
function div_search_btn_saleTypCdMin_OnClick(obj)
{
	var sArg  = "SALE_TYP_CD_MAX=" + quote(ds_condition.getColumn(0,"SALE_TYP_CD_MAX"));
		sArg += " SALE_TYP_CD_MAX_NM=" + quote(div_search.cmb_salePtn.Text); 
	
	var rtn = dialog("POL::POLRSP00900.xml", sArg, 312, 248);
	
	if(rtn == 1){
		ds_polSplstTmp.FireEvent  = false;
		ds_polSplstTmp.Clear();
		grd_polSplst.BindDataset = "ds_polSplstTmp";
		ds_polSplstTmp.FireEvent  = true;
		
		f_crteDataSet("ds_polSplstTmp"); //DATA SET 자동 생성

		f_drawGrid(); // 도매가격표 Grid 그리기
		
		div_search.btn_search.SetFocus();
	}
}
]]></Script>
</Window>
<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="600" Id="SALSUI00700" Left="8" OnLoadCompleted="SALSUI00700_OnLoadCompleted" PidAttrib="7" Title="일반판매&#32;인터페이스&#32;관리" Top="8" Ver="1.0" Width="1024" WorkArea="true">
		<Datasets>
			<Dataset CanRowPosChange="ds_list_CanRowPosChange" DataSetType="Dataset" Id="ds_generalSaleIfList" OnColumnChanged="ds_generalSaleIfList_OnColumnChanged">
				<Contents>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
					<colinfo id="if_rec_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="ukey_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ukey_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ukey_channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ukey_channel_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_mgmt_num1" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_mgmt_num2" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_chgrg_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_user_chgrg" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_com" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_com_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl_ps" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_biz_num" size="256" summ="default" type="STRING"/>
					<colinfo id="inden_num" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_aprv_num" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tgate_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="online_deal_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_settl_cond" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="t_agn_dc_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="inspay_insu_st_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="fst_svc_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_chg_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="term_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_hst_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_apnd_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="error_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="chk" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ukey_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="reserv_sale_yn" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_input"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_generalSaleIfStatus">
				<Contents>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_apnd_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_ps_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_apnd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_sl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="chk" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="non_proc_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="non_proc_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="non_ukey_agency_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="non_sl_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="hst_sale_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="hst_sl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="hst_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="hst_ser_num" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSaleChgHstCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbCustCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbUsimAllotCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbEqpSettlCond">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbFrgGrtInsuCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbMnpCmmsCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbScrbFeeCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_m" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbDsNetCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbTAgrmtPrdCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbAllotPrdCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSaleDtlTyp">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbIfRecTyp">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset CanRowPosChange="ds_list_CanRowPosChange" DataSetType="Dataset" Id="ds_list"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_err">
				<Contents>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_svcMgmtNumItem">
				<Contents>
					<colinfo id="SVC_DTM" size="255" summ="default" type="STRING"/>
					<colinfo id="SALE_DTM" size="255" summ="default" type="STRING"/>
					<colinfo id="EQP_MDL_CD" size="255" summ="default" type="STRING"/>
					<colinfo id="EQP_MDL_CD_NM" size="255" summ="default" type="STRING"/>
					<colinfo id="EQP_SER_NUM" size="255" summ="default" type="STRING"/>
					<colinfo id="USIM_MDL_CD" size="255" summ="default" type="STRING"/>
					<colinfo id="USIM_MDL_CD_NM" size="255" summ="default" type="STRING"/>
					<colinfo id="USIM_SER_NUM" size="255" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_exceptHst">
				<Contents>
					<colinfo id="OP_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="OP_TM" size="256" summ="default" type="STRING"/>
					<colinfo id="SEQ" size="256" summ="default" type="STRING"/>
					<colinfo id="IF_REC_TYP" size="256" summ="default" type="STRING"/>
					<colinfo id="HST_SEQ" size="256" summ="default" type="STRING"/>
					<colinfo id="BF_STATUS" size="256" summ="default" type="STRING"/>
					<colinfo id="AF_STATUS" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="SVC_MGMT_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="SVC_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_PLC" size="256" summ="default" type="STRING"/>
					<colinfo id="SL_CL" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_saleChgrgId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="user_info" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_nonProc">
				<Contents>
					<colinfo id="proc_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ukey_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ukey_agency_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="if_cl" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_DisInfo">
				<Contents>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_bad_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_bad_cl" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Div Border="Raised" Height="62" Id="div_condition" Left="10" Style="sty_div_search" TabOrder="1" TabStop="FALSE" Text="Div0" Top="10" Width="1004">
			<Contents>
				<Button Align="Left" ButtonStyle="TRUE" Height="21" Id="btn_search" ImageID="btn_a_2" Left="826" LeftMargin="5" OnClick="Div_Condition_btn_search_OnClick" Style="sty_btn_a" TabOrder="13" TabStop="FALSE" Text="조회" Top="31" Width="60"></Button>
				<Static Align="Right" Height="20" Id="Static9" Left="19" Style="sty_lb_Search" TabOrder="14" Text="처리기간" Top="7" VAlign="Middle" Width="60"></Static>
				<Calendar Border="Flat" ButtonImageID="btn_i_calendar" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_procDtFr" Left="83" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="7" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="95"></Calendar>
				<Calendar Border="Flat" ButtonImageID="btn_i_calendar" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_procDtTo" Left="199" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="8" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="95"></Calendar>
				<Static Align="Right" Height="20" Id="Static0" Left="180" Style="sty_lb_info" TabOrder="15" Text="~" Top="7" VAlign="Middle" Width="12"></Static>
				<Static Align="Right" Height="20" Id="Static1" Left="323" Style="sty_lb_Search" TabOrder="17" Text="대리점" Top="7" VAlign="Middle" Width="60"></Static>
				<Edit Border="Flat" Height="20" Id="edt_agencyCdNm" Left="387" MaxLength="10" OnCharChanged="div_condition_edt_agencyCdNm_OnCharChanged" OnKeyDown="Div_Condition_edt_agencyCdNm_OnKeyDown" Style="sty_ipt_form" TabOrder="9" Top="7" UpperOnly="TRUE" Width="116"></Edit>
				<Button Cursor="HAND" Height="20" Id="btn_agency" ImageID="btn_i_detail_b" Left="503" OnClick="div_condition_btn_agency_OnClick" OnKeyDown="Div_Condition_btn_agency_OnKeyDown" TabOrder="10" Text="Button0" Top="7" Width="20"></Button>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_agencyUkeyCd" Left="523" MaxLength="10" Style="sty_ipt_form" TabOrder="5" Top="7" UpperOnly="TRUE" Width="57"></Edit>
				<Edit Border="Flat" Height="20" Id="edt_agencyCd" Left="579" MaxLength="10" Style="sty_ipt_form" TabOrder="4" Top="7" UpperOnly="TRUE" Visible="FALSE" Width="8"></Edit>
				<Edit Border="Flat" Height="20" Id="edt_salePlc" Left="971" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="0" Top="7" Visible="FALSE" Width="11"></Edit>
				<Edit BindDataset="ds_input" Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcChannelCd" Left="925" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="1" Top="7" Width="56"></Edit>
				<Edit BindDataset="ds_input" Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcSubCd" Left="884" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="2" Top="7" Width="40"></Edit>
				<Edit BindDataset="ds_input" Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcUkeyCd" Left="827" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="7" Width="56"></Edit>
				<Button Height="21" Id="btn_payPlc" ImageID="btn_i_detail" Left="807" OnClick="div_condition_btn_payPlc_OnClick" OnKeyDown="Div_Condition_btn_payPlc_OnKeyDown" TabOrder="12" Text="Button0" Top="7" Width="19"></Button>
				<Edit Border="Flat" Height="20" Id="edt_salePlcNm" Left="692" LeftMargin="2" OnCharChanged="div_condition_edt_salePlcNm_OnCharChanged" OnKeyDown="div_condition_edt_slaePlcNm_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="11" Top="7" Width="116"></Edit>
				<Static Align="Right" Height="20" Id="Static3" Left="629" Style="sty_lb_Search" TabOrder="16" Text="판매처" Top="7" VAlign="Middle" Width="60"></Static>
				<Image Height="20" Id="Image0" ImageID="bul_mand" Left="16" TabOrder="18" TabStop="FALSE" Top="8" Transparent="TRUE" Width="20"></Image>
				<Image Height="20" Id="Image1" ImageID="bul_mand" Left="332" TabOrder="19" TabStop="FALSE" Top="8" Transparent="TRUE" Width="20"></Image>
				<Static Align="Right" Height="20" Id="Static4" Left="621" Style="sty_lb_Search" TabOrder="21" Text="담당자" Top="31" VAlign="Middle" Width="68"></Static>
				<Combo Border="Flat" CodeColumn="user_id" DataColumn="user_info" Editable="TRUE" Height="20" Id="cmb_chgrg" InnerDataset="ds_saleChgrgId" Left="691" Search="FILTERED" Style="sty_ipt_form" TabOrder="20" Top="30" Width="129"></Combo>
				<Static Align="Right" Height="20" Id="Static2" Left="325" Style="sty_lb_Search" TabOrder="23" Text="영업구분" Top="30" VAlign="Middle" Width="60"></Static>
				<Combo Border="Flat" Height="20" Id="cmb_slCl" Left="386" Style="sty_ipt_form" TabOrder="22" Top="30" Width="110"></Combo>
			</Contents>
		</Div>
		<Grid AutoEnter="TRUE" BindDataset="ds_generalSaleIfList" BkColor2="user32" BoldHead="true" Border="Flat" Bottom="565" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" FillArea="TRUE" FillAreaType="Control" FixedColSizing="TRUE" HeadBorder="Flat" HeadHeight="21" Height="464" Id="grd_generalSaleList" InputPanel="FALSE" Left="9" LineColor="user33" OnCellDBLClick="grd_generalSaleList_OnCellDblClick" OnHeadClick="grd_generalSaleList_OnHeadClick" Right="1013" RowHeight="21" Style="sty_Grid" TabOrder="9" TabStop="FALSE" Top="101" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="user33" WheelScrollRow="1" Width="1004">
			<contents>
				<format id="Default">
					<columns>
						<col fix="left" width="33"/>
						<col fix="left" width="34"/>
						<col fix="left" width="116"/>
						<col fix="left" width="60"/>
						<col fix="left" width="67"/>
						<col fix="left" width="120"/>
						<col width="69"/>
						<col width="164"/>
						<col width="66"/>
						<col width="97"/>
						<col width="97"/>
						<col width="61"/>
						<col width="80"/>
						<col width="61"/>
						<col width="66"/>
						<col width="80"/>
						<col width="79"/>
						<col width="88"/>
						<col width="84"/>
						<col width="66"/>
					</columns>
					<head>
						<cell bkcolor="user34" col="0" color="user35" display="text" text="선택"/>
						<cell bkcolor="user34" col="1" color="user35" display="text" text="번호"/>
						<cell bkcolor="user34" col="2" color="user35" display="text" text="U.Key처리일시"/>
						<cell bkcolor="user34" col="3" color="user35" display="text" text="처리구분"/>
						<cell bkcolor="user34" col="4" color="user35" display="text" text="전문유형"/>
						<cell bkcolor="user34" col="5" color="user35" display="text" text="처리자"/>
						<cell bkcolor="user34" col="6" color="user35" display="text" text="판매유형"/>
						<cell bkcolor="user34" col="7" color="user35" display="text" text="대리점"/>
						<cell bkcolor="user34" col="8" color="user35" display="text" text="판매점"/>
						<cell bkcolor="user34" col="9" color="user35" display="text" text="채널코드"/>
						<cell bkcolor="user34" col="10" color="user35" display="text" text="서비스관리번호"/>
						<cell bkcolor="user34" col="11" color="user35" display="text" text="고객명"/>
						<cell bkcolor="user34" col="12" color="user35" display="text" text="개통번호"/>
						<cell bkcolor="user34" col="13" color="user35" display="text" text="결제조건"/>
						<cell bkcolor="user34" col="14" color="user35" display="text" text="할부판매가"/>
						<cell bkcolor="user34" col="15" color="user35" display="text" text="모델명"/>
						<cell bkcolor="user34" col="16" color="user35" display="text" text="일련번호"/>
						<cell bkcolor="user34" col="17" color="user35" display="text" text="USIM모델명"/>
						<cell bkcolor="user34" col="18" color="user35" display="text" text="USIM일련번호"/>
						<cell bkcolor="user34" col="19" color="user35" display="text" text="비고"/>
					</head>
					<body>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="0" colid="chk" display="checkbox" edit="checkbox"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="1" display="text" expr="Row+1"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="2" colid="proc_dtm" display="text"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="3" colid="sale_chg_hst_cl" combocol="comm_cd_val" combodataset="ds_cmbSaleChgHstCl" combotext="comm_cd_val_nm" display="combo"/>
						<cell bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="4" colid="if_rec_typ" combocol="comm_cd_val" combodataset="ds_cmbIfRecTyp" combotext="comm_cd_val_nm" display="combo"/>
						<cell align="left" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="5" colid="proc_user_chgrg" display="text"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="6" colid="sale_dtl_typ" combocol="comm_cd_val" combodataset="ds_cmbSaleDtlTyp" combotext="comm_cd_val_nm" display="combo"/>
						<cell align="left" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="7" colid="ukey_agency_cd" display="text"/>
						<cell align="left" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="8" colid="sale_plc_nm" display="text"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="9" colid="ukey_channel_cd" display="text"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="10" colid="svc_mgmt_num1" display="text"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="11" colid="cust_nm" display="text" expr='sf_formatString(cust_nm,&quot;#*##########&quot;)'/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="12" colid="svc_num" display="text" expr='sf_formatString(SVC_NUM,&#32;&quot;###-##**-#*******&quot;)'/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="13" colid="eqp_settl_cond" combocol="comm_cd_val" combodataset="ds_cmbEqpSettlCond" combotext="comm_cd_val_nm" display="combo"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="14" colid="ukey_allot_sale_prc" display="number"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="15" colid="eqp_mdl_nm" display="text" expr="iif(length(eqp_mdl_nm)&#32;&lt;=&#32;0,&#32;eqp_mdl_cd&#32;,eqp_mdl_nm)"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="16" colid="eqp_ser_num" display="text"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="17" colid="usim_mdl_nm" display="text"/>
						<cell align="center" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" col="18" colid="usim_ser_num" display="text"/>
						<cell align="left" bkcolor="expr:iif(error_cl&#32;==&#32;&apos;XX&apos;,&#32;&apos;palegoldenrod&apos;,&#32;iif(rmks&#32;==&#32;&apos;&apos;&#32;||&#32;rmks&#32;==&#32;null,&#32;&apos;default&apos;,&#32;&apos;User25&apos;))" checklength="Byte" col="19" colid="rmks" display="text" edit="expr:iif(chk&#32;=&#32;1,&#32;&apos;normal&apos;,&#32;&apos;none&apos;)" limit="998"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_unableCancel" ImageID="btn_c_6" Left="8" LeftMargin="5" OnClick="btn_unableCancel_OnClick" Style="sty_btn_c" TabOrder="3" Text="반영제외&#32;목록" Top="569" Width="116"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_save" ImageID="btn_c_6" Left="902" LeftMargin="5" OnClick="btn_save_OnClick" Style="sty_btn_c" TabOrder="4" Text="반영제외&#32;등록" Top="569" Width="111"></Button>
		<Button Cursor="HAND" Height="25" Id="btn_ExcelExport" ImageID="btn_i_exceldown_w" Left="992" OnClick="Div0_btn_ExcelExport_OnClick" TabOrder="5" TabStop="FALSE" Text="Button1" ToolTipText="Excel&#32;Download" Top="76" Width="19"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_exceptHist" ImageID="btn_c_6" Left="124" LeftMargin="5" OnClick="btn_exceptHist_OnClick" Style="sty_btn_c" TabOrder="6" Text="제외이력&#32;목록" Top="569" Width="116"></Button>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* 프로그램ID : SALSUI00700
* 업무명      : 일반판매전문관리
* 프로그램명  :
--------------------------------------------------------------------------------
* 작성자      : 이문규
* 작성일      : 2009.03.19
--------------------------------------------------------------------------------
* 1. 변경이력
수정자    :
수정일    :
수정 내역 :
*******************************************************************************/

//==============================================================================
// 공통 스크립트 로딩
//==============================================================================
#include "lib::lib_commF.js"
#include "lib::lib_commPopup.js"
#include "lib::lib_commMsg.js"
#include "lib::lib_SAL.js"
#include "lib::lib_util.js"
//==============================================================================
// 폼 변수 정의
//==============================================================================
var	FV_ORG_ID;				// 소속
var	FV_ORG_NM;				// 소속명
var	FV_ORG_CL;				// 소소구분

var FV_UKEY_IF_YN;          //이전화면 Ukey If 현황여부
var	FV_OP_DT_FR;            //조회일시 FROM
var	FV_OP_DT_TO;            //조횡리시 썌
var	FV_POS_AGENCY_NM;       //대리점명
var	FV_POS_AGENCY_UKEY;     //대리점 Ukey 코드
var	FV_POS_AGENCY_PS;       //대리점 Ps 코드
var	FV_SALE_PLC_NM;         //판매처명
var	FV_UKEY_AGENCY_CD;      //판매처 Ukey 코드
var	FV_UKEY_SUB_CD;         //판매처 sub 코드
var	FV_UKEY_CHANNEL_CD;     //판매처 channel 코드
var	FV_SALE_PLC;            //판매처 Pszhem

var FV_USER_GRP;

var FV_VAL;
/*
var OP_DT_FR;
var OP_DT_TO;
var POS_AGENCY_NM;
var POS_AGENCY_UKEY;
var POS_AGENCY_PS;
var SALE_PLC_NM;
var UKEY_AGENCY_CD;
var UKEY_SUB_CD;
var UKEY_CHANNEL_CD;
var SALE_PLC;
*/

var FV_T_OP_DT_FR;
var FV_T_OP_DT_TO;
var FV_T_POS_AGENCY_NM;
var FV_T_POS_AGENCY_UKEY;
var FV_T_POS_AGENCY_PS;
var FV_T_SALE_PLC_NM;
var FV_T_UKEY_AGENCY_CD;
var FV_T_UKEY_SUB_CD;
var FV_T_UKEY_CHANNEL_CD;
var FV_T_SALE_PLC;

var FV_PS_SL_CL;     //ps 영업구분
var FV_GNRL_SALE_NO; //ps 일반판매번호
/*******************************************************************************
 * @description    : 최초 폼 로드시 발생 - 이벤트
*******************************************************************************/
function SALSUI00700_OnLoadCompleted(obj)
{
	//cf_setGrdChecknSortEvent(ds_generalSaleIfList);	// 그리드 정렬
	cf_setAuth(pFrmNum);	// 권한 공통
    lf_getParam();
    lf_getSession();
	lf_formInit();
	lf_combomInit();
}

function lf_reload()
{
    lf_getParam();
	lf_formInit();
}

/*******************************************************************************
 * @description    : 영업현황에서 화면 호출한 경우 조회에 필요한 값을 셋팅
*******************************************************************************/
function df_reSet(sArg)
{

	if(uf_isNull(sArg) == true)
	{

	}
	else
	{
		cf_setArg("ds_ref", sArg);

		cf_init(div_condition);
		ds_generalSaleIfList.DeleteAll();

		OP_DT_FR        = ds_ref.GetColumn(0,"OP_DT_FR");
		OP_DT_TO        = ds_ref.GetColumn(0,"OP_DT_TO");
		POS_AGENCY_NM   = ds_ref.GetColumn(0,"POS_AGENCY_NM");
		POS_AGENCY_UKEY = ds_ref.GetColumn(0,"POS_AGENCY_UKEY");
		POS_AGENCY_PS   = ds_ref.GetColumn(0,"POS_AGENCY_PS");
		SALE_PLC_NM     = ds_ref.GetColumn(0,"SALE_PLC_NM");
		UKEY_AGENCY_CD  = ds_ref.GetColumn(0,"UKEY_AGENCY_CD");
		UKEY_SUB_CD     = ds_ref.GetColumn(0,"UKEY_SUB_CD");
		UKEY_CHANNEL_CD = ds_ref.GetColumn(0,"UKEY_CHANNEL_CD");
		SALE_PLC        = ds_ref.GetColumn(0,"SALE_PLC");

		FV_ORD_MGMT_NO    = ds_ref.GetColumn(0,"sOrdMgmtNo");
		FV_PARENT_PAGE_NO = ds_ref.GetColumn(0,"sParentPageNo");
		//SALSUI00700_OnLoadCompleted();

		FV_VAL = "Y";

		FV_T_OP_DT_FR        = ds_ref.GetColumn(0,"OP_DT_FR");
		FV_T_OP_DT_TO        = ds_ref.GetColumn(0,"OP_DT_TO");
		FV_T_POS_AGENCY_NM   = ds_ref.GetColumn(0,"POS_AGENCY_NM");
		FV_T_POS_AGENCY_UKEY = ds_ref.GetColumn(0,"POS_AGENCY_UKEY");
		FV_T_POS_AGENCY_PS   = ds_ref.GetColumn(0,"POS_AGENCY_PS");
		FV_T_SALE_PLC_NM     = ds_ref.GetColumn(0,"SALE_PLC_NM");
		FV_T_UKEY_AGENCY_CD  = ds_ref.GetColumn(0,"UKEY_AGENCY_CD");
		FV_T_UKEY_SUB_CD     = ds_ref.GetColumn(0,"UKEY_SUB_CD");
		FV_T_UKEY_CHANNEL_CD = ds_ref.GetColumn(0,"UKEY_CHANNEL_CD");
		FV_T_SALE_PLC        = ds_ref.GetColumn(0,"SALE_PLC");

		FV_ORD_MGMT_NO    = ds_ref.GetColumn(0,"sOrdMgmtNo");
		FV_PARENT_PAGE_NO = ds_ref.GetColumn(0,"sParentPageNo");
		lf_reload();
	}
}



/*******************************************************************************
 * @description    : 글로벌 섹션 정보
*******************************************************************************/
function lf_getSession()
{
	FV_ORG_ID   = gds_session.GetColumn(0, "orgid");	// 소속
	FV_ORG_NM   = gds_session.GetColumn(0, "orgnm");	// 소속명
	FV_ORG_CL   = gds_session.GetColumn(0, "orgcl");	// 소속구분
//	FV_USER_GRP = sf_convertUserGrp();
	FV_USER_GRP = gds_session.GetColumn(0, "userGrp");	// 소속구분;
}

/*******************************************************************************
 * @description    : 글로벌 섹션 정보
*******************************************************************************/
function lf_getParam()
{

    if ( IsExistVar("OP_DT_FR",true) )
    {

        FV_UKEY_IF_YN      = "Y";
		FV_OP_DT_FR        = OP_DT_FR;
		FV_OP_DT_TO        = OP_DT_TO;
		FV_POS_AGENCY_NM   = POS_AGENCY_NM;
		FV_POS_AGENCY_UKEY = POS_AGENCY_UKEY;
		FV_POS_AGENCY_PS   = POS_AGENCY_PS;
		FV_SALE_PLC_NM     = SALE_PLC_NM;
		FV_UKEY_AGENCY_CD  = UKEY_AGENCY_CD;
		FV_UKEY_SUB_CD     = UKEY_SUB_CD;
		FV_UKEY_CHANNEL_CD = UKEY_CHANNEL_CD;
		FV_SALE_PLC        = SALE_PLC;

    }
    else
    {

        if ( FV_VAL == "Y" )
        {

            FV_UKEY_IF_YN      = "Y";
			FV_OP_DT_FR        = FV_T_OP_DT_FR;
			FV_OP_DT_TO        = FV_T_OP_DT_TO;
			FV_POS_AGENCY_NM   = FV_T_POS_AGENCY_NM;
			FV_POS_AGENCY_UKEY = FV_T_POS_AGENCY_UKEY;
			FV_POS_AGENCY_PS   = FV_T_POS_AGENCY_PS;
			FV_SALE_PLC_NM     = FV_T_SALE_PLC_NM;
			FV_UKEY_AGENCY_CD  = FV_T_UKEY_AGENCY_CD;
			FV_UKEY_SUB_CD     = FV_T_UKEY_SUB_CD;
			FV_UKEY_CHANNEL_CD = FV_T_UKEY_CHANNEL_CD;
			FV_SALE_PLC        = FV_T_SALE_PLC;
    	}
		else
		{
            FV_UKEY_IF_YN      = "N";
			FV_POS_AGENCY_NM   = gds_session.GetColumn(0,"posAgencyNm");
			FV_POS_AGENCY_PS   = gds_session.GetColumn(0,"posAgencyId");
			FV_POS_AGENCY_UKEY = gds_session.GetColumn(0,"posAgencyUkeyId");

			FV_SALE_PLC_NM     = gds_session.GetColumn(0,"orgAreaNm");
			FV_UKEY_AGENCY_CD  = gds_session.GetColumn(0,"orgAreaAgencyCd");
			FV_UKEY_SUB_CD     = gds_session.GetColumn(0,"orgAreaUkeySubCd");
			FV_UKEY_CHANNEL_CD = gds_session.GetColumn(0,"orgAreaUkeyChannelCd");
			FV_SALE_PLC        = gds_session.GetColumn(0,"orgAreaId");
		}
    }
}

/*******************************************************************************
 * @description         : 콤보DataSet 초기화
*******************************************************************************/
function lf_combomInit()
{
    http.Sync = true;
	// 공통 코드를 위한 데이타셋 설정
	cf_setCommonCodeDsEnv();

	cf_setCommonCode("ds_cmbSaleChgHstCl"   , "ZSAL_C_00110");	 //변경구분
	cf_setCommonCode("ds_cmbCustCl"         , "ZSAL_C_00220");   //고객구분
	cf_setCommonCode("ds_cmbUsimAllotCl"    , "ZSAL_C_00020");	 //USIM 결제조건
	cf_setCommonCode("ds_cmbEqpSettlCond"   , "ZSAL_C_00030");	 //단말기 결제조건
	cf_setCommonCode("ds_cmbScrbFeeCl"      , "ZSAL_C_00130");   //SKT예수금 - 가입비
	cf_setCommonCode("ds_cmbMnpCmmsCl"      , "ZSAL_C_00150");   //SKT예수금 - 번호이동수수류
	cf_setCommonCode("ds_cmbFrgGrtInsuCl"   , "ZSAL_C_00210");   //SKT예수금 - 외국인보증보험료
	cf_setCommonCode("ds_cmbSaleDtlTyp"     , "ZPOL_C_00040");    //판매세부유형

	cf_setCommonCode("ds_cmbDsNetCd"        , "ZPOL_C_00110");	 //판매정보 - 유통망
	cf_setCommonCode("ds_cmbTAgrmtPrdCd"    , "ZPOL_C_00230");	 //판매정보 - 약정기간
	cf_setCommonCode("ds_cmbAllotPrdCd"     , "ZPOL_C_00230");   //판매정보 - 결제조건 - 결제기간코드

	cf_setCommonCode("ds_cmbIfRecTyp"       , "ZBAS_C_00350");   //전문유형

	cf_setCommonCode("div_condition.cmb_slCl" , "ZSAL_C_00260", "전체");   //영업구분
	cf_checkCommonCode();
	http.Sync = false;

	//http.Sync = false;

	//http.Sync = true;
	sf_enableSlCLByAuth(div_condition.cmb_slCl);
	f_getSaleChgrgId();

/*  담당자를 선택할 수 있도록 Disable하지 않음
	if(uf_getAuthCode() == 2)
	{
		uf_enableChgrgByAuth(div_condition.cmb_chgrg);
	}
*/
	http.Sync = false;

}

/*******************************************************************************
 * @description         : 폼 초기화
*******************************************************************************/
function lf_formInit()
{
    if ( FV_UKEY_IF_YN == "Y" )  //일반판매 인터페이스에서 호출
    {

        div_condition.cal_procDtFr.Value        = FV_OP_DT_FR;
        div_condition.cal_procDtTo.Value        = FV_OP_DT_TO;

        //대리점
		div_condition.edt_agencyCdNm.Text       = FV_POS_AGENCY_NM;
		div_condition.edt_agencyUkeyCd.Text     = FV_POS_AGENCY_UKEY;
		div_condition.edt_agencyCd.Text         = FV_POS_AGENCY_PS;

		//판매처
		div_condition.edt_salePlcNm.Text        = FV_SALE_PLC_NM;
		div_condition.edt_salePlcUkeyCd.Text    = FV_UKEY_AGENCY_CD;
		div_condition.edt_salePlcSubCd.Text     = FV_UKEY_SUB_CD;
		div_condition.edt_salePlcChannelCd.Text = FV_UKEY_CHANNEL_CD;
		div_condition.edt_salePlc.Text          = FV_SALE_PLC;

		div_condition.edt_agencyCdNm.Enable     = false;
		div_condition.btn_agency.Enable         = false;

		div_condition.btn_search.Click();
    }
    else
    {
        //조회 기간
        var sToDay = toDay();

        div_condition.cal_procDtFr.Value = sToDay;
        div_condition.cal_procDtTo.Value = sToDay;

        uf_enableAgencyByAuth("div_condition" ,"edt_agencyCdNm,edt_agencyCd,btn_agency","edt_agencyUkeyCd");
		uf_enableDealByAuth("div_condition" ,"edt_salePlcNm,edt_salePlc,btn_payPlc","edt_salePlcUkeyCd,edt_salePlcSubCd,edt_salePlcChannelCd");

    }

}

/*******************************************************************************
 * @description         : 판매정보 Ukey Interface 조회
*******************************************************************************/
function lf_getGeneralSaleIf()
{
    var sAgencyCd  = "";
    var sSubCd     = "";
    var sChannelCd = "";
    var sSalePlc   = "";
    var sSlCl = "";
    var sParamSlCl = "";

    //조회조건 check

    sSalePlc = div_condition.edt_salePlc.Text;

    if ( uf_IsNull(div_condition.edt_salePlc.Text) )
    {
        //판매처 입력이 없을때
        if ( !uf_IsNull(div_condition.edt_agencyCd.Text ) )
        {
            sAgencyCd  = div_condition.edt_agencyUkeyCd.Text;
        }
    }
    else
    {
        //판매처 입력이 있을대
        sAgencyCd  = div_condition.edt_salePlcUkeyCd.Text;
        sSubCd     = div_condition.edt_salePlcSubCd.Text;
        sChannelCd = div_condition.edt_salePlcChannelCd.Text;
    }
/*
	sSlCl = sf_getSlClByScreenID();

	if(pFrmNum == "100000236" && FV_UKEY_IF_YN = 'N')
	{	// 소매메뉴
		sSlCl = "01";
	}

     sParamSlCl = sSlCl;
*/
    //조회 조건
    //ds_input
    cf_setParam(ds_input, "proc_dt_fr"     , div_condition.cal_procDtFr.Value );  //조회일자-FROM
    cf_setParam(ds_input, "proc_dt_to"     , div_condition.cal_procDtTo.Value );  //조회일자-TO
    cf_setParam(ds_input, "agency_cd"      , sAgencyCd );                         //대리점
    cf_setParam(ds_input, "sub_cd"         , sSubCd );                            //판매처
    cf_setParam(ds_input, "channel_cd"     , sChannelCd );                        //판매처
    cf_setParam(ds_input, "sale_plc"       , sSalePlc );                          //판매처 PS
    cf_setParam(ds_input, "sl_cl"          , div_condition.cmb_slCl.Value );      //영업망
    cf_setParam(ds_input, "ps_apnd_yn"     , "N"); 	                              // 미적용만 보이기
    cf_setParam(ds_input, "chgrg"          , div_condition.cmb_chgrg.Value);

 	var sSvcID = "getGeneralSaleIfList";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_generalSaleIfList=ds_generalSaleIfList";
	var sArg   = "sktst.sal.SUI#getGeneralSaleIfList";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg, "", true, true);
}


/*******************************************************************************
 * @description    : 콜백
 * @param sSvcID   : 서비스 아이디
*******************************************************************************/
function f_callBack(sSvcID)
{
    if (sSvcID == "getGeneralSaleIfList")
    {
        cf_setOrgDs(ds_generalSaleIfList);
    }
    else if (sSvcID == "getSvcMgmtNumPsApndStatus")
    {

        var sSaleChgHstCl = ds_generalSaleIfList.GetColumn(ds_generalSaleIfList.currow,"sale_chg_hst_cl" );
        var sDummyCl      = "N";
        var sSvcNum       = "";

        FV_PS_SL_CL = "";
        FV_GNRL_SALE_NO = "";

        if (ds_err.rowcount > 0)
        {
            if (ds_err.GetColumn(0,"errcode") == "01")
            {
				ds_generalSaleIfList.SetColumn(ds_generalSaleIfList.currow,"rmks",ds_err.GetColumn(0,"errmsg"));

				sArg = "rmks=" + quote(ds_err.GetColumn(0,"errmsg"));
				Dialog("SAL::SALSCO01200.xml", sArg,410,446);
				return;
            }
        }

        if (ds_generalSaleIfStatus.rowcount > 0)
        {

            //이전 Data가 있는지 비교
            if ( ds_generalSaleIfStatus.GetColumn(0,"bf_cnt") > 0 )
            {
                //이전 Data가 있음.
                //PS에 반영 안된 Data가 있는지
                if ( ds_generalSaleIfStatus.GetColumn(0,"bf_ps_cnt") > 0 )
                {
                    var sProcDt = ds_generalSaleIfStatus.GetColumn(0,"non_proc_dt");
                    var sProcTm = ds_generalSaleIfStatus.GetColumn(0,"non_proc_tm");
                    var sMsg = "";
                    sMsg += "[ ";
                    sMsg += sProcDt + "/";
                    sMsg += ds_generalSaleIfStatus.GetColumn(0,"non_ukey_agency_nm") + "/";
                    sMsg += ds_generalSaleIfStatus.GetColumn(0,"non_sl_cl_nm");
                    sMsg += " ] 처리하지 않은 DATA가 존재합니다.";

                    alert(sMsg );
                    return;
                }
                else
                {
                    //변경 구분이 01 : 오류,  기타 : 판매변경등록
                    if ( sSaleChgHstCl == "01" )
                    {
                        if (ds_generalSaleIfStatus.GetColumn(0,"ps_apnd_cnt") > 0  && ds_generalSaleIfList.GetColumn(0,"if_rec_typ") != "29")
                        {
                            sSvcNum = sf_getMasking(ds_generalSaleIfStatus.GetColumn(0,"hst_svc_num"), "svcnum");

                            var sMsg = "";
                            sMsg  = ds_generalSaleIfStatus.GetColumn(0,"hst_svc_mgmt_num")+"/";
                            sMsg += sSvcNum+"/";
                            sMsg += ds_generalSaleIfStatus.GetColumn(0,"hst_mdl_cd")+"/";
                            sMsg += ds_generalSaleIfStatus.GetColumn(0,"hst_ser_num")+" ";
                            sMsg += "판매처리 이력이 있는 자료입니다.";
							alert(sMsg);
							return;
                        }
                    }
                }
            }
        }
    }
    else if (sSvcID == "getGeneralSaleIfPsApndStatus")
    {
        var nRow          = ds_generalSaleIfList.currow;
        var sSaleChgHstCl = ds_generalSaleIfList.GetColumn(ds_generalSaleIfList.currow,"sale_chg_hst_cl" );
        var sDummyCl      = "N";
        var sSvcNum       = "";
        var sMsg          = "";

        FV_PS_SL_CL       = "";
        FV_GNRL_SALE_NO   = "";

        if (ds_err.rowcount > 0)
        {
            if (ds_err.GetColumn(0,"errcode") == "01")
            {
				ds_generalSaleIfList.SetColumn(ds_generalSaleIfList.currow,"rmks",ds_err.GetColumn(0,"errmsg"));

				sArg = "rmks=" + quote(ds_err.GetColumn(0,"errmsg"));
				Dialog("SAL::SALSCO01200.xml", sArg,410,446);
				return;
            }
			else
			{
				ds_generalSaleIfList.SetColumn(ds_generalSaleIfList.currow, "rmks", null);
			}
        }

        if (ds_generalSaleIfStatus.rowcount > 0)
        {
            //이전 Data가 있는지 비교
            if ( ds_generalSaleIfStatus.GetColumn(0,"bf_cnt") > 0 )
            {
                //이전 Data가 있음.
                //PS에 반영 안된 Data가 있는지
                if ( ds_generalSaleIfStatus.GetColumn(0,"bf_ps_cnt") > 0 )
                {
                    var sProcDt = ds_generalSaleIfStatus.GetColumn(0,"non_proc_dt");
                    var sProcTm = ds_generalSaleIfStatus.GetColumn(0,"non_proc_tm");

                    sMsg += "[ ";
                    sMsg += sProcDt + "/";
                    sMsg += ds_generalSaleIfStatus.GetColumn(0,"non_ukey_agency_nm") + "/";
                    sMsg += ds_generalSaleIfStatus.GetColumn(0,"non_sl_cl_nm");
                    sMsg += " ] 처리하지 않은 DATA가 존재합니다.";

                    alert(sMsg);
                    return;
                }
                else
                {
                    var sInDs       = "ds_input";
                    var sOutDs      = "ds_nonProc";
	                var sProcDt     = ds_generalSaleIfList.GetColumn(nRow, "proc_dt");
	                var sProctm     = ds_generalSaleIfList.GetColumn(nRow, "proc_tm");
	                var sSvcMgmtNum = ds_generalSaleIfList.GetColumn(nRow, "svc_mgmt_num");
	                var sEqpMdlCd   = ds_generalSaleIfList.GetColumn(nRow, "eqp_mdl_cd");
	                var sEqpSerNum  = ds_generalSaleIfList.GetColumn(nRow, "eqp_ser_num");

	                var sChk        = sf_chkUkeyIfNonProc(sInDs, sOutDs, sProcDt, sProcTm, sSvcMgmtNum, sEqpMdlCd, sEqpSerNum);

                    if ( sChk == false )
                    {
						sMsg += "[ ";
						sMsg += ds_nonPorc.GetColumn(0,"if_cl") + "/";
						sMsg += ds_nonPorc.GetColumn(0,"sl_cl_nm") + "/";
						sMsg += ds_nonPorc.GetColumn(0,"proc_dtm") + "/";
						sMsg += ds_nonPorc.GetColumn(0,"ukey_agency_nm");
						sMsg += " ] 처리하지 않은 DATA가 존재합니다.";

						alert(sMsg );
						return;
                    }

                    //변경 구분이 01 : 오류,  기타 : 판매변경등록
                    if ( sSaleChgHstCl == "01" )
                    {
                        if (ds_generalSaleIfStatus.GetColumn(0,"hst_prod_cl") == "1" && ds_generalSaleIfList.GetColumn(0,"ps_apnd_cnt") > 0 && ds_generalSaleIfList.GetColumn(0,"if_rec_typ") != "29")
                        //if (ds_generalSaleIfStatus.GetColumn(0,"ps_apnd_cnt") > 0)
                        {
                            sSvcNum = sf_getMasking(ds_generalSaleIfStatus.GetColumn(0,"hst_svc_num"), "svcnum");

                            sMsg  = ds_generalSaleIfStatus.GetColumn(0,"hst_svc_mgmt_num")+"/";
                            sMsg += sSvcNum+"/";
                            sMsg += ds_generalSaleIfStatus.GetColumn(0,"hst_mdl_cd")+"/";
                            sMsg += ds_generalSaleIfStatus.GetColumn(0,"hst_ser_num")+" ";
                            sMsg += "판매처리 이력이 있는 자료입니다.";

							alert(sMsg);
							return;
                        }
                        else
                        {
                            lf_openPopup(sDummyCl);
                        }
                    }
                    else if ( sSaleChgHstCl == "02" || sSaleChgHstCl == "07")
                    {

                        if (ds_generalSaleIfStatus.GetColumn(0,"ps_apnd_cnt") > 0)
                        {

							FV_PS_SL_CL     = ds_generalSaleIfStatus.GetColumn(0,"ps_sl_cl");
							FV_GNRL_SALE_NO = ds_generalSaleIfStatus.GetColumn(0,"gnrl_sale_no");
							//일반판매변경 등록
							lf_openPopup(sDummyCl);
                        }
                        else
                        {
                            lf_openPopup("Y");
                        }
                    }
                    else
                    {
                        if (ds_generalSaleIfStatus.GetColumn(0,"ps_apnd_cnt") > 0)
                        {
							FV_PS_SL_CL     = ds_generalSaleIfStatus.GetColumn(0,"ps_sl_cl");
							FV_GNRL_SALE_NO = ds_generalSaleIfStatus.GetColumn(0,"gnrl_sale_no");
							//일반판매변경 등록
							lf_openPopup(sDummyCl);
                        }
                        else
                        {
                            lf_openPopup("Y");
                        }
                    }
                }
            }
            else
            {
                //이전 Data가 없음.
                //ps반영여부
                if ( ds_generalSaleIfStatus.GetColumn(0,"ps_apnd_yn") == "Y" )
                {
                    alert("재조회 후 처리해주십시요.");
                    return;
                }
                else
                {
                    if ( sSaleChgHstCl == "01" )
                    {
                        //일반판매 등록
                        lf_openPopup(sDummyCl);
                    }
                    else
                    {
                        //기타
                        if ( ds_generalSaleIfStatus.GetColumn(0,"ps_apnd_cnt") > 0 )
                        {
                            FV_PS_SL_CL     = ds_generalSaleIfStatus.GetColumn(0,"ps_sl_cl");
                            FV_GNRL_SALE_NO = ds_generalSaleIfStatus.GetColumn(0,"gnrl_sale_no");
                            //Ps에 등록된 Data가 있으면
                            //일반판매변경 등록
                            lf_openPopup(sDummyCl);
                        }
                        else
                        {
                            //Ps에 등록된 Data가 없으면
                            //Dummy 등록
                            sDummyCl = "Y";
                            lf_openPopup(sDummyCl);
                        }
                    }
                }
            }
        }
        else
        {
            alert("재조회 후 처리해주십시요.");
        }
    }
    else if (sSvcID == "svcSave")
    {
		Div_Condition_btn_search_OnClick();
    }
	else if(sSvcID == "svcSaleChgrgId")
	{
		cf_setInitDataForCmb(div_condition.cmb_chgrg, "전체");
	}
	else if(sSvcID == "getUkeyIfNonProcInfo")
	{
	    if (ds_nonProc.rowcount < 1)
	    {

	    }
	}
	else if(sSvcID == "svcDisInfoCheck")
	{
		// 가용재고 이면 Alert 창 띠움
		var sMessage   = "";
		var sEqpDisSt  = ds_DisInfo.getColumn(0, "eqp_dis_st");
		var sUsimDisSt = ds_DisInfo.getColumn(0, "usim_dis_st");

		if (sEqpDisSt == "01") {
			sMessage   = "단말기 "
			           +  ds_DisInfo.getColumn(0, "eqp_mdl_nm") + " ("
			           +  ds_DisInfo.getColumn(0, "eqp_mdl_cd") + ") "
			           +  ds_DisInfo.getColumn(0, "eqp_ser_num") + " 이(가) 가용재고 입니다. \n";
		}
		if (sUsimDisSt == "01") {
			sMessage   =  sMessage
			           +  "USIM "
			           +  ds_DisInfo.getColumn(0, "usim_mdl_nm") + " ("
			           +  ds_DisInfo.getColumn(0, "usim_mdl_cd") + ") "
			           +  ds_DisInfo.getColumn(0, "usim_ser_num") + " 이(가) 가용재고 입니다. \n";
		}
		if (sEqpDisSt == "01" || sUsimDisSt == "01") {
			alert(sMessage + "\n 재고 담당자와 업무확인 후 처리해 주시기 바랍니다.");
		}
	}
    return;
}

/*******************************************************************************
 * @description         : 조회 조건 Validation Check
 * @return              : 정상   - true
  *                       비정상 - false
*******************************************************************************/
function lf_validationCheckSearch()
{
    //조회기간 check
    if ( uf_IsNull(div_condition.cal_procDtFr.Value) )
    {
        alert("조회기간을 입력 입력해주십시요.");
        div_condition.cal_procDtFr.SetFocus();
        return false;
    }

    if (  uf_IsNull(div_condition.cal_procDtTo.value) )
    {
        alert("조회기간을 입력 입력해주십시요.");
        div_condition.cal_procDtTo.SetFocus();
        return false;
    }

    if ( div_condition.cal_procDtFr.value > div_condition.cal_procDtTo )
    {
        alert("조회기간 입력이 잘못되었습니다.");
        return false;
    }

	if (substr(div_condition.cal_procDtFr.value, 0, 6) <> substr(div_condition.cal_procDtTo.Value, 0, 6))
	{
		alert("동일한 월에 대해서만 조회가 가능합니다.");
		return false;
	}

    if ( uf_IsNull(div_Condition.edt_agencyCd) )
    {
		if (FV_USER_GRP != "P12")
		{
			alert("대리점을 선택해 주십시요.");
			return false;
		}
    }

    return true;
}


/*******************************************************************************
 * @description         : 대리점명을 입력받아 대리점코드를 가져온다.
*******************************************************************************/
function lf_getAgencyCd()
{
	sf_clearControls("div_condition.edt_agencyCd,div_condition.edt_agencyUkeyCd");
	sf_clearControls("div_condition.edt_salePlcNm,div_condition.edt_salePlc,div_condition.edt_salePlcUkeyCd,div_condition.edt_salePlcSubCd,div_condition.edt_salePlcChannelCd");

//	if(nChar == 13)
//	{
		var sArg  = "org_id="+quote(FV_ORG_ID);
			sArg += " org_cl="+quote(FV_ORG_CL);

		cf_callAgencyPop(sArg, div_condition, "edt_agencyCdNm,edt_agencyCd,edt_agencyUkeyCd");

		if(uf_isNull(FV_STR_POP_RESULT) == true) return;
		f_getSaleChgrgId();
//	}
}

/*******************************************************************************
 * @description         : 판매처명을 입력받아 판매처코드를 가져온다.
*******************************************************************************/
function lf_getSalePlcInfo()
{
	sf_clearControls("div_condition.edt_salePlcUkeyCd,div_condition.edt_salePlcSubCd,div_condition.edt_salePlcChannelCd,div_condition.edt_salePlc");

	var sArg  = "deal_co_cl1="+quote(sf_convertSlClToDealCoCl(div_condition.cmb_slCl.Value));
		//sArg += " deal_status="+quote("3"); 	//옵션 (거래처 상태) - 1: 수납정지 N  , 2: 출고정지 N , 3: 판매정지 N
		sArg += " pos_agency="+quote(div_condition.edt_agencyCd.Text ); // 옵션
		//sArg += " eff_dtm="+quote(div_condition.cal_procDtFr.Value);

	cf_callDealPop(sArg, div_condition, "edt_salePlcNm,edt_salePlc,edt_salePlcUkeyCd,edt_salePlcSubCd,edt_salePlcChannelCd");

}



function lf_getSvcMgmtNumItem(sSvcMgmtNum)
{
	//조회 조건
    //ds_input
    cf_setParam(ds_input, "SVC_MGMT_NUM"     , sSvcMgmtNum); 	        // 미적용만 보이기

 	var sSvcID = "getSvcMgmtNumItem";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_svcMgmtNumItem=List";
	var sArg   = "sktst.sal.SUI#getSvcMgmtNumItem";
	http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}

/*******************************************************************************
 * @description         : 일반판매,일반판매변경 팝업 open.
*******************************************************************************/
function lf_openPopup(sDummyCl)
{
    var sCurrRow        = ds_generalSaleIfList.currow;
    var sSlCl           = ds_err.GetColumn(0,"sl_cl");//ds_generalSaleIfList.GetColumn(sCurrRow , "sl_cl" );
    var sPsSlCl         = ds_generalSaleIfStatus.GetColumn(0,"ps_sl_cl");
    var sSaleChgHstCl   = ds_generalSaleIfList.GetColumn(sCurrRow , "sale_chg_hst_cl" );
    var sSaleChgHstClNm = ds_generalSaleIfList.GetColumn(sCurrRow , "sale_chg_hst_cl" );
    var sIfRecTyp       = ds_generalSaleIfList.GetColumn(sCurrRow , "if_rec_typ" );
    var sTloginEqpMdlCd = ds_generalSaleIfList.GetColumn(sCurrRow , "tlogin_mdl_cd" );

    if (ds_generalSaleIfStatus.GetColumn(0,"ps_apnd_yn") == "N" )
    {

        var sArg  =  "p_if_proc_cl="   + quote( "1" );
            sArg += " p_op_dt="        + quote( ds_generalSaleIfList.GetColumn(sCurrRow,"op_dt" ) );
            sArg += " p_op_tm="        + quote( ds_generalSaleIfList.GetColumn(sCurrRow,"op_tm" ) );
            sArg += " p_seq="          + quote( ds_generalSaleIfList.GetColumn(sCurrRow,"seq" ) );
            sArg += " p_upd_cnt="      + quote( ds_generalSaleIfList.GetColumn(sCurrRow,"upd_cnt" ) );
            sArg += " p_svc_mgmt_num=" + quote( ds_generalSaleIfList.GetColumn(sCurrRow,"svc_mgmt_num1" ) );

        var sScreenId = "";
        var sMenuNo   = "";
        var sProdCl   = "";
        var sMdlCd    = "";
        var sSerNum   = "";

        //USIM 변경이면
        if ( sIfRecTyp == "91" || sIfRecTyp == "92" )  //판매,판매취소
        {
            sProdCl = "2";
            sMdlCd  = ds_generalSaleIfList.GetColumn(sCurrRow,"usim_mdl_cd" );
            sSerNum = ds_generalSaleIfList.GetColumn(sCurrRow,"usim_ser_num" );
        }
        else if ( sIfRecTyp == "93" || sIfRecTyp == "94" )  //기기교환
        {
            sProdCl = "2";
            sMdlCd  = ds_generalSaleIfList.GetColumn(sCurrRow,"bf_usim_mdl_cd" );
            sSerNum = ds_generalSaleIfList.GetColumn(sCurrRow,"bf_usim_ser_num" );
        }
        else
        {
            sProdCl = "1";

            if ( sSaleChgHstCl == "02" )
            {
                //기기교환이면 이전 단말기 정보로 조회
                sMdlCd  = ds_generalSaleIfList.GetColumn(sCurrRow,"bf_eqp_mdl_cd" );
                sSerNum = ds_generalSaleIfList.GetColumn(sCurrRow,"bf_eqp_ser_num" );
            }
            else
            {
                sMdlCd  = ds_generalSaleIfList.GetColumn(sCurrRow,"eqp_mdl_cd" );
                sSerNum = ds_generalSaleIfList.GetColumn(sCurrRow,"eqp_ser_num" );
            }
        }

        sArg += " p_prod_cl="    + quote( sProdCl );
        sArg += " p_mdl_cd="     + quote( sMdlCd );
        sArg += " p_ser_num="    + quote( sSerNum );
        sArg += " excuteMethod=" + quote("lf_dialogClose");


        if ( (sSalechgHstCl == "02" || sSalechgHstCl == "03" || sSalechgHstCl == "04" || sSalechgHstCl == "07")
             && !uf_IsNull(FV_PS_SL_CL) )
        {
            if ( sSlCl != FV_PS_SL_CL)
            {
                sSlCl = FV_PS_SL_CL;
            }
        }

        if ( sDummyCl == "Y" )
        {

            if ( sIfRecTyp == "27" || sIfRecTyp == "93" )
            {
                sSaleChgHstClNm = ds_cmbSaleChgHstCl.GetColumn(ds_cmbSaleChgHstCl.FindRow("comm_cd_val",sSaleChgHstCl),"comm_cd_val_nm");
                if(confirm(sSaleChgHstClNm + " 처리를 진행하시겠습니까?") == false) return;
            }

            alert("판매변경대상 정보가 없습니다.");
            return;
            /*
            var sConfirm = Confirm(" 이전 판매정보가 없습니다.\n 판매정보 수작업 입력 화면으로 이동하시겠습니까?");

            if ( sConfirm == "1" )
            {
                sScreenId = "SAL::SALDGS00100.xml";  //Dummy 등록
                sMenuNo = "";
                dialog(sScreenId, sArg, 1024,600);
                return;
            }
            else
            {
                return;
            }
            */
        }
        else
        {
            if ( sSlCl == "02" )
            {
                //도매
                if ( sSalechgHstCl == "01" )
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALAGS00900.xml";  //부가단말기판매  100000766
                    	sMenuNo = "100000766";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALAGS00100.xml";  //일반판매  100000175
	                    sMenuNo = "100000175";
	                }
                }
                else
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALAGS01000.xml";  //부가단말기판매변경  100000767
                    	sMenuNo = "100000767";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALAGS00300.xml";  //일반판매변경  100000155
                    	sMenuNo = "100000155";
	                }


                }
            }
            else if ( sSlCl == "01" )
            {
                //소매
                if ( sSalechgHstCl == "01" )
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALRGS00900.xml";  //부가단말기판매  100000768
                    	sMenuNo = "100000768";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALRGS00100.xml";  //일반판매 100000176
                    	sMenuNo = "100000176";
	                }
                }
                else
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALRGS01000.xml";  //부가단말기판매  100000769
                    	sMenuNo = "100000769";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALRGS00300.xml";  //일반판매변경 100000147
                    	sMenuNo = "100000147";
	                }
                }

            }
            else if ( sSlCl == "03" )
            {
                //온라인 소매
                if ( sSalechgHstCl == "01" )
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALORG00900.xml";  //부가단말기판매  100000770
                    	sMenuNo = "100000770";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALORG00100.xml";  //일반판매   100000373
                    	sMenuNo = "100000373";
	                }
                }
                else
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALORG01000.xml";  //부가단말기판매  100000771
                    	sMenuNo = "100000771";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALORG00300.xml";  //일반판매변경   100000374
                    	sMenuNo = "100000374";
	                }
                }

            }
            else if ( sSlCl == "04" )
            {
                //온라인 도매
                if ( sSalechgHstCl == "01" )
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALOAG00900.xml";  //부가단말기판매  100000772
                    	sMenuNo = "100000772";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALOAG00100.xml";  //일반판매
                    	sMenuNo = "100000375";
	                }
                }
                else
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALOAG01000.xml";  //부가단말기판매  100000773
                    	sMenuNo = "100000773";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALOAG00400.xml";  //일반판매변경
                    	sMenuNo = "100000376";
	                }
                }

            }
            else if ( sSlCl == "05" )
            {
                //M Channel
                if ( sSalechgHstCl == "01" )
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALMGS00900.xml";  //부가단말기판매  100000774
                    	sMenuNo = "100000774";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALMGS00100.xml";  //일반판매
                    	sMenuNo = "100000644";
	                }
                }
                else
                {
                    if ( !uf_IsNull(sTloginEqpMdlCd) )
			        {
			            sScreenId = "SAL::SALMGS01000.xml";  //부가단말기판매  100000775
                    	sMenuNo = "100000775";
			        }
			        else
			        {
	                    sScreenId = "SAL::SALMGS00200.xml";  //일반판매변경
                    	sMenuNo = "100000645";
	                }
                }
                //dialog(sScreenId, sArg, 1024,600);
                //return;
            }
            else
            {
                alert("영업구분이 지정되어 있지않습니다.");
                return;
            }
        }

        if ( sIfRecTyp == "27" || sIfRecTyp == "93" )
        {
            sSaleChgHstClNm = ds_cmbSaleChgHstCl.GetColumn(ds_cmbSaleChgHstCl.FindRow("comm_cd_val",sSaleChgHstCl),"comm_cd_val_nm");
            if(confirm(sSaleChgHstClNm + " 처리를 진행하시겠습니까?") == false) return;
        }

        // KIMYS 2010.05.20
        // 판매등록건 중에서 D Code and SUB('0000') and Channel(null) and 영업승인코드(S%)인 경우 도/소매 선택
        var sSubCd       = ds_generalSaleIfList.GetColumn(sCurrRow, "ukey_sub_cd");
        var sChannelCd   = ds_generalSaleIfList.GetColumn(sCurrRow, "ukey_channel_cd");
        var sSaleAprvNum = substr(ds_generalSaleIfList.GetColumn(sCurrRow, "sale_aprv_num"), 0, 1);
        
        if (sSalechgHstCl == "01" && sSubCd == "0000" 
				&& uf_IsNull(sChannelCd) 
				&& ((sSaleAprvNum == "S" || sSaleAprvNum == "B") 
						|| (ds_generalSaleIfList.GetColumn(sCurrRow, "reserv_sale_yn") == "Y"
						)
					)
			)
        {
            var sSlGbn = Confirm("소매판매는 '확인'을  도매판매는 '취소'를 선택해 주십시요");
            if (sSlGbn == true)
            {
                if ( !uf_IsNull(sTloginEqpMdlCd) )
		        {
		            sScreenId = "SAL::SALRGS00900.xml";  //소매 부가단말기판매  100000768
                	sMenuNo = "100000768";
		        }
		        else
		        {
                    sScreenId = "SAL::SALRGS00100.xml";  //소매 일반판매 100000176
                	sMenuNo = "100000176";
                }
            } else {
                if ( !uf_IsNull(sTloginEqpMdlCd) )
		        {
		            sScreenId = "SAL::SALAGS00900.xml";  //도매 부가단말기판매  100000766
                	sMenuNo = "100000766";
		        }
		        else
		        {
                    sScreenId = "SAL::SALAGS00100.xml";  //도매 일반판매  100000175
                    sMenuNo = "100000175";
                }
            }
        }

        cf_openAuthPop(sMenuNo, sArg, 1024,600);
    }

    return;
}

/*******************************************************************************
 * @description         : 조회버튼
*******************************************************************************/
function div_condition_btn_search_OnClick(obj)
{
    // 조회 조건 validation check
    // 정상 : true, 비정상 : false
    if (!lf_validationCheckSearch())
    {
        return;
    }

	lf_getGeneralSaleIf();
}

/*******************************************************************************
 * @description         : 대리점명을 입력받아 대리점 코드를 가져온다.
*******************************************************************************/
function div_condition_edt_agencyCdNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if(nChar == 13)
	{
        lf_getAgencyCd();
	}
}

function div_condition_edt_agencyCdNm_OnCharChanged(obj,strPreText,strPostText)
{
	sf_clearControls("div_condition.edt_agencyUkeyCd,div_condition.edt_agencyCd");
	sf_clearControls("div_condition.edt_salePlcUkeyCd,div_condition.edt_salePlcSubCd,div_condition.edt_salePlcChannelCd,div_condition.edt_salePlc,div_condition.edt_salePlcNm");
}


function div_condition_btn_agency_OnClick(obj)
{
	sf_clearControls("div_condition.edt_agencyUkeyCd,div_condition.edt_agencyCd");
	sf_clearControls("div_condition.edt_salePlcUkeyCd,div_condition.edt_salePlcSubCd,div_condition.edt_salePlcChannelCd,div_condition.edt_salePlc,div_condition.edt_salePlcNm");
    lf_getAgencyCd();
}

function div_condition_btn_agency_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if(nChar == 13)
	{
        lf_getAgencyCd();
	}
}

/*******************************************************************************
 * @description         : 판매처명을 입력받아 판매처 코드를 가져온다.
*******************************************************************************/
function div_condition_edt_slaePlcNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if(nChar == 13)
	{
        lf_getSalePlcInfo();
	}
}

function div_condition_edt_salePlcNm_OnCharChanged(obj,strPreText,strPostText)
{
	sf_clearControls("div_condition.edt_salePlcUkeyCd,div_condition.edt_salePlcSubCd,div_condition.edt_salePlcChannelCd,div_condition.edt_salePlc");
}


function div_condition_btn_payPlc_OnClick(obj)
{
    lf_getSalePlcInfo();
}

function div_condition_btn_payPlc_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if(nChar == 13)
	{
        lf_getSalePlcInfo();
	}
}

/*******************************************************************************
 * @description         : Grid 더블 클릭 시 상태조회
 *                        - 정합성 체크시 오류 있을 경우 팝업창에서 오류 출력
 *                        - 정합성 체크시 오류 없을 경우 일반판매,일반판매변경 창으로 분기
*******************************************************************************/
function grd_generalSaleList_OnCellDblClick(obj,nRow,nCell,nX,nY,nPivotIndex)
{
    var sProdCl       = "";   //단말기 : 1, USIM : 2
    var sIfRecTyp     = ds_generalSaleIfList.GetColumn(nRow,"if_rec_typ");

    var sSelRtn       = "";
    var sSaleChgHstCl = "";
	// 전문구분: 기변현금판매(27), USIM카드변경(93) 일 경우.
    if (sIfRecTyp == "27" || sIfRecTyp == "93" )
    {
        sSelRtn = Confirm("판매는 '확인'을 기기변경은 '취소'를 선택해 주십시요");
        if (sSelRtn == true)
        {
            sSaleChgHstCl = "01";
        }
        else
        {
            sSaleChgHstCl = "02";
        }
        ds_generalSaleIfList.SetColumn(nRow,"sale_chg_hst_cl",sSaleChgHstCl);
    }
	// 전문구분: USIM판매(명의변경)(91), USIM판매취소(명의변경취소)(92), USIM카드변경(93)
	// 전문구분: USIM카드변경취소(94), LOCK해제(95) 일 경우
    if ( sIfRecTyp == "91" || sIfRecTyp == "92" || sIfRecTyp == "93" || sIfRecTyp == "94"
         || sIfRecTyp == "95" )
    {
        sProdCl = "2";
    }
    else
    {
        sProdCl = "1";
    }

    ds_input.Clear();
    cf_setParam(ds_input, "proc_dt"             , ds_generalSaleIfList.GetColumn(nRow,"proc_dt") );   //조회일자-FROM
    cf_setParam(ds_input, "proc_tm"             , ds_generalSaleIfList.GetColumn(nRow,"proc_tm") );   //조횡리자-TO
    cf_setParam(ds_input, "op_dt"               , ds_generalSaleIfList.GetColumn(nRow,"op_dt") );     //조회일자-FROM
    cf_setParam(ds_input, "op_tm"               , ds_generalSaleIfList.GetColumn(nRow,"op_tm") );     //조횡리자-TO
    cf_setParam(ds_input, "seq"                 , ds_generalSaleIfList.GetColumn(nRow,"seq") );       //대리점
    cf_setParam(ds_input, "prod_cl"             , sProdCl );                //단말기 :1, USIM:2
    cf_setParam(ds_input, "new_sale_chg_hst_cl" , sSaleChgHstCl );          //판매변경이력구분-전무번호 '27'일때

 	var sSvcID = "getGeneralSaleIfPsApndStatus";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_err=List ds_generalSaleIfStatus=ds_generalSaleIfStatus";
	var sArg   = "sktst.sal.SUI#getGeneralSaleIfPsApndStatus";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description         : 일반판매,일반판매변경 창에서 저장시 화면 재조회.
*******************************************************************************/
function lf_dialogClose()
{
    div_condition.btn_search.Click();
}



function Div0_btn_ExcelExport_OnClick(obj)
{
    cf_exportExcel(grd_generalSaleList);
}



/*******************************************************************************
 * @description    : 저장
*******************************************************************************/
function btn_save_OnClick(obj)
{
	if(ds_generalSaleIfList.GetUpdate() == false || f_isChangeList() == false)
	{
		alert(cf_getMessage(MSG_00071,""));
		return;
	}

	if(f_validRmks(ds_generalSaleIfList.currow) == false) return;

	if(Confirm("저장하시겠습니까?") == false) return;
	createExceptHst();

	ds_input.Clear();
	cf_setParam(ds_input, "ps_apnd_ynz" , "Z");  // 제외 상태로 설정
	cf_setParam(ds_input, "table_nm" , "tsal_general_sale_if");

	var sSvcID = "svcSave";
	var sInDs  = "nc_input_fieldDs=ds_input List=ds_generalSaleIfList:u ExceptList=ds_exceptHst";
	var sOutDs = "";
	var sArg   = "sktst.sal.SCO#updatePsApndYnList";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}


/*******************************************************************************
 * @description    : 미반영 해제
*******************************************************************************/
function btn_unableCancel_OnClick(obj)
{
	var Args =  "";
		Args += " sale_dtm_from=" + quote( div_condition.cal_procDtFr.Value);
		Args += " sale_dtm_to=" + quote( div_condition.cal_procDtTo.Value);
		Args += " agency_cd=" + quote( div_condition.edt_agencyCd.Text);
		Args += " agency_nm=" + quote( div_condition.edt_agencyCdNm.Text);
		Args += " agency_ukey=" + quote( div_condition.edt_agencyUkeyCd.Text);
		Args += " sale_plc_nm=" + quote( div_condition.edt_salePlcNm.Text);
		Args += " sale_plc=" + quote( div_condition.edt_salePlc.Text);
		Args += " sale_plc_ukey=" + quote( div_condition.edt_salePlcUkeyCd.Text);
		Args += " sale_plc_sub=" + quote( div_condition.edt_salePlcSubCd.Text);
		Args += " sale_plc_channel=" + quote( div_condition.edt_salePlcChannelCd.Text);
		Args += " chgrg=" + quote( div_condition.cmb_chgrg.Value);
		Args += " sl_cl=" + quote( div_condition.cmb_slCl.Value);

	//dialog("SAL::SALSUI01000.xml",Args, 1024,600);
	cf_openAuthPop("100000438", Args, 1024,600);
}

function grd_generalSaleList_OnHeadClick(obj,nCell,nX,nY,nPivotIndex)
{
	cf_markGridSort(obj,nCell,nX,nY,nPivotIndex);
}


/*******************************************************************************
 * @description    :  로우 위치 변경시 비고 입력여부 확인
*******************************************************************************/
function ds_list_CanRowPosChange(obj,nOldRow,nRow)
{
	return f_validRmks(nOldRow);
}

/*******************************************************************************
 * @description    :  비고 입력여부 확인
*******************************************************************************/
function f_validRmks(nRow)
{
	if(ds_generalSaleIfList.GetColumn(nRow, "CHK") == "1")
	{
		if( uf_IsNull( ds_generalSaleIfList.GetColumn(nRow, "RMKS") ) == true)
		{
			alert(cf_getMessage(MSG_00083, "비고"));
			ds_generalSaleIfList.row = nRow;
			grd_generalSaleList.SetCellPos(sf_getIndexByGridColId(grd_generalSaleList,"RMKS"));
			return false;
		}
	}
	return true;
}


/*******************************************************************************
 * @description    :  미반영 제외 히스토리 데이터 생성
*******************************************************************************/
function createExceptHst()
{
	ds_exceptHst.DeleteAll();
	var nRows = ds_generalSaleIfList.GetRowCount();
	for(var i = 0 ; i < nRows ; i++)
	{
		if(ds_generalSaleIfList.GetColumn(i,"CHK") == "1")
		{
			var nRow = ds_exceptHst.AddRow();
			ds_exceptHst.SetColumn(nRow, "OP_DT"     , ds_generalSaleIfList.GetColumn(i, "OP_DT"));
			ds_exceptHst.SetColumn(nRow, "OP_TM"     , ds_generalSaleIfList.GetColumn(i, "OP_TM"));
			ds_exceptHst.SetColumn(nRow, "SEQ"       , ds_generalSaleIfList.GetColumn(i, "SEQ"));
			ds_exceptHst.SetColumn(nRow, "IF_REC_TYP", ds_generalSaleIfList.GetColumn(i, "IF_REC_TYP"));
			ds_exceptHst.SetColumn(nRow, "BF_STATUS" , ds_generalSaleIfList.GetColumn(i, "PS_APND_YN"));
			ds_exceptHst.SetColumn(nRow, "AF_STATUS" , "Z");
			ds_exceptHst.SetColumn(nRow, "RMKS"      , ds_generalSaleIfList.GetColumn(i, "RMKS"));

			ds_exceptHst.SetColumn(nRow, "SVC_MGMT_NUM" , ds_generalSaleIfList.GetColumn(i, "SVC_MGMT_NUM1"));
			ds_exceptHst.SetColumn(nRow, "SVC_NUM"      , ds_generalSaleIfList.GetColumn(i, "SVC_NUM"));
			ds_exceptHst.SetColumn(nRow, "SALE_PLC"     , ds_generalSaleIfList.GetColumn(i, "SALE_PLC"));
			ds_exceptHst.SetColumn(nRow, "SL_CL"        , ds_generalSaleIfList.GetColumn(i, "SL_CL"));
		}
	}
}


/*******************************************************************************
 * @description    :  List 에 변경된 데이터가 있는지
*******************************************************************************/
function f_isChangeList()
{
	var nRows = ds_generalSaleIfList.GetRowCount();

	for(var i=0; i<nRows;i++)
	{
		if(ds_generalSaleIfList.GetColumn(i, "chk") == "1")
			return true;
	}
	return false;
}


/*******************************************************************************
 * @description    : 판매담당자 리스트 조회
*******************************************************************************/
function f_getSaleChgrgId()
{

	var sAgency = div_condition.edt_agencyCd.Text;

	//if( uf_isNull(sAgency) == true) return;

	ds_input.Clear();

	// 넘길 파라메터 설정
	cf_setParam(ds_input, "agency_cd", sAgency);

	// 트랜잭션 설정
	var sSvcID = "svcSaleChgrgId";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_saleChgrgId=ds_ReqUser";
	var sArg   = "sktst.sal.SCO#getUserList";

	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description    : 변경이력
*******************************************************************************/
function btn_exceptHist_OnClick(obj)
{
	dialog("SAL::SALSUI02000.xml","", 1024,600);
}

/*******************************************************************************
 * @description    : 반영제외하고자 하는 판매건의 재고정보를 조회하여 메시지 출력
*******************************************************************************/
function f_ValidDisInfo()
{
	var sSaleCl = ds_generalSaleIfList.GetColumn(ds_generalSaleIfList.currow, "SALE_CHG_HST_CL");
	var sEqpMdl = ds_generalSaleIfList.GetColumn(ds_generalSaleIfList.currow, "EQP_MDL_CD");
	var sEqpSer = ds_generalSaleIfList.GetColumn(ds_generalSaleIfList.currow, "EQP_SER_NUM");
	var sEqpClr = ds_generalSaleIfList.GetColumn(ds_generalSaleIfList.currow, "COLOR_CD");
	var sUsmMdl = ds_generalSaleIfList.GetColumn(ds_generalSaleIfList.currow, "USIM_MDL_CD");
	var sUsmSer = ds_generalSaleIfList.GetColumn(ds_generalSaleIfList.currow, "USIM_SER_NUM");

	// 판매, 판매취소, 기기변경인 경우 재고정보를 조회하여 가용, 정상재고인 경우 메시지 출력
	if (sSaleCl == "01" || sSaleCl == "02" || sSaleCl == "07" ) {
		ds_input.Clear();

		// 넘길 파라메터 설정
		cf_setParam(ds_input, "eqp_mdl_cd",   sEqpMdl);
		cf_setParam(ds_input, "eqp_ser_num",  sEqpSer);
		cf_setParam(ds_input, "eqp_color_cd", sEqpClr);
		cf_setParam(ds_input, "usim_mdl_cd",  sUsmMdl);
		cf_setParam(ds_input, "usim_ser_num", sUsmSer);

		// 트랜잭션 설정
		var sSvcID = "svcDisInfoCheck";
		var sInDs  = "nc_input_fieldDs=ds_input";
		var sOutDs = "ds_DisInfo=ds_DisInfo";
		var sArg   = "sktst.sal.SUI#getDisInfoCheck";

		// 공통 트랜잭션 호출
		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	}
}

/*******************************************************************************
 * @description    : 반영제외하기 위해 선택 했을 때 재고상태 조회
*******************************************************************************/
function ds_generalSaleIfList_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
//	alert("strColumnID / varNewValue : " + strColumnID + "/" + varNewValue);
	if (strColumnID == "CHK") {
		if (varNewValue == "1") {
			f_ValidDisInfo();
		}
	}
}]]></Script>
</Window>
<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="392" Id="SALORG00200" Left="8" OnLoadCompleted="SALORG00200_OnLoadCompleted" PidAttrib="7" Title="온라인수납정보&#32;입력" Top="8" Ver="1.0" Width="632" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_onlinePayment">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_allot_pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_acc_trnsf_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_acc_trnsf_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_virtl_acc_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_virtl_acc_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_foi_cl1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_foi_cl2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="online_stl_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="online_stl_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp_nm1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_foi_cl1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp_nm2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_foi_cl2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="online_payment_cl" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commOnlinePaymentCl">
				<Contents>
					<colinfo id="comm_cd_val" size="255" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="255" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_crdtcrdCorp">
				<Contents>
					<colinfo id="deal_co_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="deal_co_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_payment">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_sum_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_pay_sum_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_prxpay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_sktPayment">
				<Contents>
					<colinfo id="skt_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_prxpay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_pay_sum_amt" size="256" summ="default" type="STRING"/>
					<record>
						<skt_pay_amt></skt_pay_amt>
						<skt_pay_sum_amt></skt_pay_sum_amt>
						<skt_prprc_cash_pay_amt></skt_prprc_cash_pay_amt>
						<skt_prprc_prxpay_amt></skt_prprc_prxpay_amt>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_input"></Dataset>
		</Datasets>
		<Image Align="Left" Height="25" Id="Image3" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="2" Text="수납" Top="8" Width="192"></Image>
		<Div Border="Raised" Height="207" Id="div_onlinePayment" Left="10" Style="sty_div_input" TabOrder="1" Text="Div0" Top="33" Width="606">
			<Contents>
				<Static Align="Right" Height="20" Id="Static5" Left="246" Style="sty_lb_dataview" TabOrder="3" Text="신용카드2" Top="172" VAlign="Middle" Width="76"></Static>
				<Static Align="Right" Height="20" Id="Static1" Left="22" Style="sty_lb_dataview" TabOrder="1" Text="수납대상" Top="7" VAlign="Middle" Width="68"></Static>
				<Static Align="Right" Height="20" Id="Static3" Left="245" Style="sty_lb_dataview" TabOrder="2" Text="신용카드1" Top="149" VAlign="Middle" Width="76"></Static>
				<MaskEdit BindDataset="ds_onlinePayment" Border="Flat" Column="pay_amt" Enable="FALSE" Height="20" Id="msk_payAmt" Left="94" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Value="0" Width="160"></MaskEdit>
				<MaskEdit BindDataset="ds_onlinePayment" Border="Flat" Column="crdtcrd_pay_amt1" Enable="FALSE" Height="20" Id="msk_onlineCrdtcrdPayAmt1" Left="494" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" OnChanged="div_onlinePayment_msk_onlineCrdtcrdPayAmt1_OnChanged" OnKeyDown="div_onlinePayment_msk_onlineCrdtcrdPayAmt1_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="149" Value="0" Width="89"></MaskEdit>
				<MaskEdit BindDataset="ds_onlinePayment" Border="Flat" Column="crdtcrd_pay_amt2" Enable="FALSE" Height="20" Id="msk_onlineCrdtcrdPayAmt2" Left="494" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" OnChanged="div_onlinePayment_msk_onlineCrdtcrdPayAmt2_OnChanged" OnKeyDown="div_onlinePayment_msk_onlineCrdtcrdPayAmt2_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="172" Value="0" Width="89"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static8" Left="4" Style="sty_lb_dataview" TabOrder="7" Text="온라인결제처" Top="126" VAlign="Middle" Width="86"></Static>
				<Static Align="Right" Height="20" Id="Static4" Left="254" Style="sty_lb_dataview" TabOrder="8" Text="수납합계" Top="7" VAlign="Middle" Width="68"></Static>
				<MaskEdit BindDataset="ds_onlinePayment" Border="Flat" Enable="FALSE" Height="20" Id="msk_paySumAmt" Left="327" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="9" Top="7" Value="0" Width="160"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static0" Left="12" Style="sty_lb_dataview" TabOrder="10" Text="일반계좌입금" Top="149" VAlign="Middle" Width="78"></Static>
				<Combo BindDataset="ds_onlinePayment" Border="Flat" Column="acc_trnsf_cl" Height="20" Id="cmb_accTrnsfCl" Left="93" OnChanged="div_onlinePayment_cmb_accTrnsfCl_OnChanged" Style="sty_ipt_form" TabOrder="11" Top="148" Width="72"></Combo>
				<MaskEdit BindDataset="ds_onlinePayment" Border="Flat" Column="acc_trnsf_amt" Enable="FALSE" Height="20" Id="msk_accTrnsfAmt" Left="165" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" OnChanged="div_onlinePayment_msk_accTrnsfAmt_OnChanged" OnKeyDown="div_onlinePayment_msk_accTrnsfAmt_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="12" Top="149" Value="0" Width="89"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static2" Left="12" Style="sty_lb_dataview" TabOrder="13" Text="가상계좌입금" Top="172" VAlign="Middle" Width="78"></Static>
				<Combo BindDataset="ds_onlinePayment" Border="Flat" Column="virtl_acc_cl" Height="20" Id="cmb_virtlAccCl" Left="93" OnChanged="div_onlinePayment_cmb_virtlAccCl_OnChanged" Style="sty_ipt_form" TabOrder="14" Top="171" Width="72"></Combo>
				<MaskEdit BindDataset="ds_onlinePayment" Border="Flat" Column="virtl_acc_amt" Enable="FALSE" Height="20" Id="msk_virtlAccAmt" Left="165" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" OnChanged="div_onlinePayment_msk_virtlAccAmt_OnChanged" OnKeyDown="div_onlinePayment_msk_virtlAccAmt_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="15" Top="172" Value="0" Width="89"></MaskEdit>
				<Combo BindDataset="ds_onlinePayment" Border="Flat" Column="crdtcrd_foi_cl1" Height="20" Id="cmb_crdtcrdFoiCl1" Left="421" OnChanged="div_onlinePayment_cmb_crdtcrdFoiCl1_OnChanged" Style="sty_ipt_form" TabOrder="17" Top="148" Width="72"></Combo>
				<Combo BindDataset="ds_onlinePayment" Border="Flat" Column="crdtcrd_foi_cl2" Height="20" Id="cmb_crdtcrdFoiCl2" Left="421" OnChanged="div_onlinePayment_cmb_crdtcrdFoiCl2_OnChanged" Style="sty_ipt_form" TabOrder="16" Top="171" Width="72"></Combo>
				<Edit BindDataset="ds_onlinePayment" Border="Flat" Column="online_stl_plc_nm" Height="20" Id="edt_onlineStlPlcNm" ImeMode="none" Left="94" LeftMargin="2" OnKeyDown="div_onlinePayment_edt_onlineStlPlcNm_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="19" Top="126" Width="92"></Edit>
				<Button Cursor="HAND" Height="20" Id="btn_onlineStlPlc" ImageID="btn_i_detail_b" Left="186" OnClick="div_onlinePayment_btn_onlineStlPlc_OnClick" TabOrder="18" Text="Button0" Top="126" Width="20"></Button>
				<Edit BindDataset="ds_onlinePayment" Border="Flat" Column="online_stl_plc" Enable="FALSE" Height="20" Id="edt_onlineStlPlc" Left="204" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="20" Top="126" Width="79"></Edit>
				<Edit BindDataset="ds_onlinePayment" Border="Flat" Column="crdtcrd_corp_nm1" Height="20" Id="edt_crdtcrdCorpNm1" Left="326" LeftMargin="2" OnChanged="div_onlinePayment_edt_crdtcrdCorpNm1_OnChanged" OnKeyDown="div_onlinePayment_edt_crdtcrdCorpNm1_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="22" Top="149" Width="78"></Edit>
				<Button Cursor="HAND" Height="20" Id="btn_crdtcrdCorp1" ImageID="btn_i_detail_b" Left="402" OnClick="div_onlinePayment_btn_crdtcrdCorp1_OnClick" TabOrder="21" Top="149" Width="20"></Button>
				<Edit BindDataset="ds_onlinePayment" Border="Flat" Column="crdtcrd_corp1" Height="20" Id="edt_crdtcrdCorp1" Left="524" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="23" Top="126" Visible="FALSE" Width="24"></Edit>
				<Edit BindDataset="ds_onlinePayment" Border="Flat" Column="crdtcrd_corp_nm2" Height="20" Id="edt_crdtcrdCorpNm2" Left="326" LeftMargin="2" OnChanged="div_onlinePayment_edt_crdtcrdCorpNm2_OnChanged" OnKeyDown="div_onlinePayment_edt_crdtcrdCorpNm2_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="25" Top="172" Width="78"></Edit>
				<Button Cursor="HAND" Height="20" Id="btn_crdtcrdCorp2" ImageID="btn_i_detail_b" Left="402" OnClick="div_onlinePayment_btn_crdtcrdCorp2_OnClick" TabOrder="24" Top="172" Width="20"></Button>
				<Edit BindDataset="ds_onlinePayment" Border="Flat" Column="crdtcrd_corp2" Height="20" Id="edt_crdtcrdCorp2" Left="564" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="26" Top="126" Visible="FALSE" Width="24"></Edit>
				<Static Align="Right" Height="20" Id="Static6" Left="246" Style="sty_lb_dataview" TabOrder="30" Text="신용카드2" Top="91" VAlign="Middle" Width="76"></Static>
				<Static Align="Right" Height="20" Id="Static7" Left="246" Style="sty_lb_dataview" TabOrder="27" Text="신용카드1" Top="68" VAlign="Middle" Width="76"></Static>
				<Combo BindDataset="ds_payment" Border="Flat" CodeColumn="deal_co_cd" Column="crdtcrd_corp2" DataColumn="deal_co_nm" Height="20" Id="cmb_crdtcrdcorp2" InnerDataset="ds_crdtcrdCorp" Left="326" OnChanged="div_onlinePayment_cmb_crdtcrdcorp2_OnChanged" Style="sty_ipt_form" TabOrder="28" Top="90" Width="72"></Combo>
				<Combo BindDataset="ds_payment" Border="Flat" CodeColumn="deal_co_cd" Column="crdtcrd_corp1" DataColumn="deal_co_nm" Height="20" Id="cmb_crdtcrdcorp1" InnerDataset="ds_crdtcrdCorp" Left="326" OnChanged="div_onlinePayment_cmb_crdtcrdcorp1_OnChanged" Style="sty_ipt_form" TabOrder="29" Top="67" Width="72"></Combo>
				<MaskEdit BindDataset="ds_payment" Border="Flat" Column="crdtcrd_pay_amt1" Enable="FALSE" Height="20" Id="msk_crdtcrdPayAmt1" Left="398" LeftMargin="2" MaxLength="10" NullValue="0" OnChanged="div_onlinePayment_msk_crdtcrdPayAmt1_OnChanged" OnKeyDown="div_onlinePayment_msk_crdtcrdPayAmt1_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="31" Top="68" Value="0" Width="89"></MaskEdit>
				<MaskEdit BindDataset="ds_payment" Border="Flat" Column="crdtcrd_pay_amt2" Enable="FALSE" Height="20" Id="msk_crdtcrdPayAmt2" Left="398" LeftMargin="2" MaxLength="10" NullValue="0" OnChanged="div_onlinePayment_msk_crdtcrdPayAmt2_OnChanged" OnKeyDown="div_onlinePayment_msk_crdtcrdPayAmt2_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="32" Top="91" Value="0" Width="89"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static9" Left="30" Style="sty_lb_dataview" TabOrder="33" Text="현금수납" Top="68" VAlign="Middle" Width="60"></Static>
				<MaskEdit BindDataset="ds_payment" Border="Flat" Column="cash_pay_amt" Height="20" Id="msk_cashPayAmt" Left="94" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" OnChanged="div_onlinePayment_msk_cashPayAmt_OnChanged" OnKeyDown="div_onlinePayment_msk_cashPayAmt_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="34" Top="68" Value="0" Width="160"></MaskEdit>
				<Radio BindDataset="ds_onlinePayment" Border="None" Column="online_payment_cl" ColumnCount="2" Height="20" Id="rdo_onlinePaymentCl" INDEX="-1" Left="95" LeftMargin="5" OnChanged="div_onlinePayment_rdo_onlinePaymentCl_OnChanged" RightMargin="5" Style="sty_opt_input" TabOrder="36" Top="30" Width="160"></Radio>
				<Static Align="Right" Height="20" Id="Static10" Left="-1" Style="sty_lb_Basic" TabOrder="35" Text="수납구분" Top="30" VAlign="Middle" Width="92"></Static>
				<Shape Bottom="60" Height="1" Id="Shape0" Left="-1" LineColor="user9" Right="605" TabOrder="37" Top="59" Width="606"></Shape>
				<Shape Bottom="120" Height="1" Id="Shape1" Left="-1" LineColor="user9" Right="605" TabOrder="38" Top="119" Width="606"></Shape>
				<MaskEdit BindDataset="ds_payment" Border="Flat" Column="phone_safe_amt" Enable="FALSE" Height="20" Id="msk_PhoneSafeAmt" Left="94" LeftMargin="2" MaxLength="10" NullValue="0" OnChanged="div_onlinePayment_msk_crdtcrdPayAmt1_OnChanged" OnKeyDown="div_onlinePayment_msk_crdtcrdPayAmt1_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="39" Top="91" Value="0" Width="160"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static11" Left="6" Style="sty_lb_dataview" TabOrder="40" Text="폰세이프금액" Top="91" VAlign="Middle" Width="84"></Static>
			</Contents>
		</Div>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_close" ImageID="btn_d_2" Left="312" LeftMargin="5" OnClick="btn_close_OnClick" OnKeyDown="btn_close_OnKeyDown" Style="sty_btn_d" TabOrder="3" Text="닫기" Top="353" Width="60"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_save" ImageID="btn_c_2" Left="248" LeftMargin="5" OnClick="btn_save_OnClick" OnKeyDown="btn_save_OnKeyDown" Style="sty_btn_c" TabOrder="4" Text="저장" Top="353" Width="60"></Button>
		<Image Align="Left" Height="25" Id="Image4" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="6" Text="SKT&#32;예수금" Top="258" Width="192"></Image>
		<Div Border="Raised" Height="61" Id="div_sktPrprc" Left="10" Style="sty_div_input" TabOrder="5" Text="Div0" Top="283" Width="606">
			<Contents>
				<Static Align="Right" Height="20" Id="Static3" Left="14" Style="sty_lb_dataview" TabOrder="2" Text="현금수납" Top="30" VAlign="Middle" Width="76"></Static>
				<Static Align="Right" Height="20" Id="Static5" Left="245" Style="sty_lb_dataview" TabOrder="3" Text="대납" Top="30" VAlign="Middle" Width="76"></Static>
				<Static Align="Right" Height="20" Id="Static1" Left="22" Style="sty_lb_dataview" TabOrder="1" Text="수납대상" Top="7" VAlign="Middle" Width="68"></Static>
				<MaskEdit BindDataset="ds_sktPayment" Border="Flat" Column="skt_pay_amt" Enable="FALSE" Height="20" Id="msk_payAmt" Left="94" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Value="0" Width="160"></MaskEdit>
				<MaskEdit BindDataset="ds_sktPayment" Border="Flat" Column="skt_prprc_cash_pay_amt" Height="20" Id="msk_cashPayAmt" Left="94" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" OnChanged="div_SktPrprc_msk_cashPayAmt_OnChanged" OnKeyDown="div_SktPrprc_msk_cashPayAmt_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="30" Value="0" Width="160"></MaskEdit>
				<MaskEdit BindDataset="ds_sktPayment" Border="Flat" Column="skt_prprc_prxpay_amt" Height="20" Id="msk_prxpayAmt" Left="326" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" OnChanged="div_SktPrprc_msk_prxpayAmt_OnChanged" OnKeyDown="div_SktPrprc_msk_prxpayAmt_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="30" Value="0" Width="160"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static6" Left="254" Style="sty_lb_dataview" TabOrder="7" Text="수납합계" Top="7" VAlign="Middle" Width="68"></Static>
				<MaskEdit BindDataset="ds_sktPayment" Border="Flat" Column="skt_pay_sum_amt" Enable="FALSE" Height="20" Id="msk_paySumAmt" Left="327" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="7" Value="0" Width="160"></MaskEdit>
			</Contents>
		</Div>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* 프로그램ID : SALORG00200
* 업무명      : 수납정보
* 프로그램명  : 팝업
--------------------------------------------------------------------------------
* 작성자      : 이문규
* 작성일      : 2009.04.03
--------------------------------------------------------------------------------
* 1. 변경이력
수정자    :
수정일    :
수정 내역 :
*******************************************************************************/

//==============================================================================
// 공통 스크립트 로딩
//==============================================================================
#include "lib::lib_commF.js"
#include "lib::lib_commMsg.js"
#include "lib::lib_commPopup.js"
#include "lib::lib_SAL.js"

//==============================================================================
// 폼 변수 정의
//==============================================================================
var FV_STR_NAME;          // 사용자 이름
var FV_SALE_CHG_HST_CL;   // 판매변경 이력구분
var excuteMethod;         //popup 종료시 실행할 parent 메소드

var sOldCrdtCorp1;		// 금액변경 없이 신용카드만을 변경할 수 없도록 하기위한 변수
var sOldCrdtAmt1;
var sOldCrdtCorp2;
var sOldCrdtAmt2;
/*******************************************************************************
 * @description    : 최초 폼 로드시 발생 - 이벤트
*******************************************************************************/
function SALORG00200_OnLoadCompleted(obj)
{
    FV_SALE_CHG_HST_CL = param1;
    
	lf_combomInit();
	lf_formInit();  
}

/*******************************************************************************
 * @description         : 콤보박스 초기화
*******************************************************************************/
function lf_combomInit()
{
    http.Sync = true;
	// 공통 코드를 위한 데이타셋 설정
	cf_setCommonCodeDsEnv();

	//온라인수납구분 - 1:수납, 2:온라인수납
	cf_setCommonCode("div_onlinePayment.rdo_onlinePaymentCl"  , "ZSAL_C_00320");  //수납구분,  수납, 온라인수납

    //수납 카드사 정보
    sf_getCardCorpList("ds_input", "ds_crdtcrdCorp", p_saleDtm );
    
    //온라인정산처
	//cf_setCommonCode("div_onlinePayment.cmb_onlineStlPlc"  , "ZBAS_C_00370" , "선택");	
    //일반계좌입금
	cf_setCommonCode("div_onlinePayment.cmb_accTrnsfCl"    , "ZBAS_C_00370" , "선택");	
    //가상계좌입금
	cf_setCommonCode("div_onlinePayment.cmb_virtlAccCl"    , "ZBAS_C_00370" , "선택");	

	//수납정보 - 판매 - 무이자구분신용카드1
	cf_setCommonCode("div_onlinePayment.cmb_crdtcrdFoiCl1"  , "ZPOL_C_00490" , "선택");	
	//수납정보 - 판매 - 무이자구분신용카드2
	cf_setCommonCode("div_onlinePayment.cmb_crdtcrdFoiCl2"  , "ZPOL_C_00490" , "선택");

	// 설정된 코드를 기반으로 공통 코드를 추가 및 데이타 바인딩
	cf_checkCommonCode();
	http.Sync = false;
	
	
}

/*******************************************************************************
 * @description         : 폼 초기화
*******************************************************************************/
function lf_formInit()
{
    var sOnlinePaymentCl = parent.ds_param.GetColumn(0,"online_payment_cl");

	cf_setParam(ds_onlinePayment, "online_payment_cl"  , sOnlinePaymentCl );
	
	cf_setParam(ds_onlinePayment, "pay_amt"            , parent.ds_param.GetColumn(0,"pay_amt") );
	cf_setParam(ds_onlinePayment, "online_stl_plc"     , parent.ds_param.GetColumn(0,"online_stl_plc") );
	cf_setParam(ds_onlinePayment, "online_stl_plc_nm"  , parent.ds_param.GetColumn(0,"online_stl_plc_nm") );
	cf_setParam(ds_onlinePayment, "acc_trnsf_cl"       , parent.ds_param.GetColumn(0,"acc_trnsf_cl") );
	cf_setParam(ds_onlinePayment, "acc_trnsf_amt"      , parent.ds_param.GetColumn(0,"acc_trnsf_amt") );
	cf_setParam(ds_onlinePayment, "virtl_acc_cl"       , parent.ds_param.GetColumn(0,"virtl_acc_cl") );
	cf_setParam(ds_onlinePayment, "virtl_acc_amt"      , parent.ds_param.GetColumn(0,"virtl_acc_amt") );
	cf_setParam(ds_onlinePayment, "crdtcrd_corp1"      , parent.ds_param.GetColumn(0,"crdtcrd_corp1") );
	cf_setParam(ds_onlinePayment, "crdtcrd_corp_nm1"   , parent.ds_param.GetColumn(0,"crdtcrd_corp_nm1") );
	cf_setParam(ds_onlinePayment, "crdtcrd_foi_cl1"    , parent.ds_param.GetColumn(0,"crdtcrd_foi_cl1") );
	cf_setParam(ds_onlinePayment, "crdtcrd_pay_amt1"   , parent.ds_param.GetColumn(0,"crdtcrd_pay_amt1") );
	cf_setParam(ds_onlinePayment, "crdtcrd_corp2"      , parent.ds_param.GetColumn(0,"crdtcrd_corp2") );
	cf_setParam(ds_onlinePayment, "crdtcrd_corp_nm2"   , parent.ds_param.GetColumn(0,"crdtcrd_corp_nm2") );
	cf_setParam(ds_onlinePayment, "crdtcrd_foi_cl2"    , parent.ds_param.GetColumn(0,"crdtcrd_foi_cl2") );
	cf_setParam(ds_onlinePayment, "crdtcrd_pay_amt2"   , parent.ds_param.GetColumn(0,"crdtcrd_pay_amt2") );
	
	cf_setParam(ds_payment   , "cash_pay_amt"           , parent.ds_param.GetColumn(0,"pay_cash_pay_amt") );
	cf_setParam(ds_payment   , "phone_safe_amt"         , parent.ds_param.GetColumn(0,"pay_phone_safe_amt") );
	cf_setParam(ds_payment   , "crdtcrd_corp1"          , parent.ds_param.GetColumn(0,"pay_crdtcrd_corp1") );
	cf_setParam(ds_payment   , "crdtcrd_pay_amt1"       , parent.ds_param.GetColumn(0,"pay_crdtcrd_pay_amt1") );
	cf_setParam(ds_payment   , "crdtcrd_corp2"          , parent.ds_param.GetColumn(0,"pay_crdtcrd_corp2") );
	cf_setParam(ds_payment   , "crdtcrd_pay_amt2"       , parent.ds_param.GetColumn(0,"pay_crdtcrd_pay_amt2") );

	sOldCrdtCorp1 =  parent.ds_param.GetColumn(0,"pay_crdtcrd_corp1") );
	sOldCrdtAmt1  =  parent.ds_param.GetColumn(0,"pay_crdtcrd_pay_amt1") );
	sOldCrdtCorp2 =  parent.ds_param.GetColumn(0,"pay_crdtcrd_corp2") );
	sOldCrdtAmt2  =  parent.ds_param.GetColumn(0,"pay_crdtcrd_pay_amt2") );

	cf_setParam(ds_sktPayment, "skt_pay_amt"            , parent.ds_param.GetColumn(0,"skt_pay_amt"));
	cf_setParam(ds_sktPayment, "skt_prprc_cash_pay_amt" , parent.ds_param.GetColumn(0,"skt_prprc_cash_pay_amt") );
	cf_setParam(ds_sktPayment, "skt_prprc_prxpay_amt"   , parent.ds_param.GetColumn(0,"skt_prprc_prxpay_amt") );
	
	if ( uf_IsNull(sOnlinePaymentCl) )
	{
	    sOnlinePaymentCl = "2";
	    div_onlinePayment.rdo_onlinePaymentCl.Value = sOnlinePaymentCl;
	}
	
	if ( sOnlinePaymentCl == "1" )
	{
	    lf_sumPayment();
	}
	else if  ( sOnlinePaymentCl == "2" )
	{
	    lf_sumOnlinePayment();	
	}
	else
	{
	    div_onlinePayment.rdo_onlinePaymentCl.Value = "";
	    lf_clearElement();	    
	}

	lf_setElementEnable(sOnlinePaymentCl);	    
    
	lf_sktSumPayment();	
	
    //lf_divEnable(param1);
}

/*******************************************************************************
 * @description    : 수납합계 - 판매
 ******************************************************************************/
function lf_sumPayment()
{
	var iCashPayAmt     = 0;
	var iPhoneSafeAmt   = 0;
	var iCrdtcrdPayAmt1 = 0;
	var iCrdtcrdPayAmt2 = 0;
	var iPaySumAmt      = 0;
	
	iCashPayAmt     = ParseInt(div_onlinePayment.msk_cashPayAmt.Value );
	iPhoneSafeAmt   = ParseInt(div_onlinePayment.msk_PhoneSafeAmt.Value );
	iCrdtcrdPayAmt1 = ParseInt(div_onlinePayment.msk_crdtcrdPayAmt1.Value );
	iCrdtcrdPayAmt2 = ParseInt(div_onlinePayment.msk_crdtcrdPayAmt2.Value );
		
	iPaySumAmt = iCashPayAmt + iPhoneSafeAmt + iCrdtcrdPayAmt1 + iCrdtcrdPayAmt2;
	div_onlinePayment.msk_paysumamt.Value = iPaySumAmt;
}

/*******************************************************************************
 * @description    : 수납합계 - 판매
 ******************************************************************************/
function lf_sumOnlinePayment()
{
	var iAccTrnsfAmt    = 0;   //일반계좌입금액
	var iVirtlAccAmt    = 0;   //가상계좌입금액
	var iCrdtcrdPayAmt1 = 0;   //신용카드입금액1
	var iCrdtcrdPayAmt2 = 0;   //신용카드입금액2
	var iPaySumAmt      = 0;   //수납합계금액
	
	iAccTrnsfAmt    = ParseInt(div_onlinePayment.msk_accTrnsfAmt.Value );
	iVirtlAccAmt    = ParseInt(div_onlinePayment.msk_VirtlAccAmt.Value );
	iCrdtcrdPayAmt1 = ParseInt(div_onlinePayment.msk_onlineCrdtcrdPayAmt1.Value );
	iCrdtcrdPayAmt2 = ParseInt(div_onlinePayment.msk_onlineCrdtcrdPayAmt2.Value );
		
	iPaySumAmt = iAccTrnsfAmt + iVirtlAccAmt + iCrdtcrdPayAmt1 + iCrdtcrdPayAmt2;

	div_onlinePayment.msk_paysumamt.Value = iPaySumAmt;
}

/*******************************************************************************
 * @description    : 수납합계 - SKT예수금
 ******************************************************************************/
function lf_sktSumPayment()
{
	var iCashPayAmt  = 0;
	var iPrxpayAmt   = 0;
	var iPaySumAmt   = 0;
	
	iCashPayAmt      = ParseInt(div_sktPrprc.msk_cashPayAmt.Value );
	iPrxpayAmt       = ParseInt(div_sktPrprc.msk_prxpayAmt.Value );
		
	iPaySumAmt = iCashPayAmt + iPrxpayAmt;
	
	div_sktPrprc.msk_paySumAmt.Value = iPaySumAmt;
}

/*******************************************************************************
 * @description    : Conbo 선택시 - 금액 입력 mask box로 이동 및 처리
 ******************************************************************************/
function lf_selectComboVal(sStrCode, sObj)
{
    //선택 = "" , 기타 .... 
	if ( sStrCode == "")
	{
	    sObj.Value  = 0;
	    sObj.Enable = false;
	}
	else
	{
	    sObj.Enable = true;
	    sObj.SetFocus();
	}	
}

/*******************************************************************************
 * @description    : 저장 - 이벤트 : 부모창에 수납금액 셋팅
*******************************************************************************/
function btn_save_OnClick(obj)
{
    //소매수납 및 온라인수납 validation check
    var sOnlinePaymentCl = div_onlinePayment.rdo_onlinePaymentCl.Value;
    
    if ( sOnlinePaymentCl == "1" )
    {
        
    }
    else if ( sOnlinePaymentCl == "2" )
    {
		if ( uf_IsNull(div_onlinePayment.edt_onlineStlPlc.Value) )
		{
			alert("온라인 결제처를 선택해 주십시요.");
			return;
		}
		
		if ( !uf_IsNull(div_onlinePayment.cmb_crdtcrdFoiCl1.Value) && uf_IsNull(div_onlinePayment.edt_crdtcrdCorp1.Text) )
		{
			alert("신용카드1을 선택해 주십시요.");
			return;
		}		
    	
    	if ( !uf_IsNull(div_onlinePayment.cmb_crdtcrdFoiCl2.Value) && uf_IsNull(div_onlinePayment.edt_crdtcrdCorp2.Text) )
		{
			alert("신용카드2을 선택해 주십시요.");
			return;
		}		
    }
    else
    {
        alert("수납구분을 선택해 주십시요.");
        return;
    }
    
	if (div_onlinePayment.msk_payAmt.Value !=  div_onlinePayment.msk_paySumAmt.Value )
	{
		alert("수납의 수납대상 금액과 수납합계 금액을 확인해주십시요."); 
		return;
	}
	     
	//SKT예수금 수납 validation check
    if (div_sktPrprc.msk_payAmt.Value !=  div_sktPrprc.msk_paySumAmt.Value )
    {
        alert("SKT예수금의 수납대상 금액과 수납합계 금액을 확인해주십시요."); 
        return;
    } 

    if (sOldCrdtCorp1 != ds_payment.GetColumn(0,"crdtcrd_corp1") && 
        sOldCrdtAmt1  == ds_payment.GetColumn(0,"crdtcrd_pay_amt1") )
    {
        alert("금액변경 없이 신용카드만을 변경할 수는 없습니다."); 
        return;
    }

    if (sOldCrdtCorp2 != ds_payment.GetColumn(0,"crdtcrd_corp2") && 
        sOldCrdtAmt2  == ds_payment.GetColumn(0,"crdtcrd_pay_amt2") )
    {
        alert("금액변경 없이 신용카드만을 변경할 수는 없습니다."); 
        return;
    }

	cf_setParam(parent.ds_param, "online_payment_cl"     , ds_onlinePayment.GetColumn(0,"online_payment_cl"));

	cf_setParam(parent.ds_param, "pay_amt"               , ds_onlinePayment.GetColumn(0,"pay_amt"));
	cf_setParam(parent.ds_param, "online_stl_plc"        , ds_onlinePayment.GetColumn(0,"online_stl_plc"));
	cf_setParam(parent.ds_param, "online_stl_plc_nm"     , ds_onlinePayment.GetColumn(0,"online_stl_plc_nm"));
	cf_setParam(parent.ds_param, "acc_trnsf_cl"          , ds_onlinePayment.GetColumn(0,"acc_trnsf_cl"));
	cf_setParam(parent.ds_param, "acc_trnsf_amt"         , ds_onlinePayment.GetColumn(0,"acc_trnsf_amt") );
	cf_setParam(parent.ds_param, "virtl_acc_cl"          , ds_onlinePayment.GetColumn(0,"virtl_acc_cl") );
	cf_setParam(parent.ds_param, "virtl_acc_amt"         , ds_onlinePayment.GetColumn(0,"virtl_acc_amt") );
	cf_setParam(parent.ds_param, "crdtcrd_corp1"         , ds_onlinePayment.GetColumn(0,"crdtcrd_corp1") );
	cf_setParam(parent.ds_param, "crdtcrd_corp_nm1"      , ds_onlinePayment.GetColumn(0,"crdtcrd_corp_nm1") );
	cf_setParam(parent.ds_param, "crdtcrd_foi_cl1"       , ds_onlinePayment.GetColumn(0,"crdtcrd_foi_cl1") );
	cf_setParam(parent.ds_param, "crdtcrd_pay_amt1"      , ds_onlinePayment.GetColumn(0,"crdtcrd_pay_amt1") );
	cf_setParam(parent.ds_param, "crdtcrd_corp2"         , ds_onlinePayment.GetColumn(0,"crdtcrd_corp2") );
	cf_setParam(parent.ds_param, "crdtcrd_corp_nm2"      , ds_onlinePayment.GetColumn(0,"crdtcrd_corp_nm2") );
	cf_setParam(parent.ds_param, "crdtcrd_foi_cl2"       , ds_onlinePayment.GetColumn(0,"crdtcrd_foi_cl2") );
	cf_setParam(parent.ds_param, "crdtcrd_pay_amt2"      , ds_onlinePayment.GetColumn(0,"crdtcrd_pay_amt2") );

	cf_setParam(parent.ds_param, "pay_cash_pay_amt"      , ds_payment.GetColumn(0,"cash_pay_amt") );
	cf_setParam(parent.ds_param, "pay_phone_safe_amt"    , ds_payment.GetColumn(0,"phone_safe_amt") );
	cf_setParam(parent.ds_param, "pay_crdtcrd_corp1"     , ds_payment.GetColumn(0,"crdtcrd_corp1") );
	cf_setParam(parent.ds_param, "pay_crdtcrd_pay_amt1"  , ds_payment.GetColumn(0,"crdtcrd_pay_amt1") );
	cf_setParam(parent.ds_param, "pay_crdtcrd_corp2"     , ds_payment.GetColumn(0,"crdtcrd_corp2") );
	cf_setParam(parent.ds_param, "pay_crdtcrd_pay_amt2"  , ds_payment.GetColumn(0,"crdtcrd_pay_amt2") );
	cf_setParam(parent.ds_param, "skt_pay_amt"           , ds_sktPayment.GetColumn(0,"skt_pay_amt") );
	cf_setParam(parent.ds_param, "skt_prprc_cash_pay_amt", ds_sktPayment.GetColumn(0,"skt_prprc_cash_pay_amt") );
	cf_setParam(parent.ds_param, "skt_prprc_prxpay_amt"  , ds_sktPayment.GetColumn(0,"skt_prprc_prxpay_amt") );
	
// 인수로 전달 받은 부모창의 함수를 실행하고 창을 종료한다
/*******************************************************************************
 * @description         : 인수로 넘겨 받은 명의 함수를 실행학소 창을 종료
 * @param sMethodName   : 메소드 명 
		  sParam   		: 메소드 인자
*******************************************************************************/
	cf_callnClose(excuteMethod, "");
}

/*******************************************************************************
 * @description    : 닫기 - 이벤트
*******************************************************************************/
function btn_close_OnClick(obj)
{
    this.close(); 
}

/*******************************************************************************
 * @description    : 저장버튼에서 enter key 눌렸을때
*******************************************************************************/
function btn_save_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    btn_save.Click();
	}	
}

/*******************************************************************************
 * @description    : 닫기버튼에서 enter key 눌렸을때
*******************************************************************************/
function btn_close_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    btn_close.Click();
	}	
}

/*******************************************************************************
 * @description    : 수납정보-판매 - 일반계좌입금 변경 시 처리 
*******************************************************************************/
function div_onlinePayment_cmb_accTrnsfCl_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    lf_selectComboVal(strCode, div_onlinePayment.msk_accTrnsfAmt);
}

/*******************************************************************************
 * @description    : 수납정보-판매 - 가상계좌입금 변경 시 처리 
*******************************************************************************/
function div_onlinePayment_cmb_virtlAccCl_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    lf_selectComboVal(strCode, div_onlinePayment.msk_virtlAccAmt);
}

/*******************************************************************************
 * @description    : 수납정보-판매 - 신용카드1 변경 시 처리 
*******************************************************************************/
function div_onlinePayment_cmb_crdtcrdcorp1_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    lf_selectComboVal(strCode, div_onlinePayment.msk_crdtcrdPayAmt1);
}

/*******************************************************************************
 * @description    : 수납정보-판매 - 신용카드2 변경 시 처리 
*******************************************************************************/
function div_onlinePayment_cmb_crdtcrdcorp2_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    lf_selectComboVal(strCode, div_onlinePayment.msk_crdtcrdPayAmt2);
}

/*******************************************************************************
 * @description    : 온라인수납정보-판매 - 신용카드2 변경 시 처리 
*******************************************************************************/
function div_onlinePayment_cmb_crdtcrdFoiCl1_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    lf_selectComboVal(strCode, div_onlinePayment.msk_onlineCrdtcrdPayAmt1);	
}

/*******************************************************************************
 * @description    : 온라인수납정보-판매 - 신용카드2 변경 시 처리 
*******************************************************************************/
function div_onlinePayment_cmb_crdtcrdFoiCl2_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    lf_selectComboVal(strCode, div_onlinePayment.msk_onlineCrdtcrdPayAmt2);	
}

/*******************************************************************************
 * @description    : 변경구분에 따른 div 초기화
*******************************************************************************/
function lf_divEnable(sSaleChgHstCl)
{
    lf_enablePayment1(sSaleChgHstCl);
}

/*******************************************************************************
 * @description    : 판매수납 - 변경구분에 따른 div 초기화
*******************************************************************************/
function lf_enablePayment1(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "01" :  //01 : 판매
        case "06" :  //06 : 부가서비스변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
            div_onlinePayment.msk_payAmt.Enable         = false;
            div_onlinePayment.msk_paySumAmt.Enable      = false;

            div_onlinePayment.edt_onlineStlPlcNm.Enable = false;
            div_onlinePayment.btn_onlineStlPlc.Enable   = false;
            div_onlinePayment.cmb_accTrnsfCl.Enable     = false;
            div_onlinePayment.msk_accTrnsfAmt.Enable    = false;
            div_onlinePayment.cmb_virtlAccCl.Enable     = false;
            div_onlinePayment.msk_virtlAccAmt.Enable    = false;
            div_onlinePayment.edt_crdtcrdCorpNm1.Enable = false;
            div_onlinePayment.btn_crdtcrdCorp1.Enable   = false;
            div_onlinePayment.cmb_crdtcrdFoiCl1.Enable  = false;
            div_onlinePayment.msk_onlineCrdtcrdPayAmt1.Enable = false;
            div_onlinePayment.edt_crdtcrdCorpNm2.Enable = false;
            div_onlinePayment.btn_crdtcrdCorp2.Enable   = false;
            div_onlinePayment.cmb_crdtcrdFoiCl2.Enable  = false;
            div_onlinePayment.msk_onlineCrdtcrdPayAmt2.Enable = false;
            break;
        case "02" :  //02 : 기기변경
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "05" :  //05 : 판매가변경
        case "09" :  //09 : 판매수정  
            div_onlinePayment.msk_payAmt.Enable = false;
            div_onlinePayment.msk_paySumAmt.Enable = false;

            div_onlinePayment.edt_onlineStlPlcNm.Enable   = true;
            div_onlinePayment.btn_onlineStlPlc.Enable = true;
            
            div_onlinePayment.cmb_accTrnsfCl.Enable     = false;
 //           div_onlinePayment.msk_accTrnsfAmt.Enable    = false;
            lf_enableObjectOfTarget(div_onlinePayment.cmb_accTrnsfCl, div_onlinePayment.msk_accTrnsfAmt);

            div_onlinePayment.cmb_virtlAccCl.Enable     = false;
//            div_onlinePayment.msk_virtlAccAmt.Enable    = false;
            lf_enableObjectOfTarget(div_onlinePayment.cmb_virtlAccCl, div_onlinePayment.msk_virtlAccAmt);
            
            div_onlinePayment.edt_crdtcrdCorpNm1.Enable = true;
            div_onlinePayment.btn_crdtcrdCorp1.Enable = true;
            div_onlinePayment.cmb_crdtcrdFoiCl1.Enable = true;
            lf_enableObjectOfTarget(div_onlinePayment.cmb_crdtcrdcorp1, div_onlinePayment.msk_onlineCrdtcrdPayAmt1);
            
            div_onlinePayment.edt_crdtcrdCorpNm2.Enable = true;
            div_onlinePayment.btn_crdtcrdCorp2.Enable = true;
            div_onlinePayment.cmb_crdtcrdFoiCl2.Enable = true;
            lf_enableObjectOfTarget(div_onlinePayment.cmb_crdtcrdcorp2, div_onlinePayment.msk_onlineCrdtcrdPayAmt2);

            break;
        default:
            break;
    } 
}

function lf_enableObjectOfTarget(oObject,oTarget)
{
    if ( uf_IsNull(oObject.value) )
    {
        oTarget.Enable = false;
    }
    else
    {
        oTarget.Enable = true;
    }
    return;
}


/*******************************************************************************
 * @description    : 수납 금액입력 box에서 enter-key 눌렸을때 다음 입력항목으로 이동
*******************************************************************************/
function div_onlinePayment_msk_cashPayAmt_OnChanged(obj,strText)
{
	lf_sumPayment();
}

function div_onlinePayment_msk_crdtcrdPayAmt1_OnChanged(obj,strText)
{
	lf_sumPayment();
}

function div_onlinePayment_msk_crdtcrdPayAmt2_OnChanged(obj,strText)
{
	lf_sumPayment();
}

/*******************************************************************************
 * @description    : 수납 금액입력 box에서 enter-key 눌렸을때 다음 입력항목으로 이동
*******************************************************************************/
function div_onlinePayment_msk_cashPayAmt_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    lf_sumPayment();
	    div_onlinePayment.cmb_crdtcrdcorp1.SetFocus();
	}
}

function div_onlinePayment_msk_crdtcrdPayAmt1_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    lf_sumPayment();
	    div_onlinePayment.cmb_crdtcrdcorp2.SetFocus();
	}
}

function div_onlinePayment_msk_crdtcrdPayAmt2_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    lf_sumPayment();
	    div_sktPrprc.msk_cashPayAmt.SetFocus();
	}
}

/*******************************************************************************
 * @description    : 금액입력 box에 변경이 있을때 수납금액 sum
*******************************************************************************/
function div_onlinePayment_msk_accTrnsfAmt_OnChanged(obj,strText)
{
	lf_sumOnlinePayment();
}

function div_onlinePayment_msk_virtlAccAmt_OnChanged(obj,strText)
{
	lf_sumOnlinePayment();
}

function div_onlinePayment_msk_onlineCrdtcrdPayAmt1_OnChanged(obj,strText)
{
	lf_sumOnlinePayment();
}

function div_onlinePayment_msk_onlineCrdtcrdPayAmt2_OnChanged(obj,strText)
{
	lf_sumOnlinePayment();
}


/*******************************************************************************
 * @description    : 온라인수납 금액입력 box에서 enter-key 눌렸을때 다음 입력항목으로 이동
*******************************************************************************/
function div_onlinePayment_msk_accTrnsfAmt_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    lf_sumOnlinePayment();
	    div_onlinePayment.cmb_virtlAccCl.SetFocus();
	}
}

function div_onlinePayment_msk_virtlAccAmt_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    lf_sumOnlinePayment();
	    div_onlinePayment.edt_crdtcrdCorpNm1.SetFocus();
	}
}

function div_onlinePayment_msk_onlineCrdtcrdPayAmt1_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    lf_sumOnlinePayment();
	    div_onlinePayment.edt_crdtcrdCorpNm2.SetFocus();
	}
}

function div_onlinePayment_msk_onlineCrdtcrdPayAmt2_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    lf_sumOnlinePayment();
	    div_SktPrprc.msk_cashPayAmt.SetFocus();
	}
}

/*******************************************************************************
 * @description    : SKT예수금 금액입력 box에 변경이 있을때 SKT예수금 수납금액 sum
*******************************************************************************/
function div_SktPrprc_msk_cashPayAmt_OnChanged(obj,strText)
{
	lf_sktSumPayment();
}

function div_SktPrprc_msk_prxpayAmt_OnChanged(obj,strText)
{
	lf_sktSumPayment();
}

/*******************************************************************************
 * @description    : SKT예수금 금액입력 box에서 enter-key 눌렸을때 다음 입력항목으로 이동
*******************************************************************************/
function div_SktPrprc_msk_cashPayAmt_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    lf_sktSumPayment();
	    div_SktPrprc.msk_prxpayAmt.SetFocus();
	}
}

function div_SktPrprc_msk_prxpayAmt_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if ( nChar == 13 )
	{
	    lf_sktSumPayment();
	    btn_save.SetFocus();
	}
}

/******************************************************************************
 * 온라인 정산처 
 *****************************************************************************/
function div_onlinePayment_btn_onlineStlPlc_OnClick(obj)
{
	var sArg  = "deal_co_cl1="+quote("50");
		//sArg += " deal_status="+quote("3"); 	//옵션 (거래처 상태) - 1: 수납정지 N  , 2: 출고정지 N , 3: 판매정지 N 
		//sArg += " pos_agency="+quote(gds_session.GetColumn(0,"posAgencyId")); // 옵션	    
		sArg += " eff_dtm="   +quote(p_saleDtm);

	cf_callDealPop(sArg, div_onlinePayment, "edt_onlineStlPlcNm,edt_onlineStlPlc");	
}

function div_onlinePayment_edt_onlineStlPlcNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	sf_clearControls("div_onlinePayment.edt_onlineStlPlc");
	if ( nChar == 13 )
	{
	    div_onlinePayment.btn_onlineStlPlc.Click();
	}
}

function div_onlinePayment_btn_crdtcrdCorp1_OnClick(obj)
{
	sf_clearControls("div_onlinePayment.edt_crdtcrdCorp1");

	var sArg  = "deal_co_cl1="+quote("70");
		sArg += " eff_dtm="   +quote(p_saleDtm);

	cf_callDealPop(sArg, div_onlinePayment, "edt_crdtcrdCorpNm1,edt_crdtcrdCorp1");	
}

function div_onlinePayment_edt_crdtcrdCorpNm1_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if ( nChar == 13 )
	{
	    div_onlinePayment.btn_crdtcrdCorp1.Click();
	}
}

function div_onlinePayment_btn_crdtcrdCorp2_OnClick(obj)
{
	sf_clearControls("div_onlinePayment.edt_crdtcrdCorp2");

	var sArg  = "deal_co_cl1="+quote("70");

	cf_callDealPop(sArg, div_onlinePayment, "edt_crdtcrdCorpNm2,edt_crdtcrdCorp2");	
}

function div_onlinePayment_edt_crdtcrdCorpNm2_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if ( nChar == 13 )
	{
	    div_onlinePayment.btn_crdtcrdCorp2.Click();
	}	
}

/*******************************************************************************
 * @description    : 수납구분에 따른 소매수납/온라인수납 항목 초기화 및 enable 처리
*******************************************************************************/
function div_onlinePayment_rdo_onlinePaymentCl_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    lf_clearElement(strCode);
	lf_setElementEnable(strCode);
}

/*******************************************************************************
 * @description    : 수납구분에 따른 소매수납/온라인수납 항목 enable 처리
*******************************************************************************/
function lf_setElementEnable(sCl)
{
    var sPayment       = "false"; 
    var sOnlinePayment = "false"; 
    var sSktPayment    = "false";

    switch(sCl)
    {
        case "1":
           	sPayment       = lf_getProcCl();
            sOnlinePayment = "false"; 
            sSktPayment    = sPayment;
            break;
        case "2":
            sPayment       = "false";
          	sOnlinePayment = lf_getProcCl();
            sSktPayment    = sOnlinePayment;
            break;
        default:
            break;
    }
    
    lf_enablePayment(sPayment); 
    lf_enableOnlinePayment(sOnlinePayment); 
    lf_enableSktPayment(sSktPayment); 
    return;
}

function lf_enablePayment(sParam)
{
	div_onlinePayment.msk_cashPayAmt.Enable     = sParam;
    div_onlinePayment.cmb_crdtcrdcorp1.Enable   = sParam;
	lf_enableObjectOfTarget(div_onlinePayment.cmb_crdtcrdcorp1, div_onlinePayment.msk_crdtcrdPayAmt1);
    div_onlinePayment.cmb_crdtcrdcorp2.Enable   = sParam;
	lf_enableObjectOfTarget(div_onlinePayment.cmb_crdtcrdcorp2, div_onlinePayment.msk_crdtcrdPayAmt2);
}

function lf_enableOnlinePayment(sParam)
{
    //div_onlinePayment.rdo_onlinePaymentCl.Enable = sParam;
    
	if ( p_procCl == "2" )
	{
	    div_onlinePayment.edt_onlineStlPlcNm.Enable = false;
	    div_onlinePayment.btn_onlineStlPlc.Enable   = false;
	    
	    div_onlinePayment.cmb_accTrnsfCl.Enable     = false;
	    div_onlinePayment.cmb_virtlAccCl.Enable     = false;
	}
	else
	{
	    div_onlinePayment.edt_onlineStlPlcNm.Enable = sParam;
	    div_onlinePayment.btn_onlineStlPlc.Enable   = sParam;
	    
		div_onlinePayment.cmb_accTrnsfCl.Enable     = sParam;
	    div_onlinePayment.cmb_virtlAccCl.Enable     = sParam;
	}
	
	lf_enableObjectOfTarget(div_onlinePayment.cmb_accTrnsfCl, div_onlinePayment.msk_accTrnsfAmt);
	lf_enableObjectOfTarget(div_onlinePayment.cmb_virtlAccCl, div_onlinePayment.msk_virtlAccAmt);
	
	div_onlinePayment.edt_crdtcrdCorpNm1.Enable = sParam;
	div_onlinePayment.btn_crdtcrdCorp1.Enable   = sParam;
	div_onlinePayment.cmb_crdtcrdFoiCl1.Enable  = sParam;
	lf_enableObjectOfTarget(div_onlinePayment.cmb_crdtcrdFoiCl1, div_onlinePayment.msk_onlineCrdtcrdPayAmt1);
	div_onlinePayment.edt_crdtcrdCorpNm2.Enable = sParam;
	div_onlinePayment.btn_crdtcrdCorp2.Enable   = sParam;
	div_onlinePayment.cmb_crdtcrdFoiCl2.Enable  = sParam;   
	lf_enableObjectOfTarget(div_onlinePayment.cmb_crdtcrdFoiCl2, div_onlinePayment.msk_onlineCrdtcrdPayAmt2);
}

function lf_enableSktPayment(sParam)
{
	div_sktPrprc.msk_cashPayAmt.Enable     = sParam;
	div_sktPrprc.msk_prxpayAmt.Enable      = sParam;
}

/*******************************************************************************
 * @description    : 일반판매등록 화면에서 호출 일때는 "true"
                     일반판매변경 화면 일때는 판매변경구분에 따른 " true","false" 리턴
*******************************************************************************/
function lf_getProcCl()
{
    var sRtn = "";
    
	if ( p_procCl == "1" )  // 구분 1 : 일반판매등록  , 2 : 일반판매변경
	{
		sRtn       = "true";
	}
	else
	{
		//02 : 기기변경 , 03 : 할부추가 , 04 : 할부취소 , 05 : 판매가변경 , 09 : 판매수정          
		if ( FV_SALE_CHG_HST_CL == "02" ||
			 FV_SALE_CHG_HST_CL == "03" || FV_SALE_CHG_HST_CL == "04" ||
			 FV_SALE_CHG_HST_CL == "05" || FV_SALE_CHG_HST_CL == "09" )
		{
			sRtn       = "true";
		}
		else
		{
			sRtn       = "false";
		}
	}  
	return sRtn;
}

/*******************************************************************************
 * @description    : 수납구분에 따른 소매수납/온라인수납 항목 초기화 처리
*******************************************************************************/
function lf_clearElement(sCl)
{
    switch(sCl)
    {
        case "1":
            lf_clearOnlinePayment();
            break;
        case "2":
            lf_clearPayment();
            break;
        default:
            lf_clearPayment();
            lf_clearOnlinePayment();
            break;
    }
    return;
}

function lf_clearPayment()
{
	div_onlinePayment.msk_cashPayAmt.Value      = "0";
	div_onlinePayment.cmb_crdtcrdcorp1.Value    = "";
	div_onlinePayment.msk_crdtcrdPayAmt1.Value  = "0";
	div_onlinePayment.cmb_crdtcrdcorp2.Value    = "";
	div_onlinePayment.msk_crdtcrdPayAmt2.Value  = "0";
}

function lf_clearOnlinePayment()
{
	div_onlinePayment.edt_onlineStlPlcNm.Text   = "" ;
	div_onlinePayment.edt_onlineStlPlc.Text     = "" ;
	div_onlinePayment.cmb_accTrnsfCl.Value      = "";
	div_onlinePayment.msk_accTrnsfAmt.Value     = "0";
	div_onlinePayment.cmb_virtlAccCl.Value      = "";
	div_onlinePayment.msk_virtlAccAmt.Value     = "0";
	div_onlinePayment.edt_crdtcrdCorpNm1.Text   = "";
	div_onlinePayment.cmb_crdtcrdFoiCl1.Value   = "";
	div_onlinePayment.msk_onlineCrdtcrdPayAmt1.Value = "0";
	div_onlinePayment.edt_crdtcrdCorpNm2.Text   = "";
	div_onlinePayment.cmb_crdtcrdFoiCl2.Value   = "";
	div_onlinePayment.msk_onlineCrdtcrdPayAmt2.Value = "0";
}


function div_onlinePayment_edt_crdtcrdCorpNm1_OnChanged(obj,strText)
{
    
	if ( uf_IsNull(strText) )
	{
	    div_onlinePayment.edt_crdtcrdCorp1.Text = "";
	    div_onlinePayment.cmb_crdtcrdFoiCl1.Value = "";
	    //div_onlinePayment.cmb_crdtcrdFoiCl1.Enable = false;
	    div_onlinePayment.msk_onlineCrdtcrdPayAmt1.Value = 0;
	    div_onlinePayment.msk_onlineCrdtcrdPayAmt1.Enable = false;
	}
}

function div_onlinePayment_edt_crdtcrdCorpNm2_OnChanged(obj,strText)
{
	if ( uf_IsNull(strText) )
	{
	    div_onlinePayment.edt_crdtcrdCorp2.Text = "";
	    div_onlinePayment.cmb_crdtcrdFoiCl2.Value = "";
	    //div_onlinePayment.cmb_crdtcrdFoiCl2.Enable = false;
	    div_onlinePayment.msk_onlineCrdtcrdPayAmt2.Value = 0;
	    div_onlinePayment.msk_onlineCrdtcrdPayAmt2.Enable = false;
	}	
}
]]></Script>
</Window>
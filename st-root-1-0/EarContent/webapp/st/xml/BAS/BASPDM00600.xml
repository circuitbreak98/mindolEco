<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="568" Id="BASPDM00600" Left="8" OnLoadCompleted="BASPDM00600_OnLoadCompleted" PidAttrib="7" Title="중고단말기상품등록" Top="8" Ver="1.0" Width="896" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_prod_mgmt" OnColumnChanged="ds_prod_mgmt_OnColumnChanged">
				<Contents>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="MST_PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="MST_PROD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="MFACT_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="COMP_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="PREFER_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="MAX_PRICE" size="256" summ="default" type="STRING"/>
					<colinfo id="GRADE_GB" size="256" summ="default" type="STRING"/>
					<colinfo id="SETOFF_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="MKTG_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="END_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CHRTIC_1" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CHRTIC_2" size="256" summ="default" type="STRING"/>
					<colinfo id="BAR_CD_TYP" size="256" summ="default" type="STRING"/>
					<colinfo id="RGST_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_STOP_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="IN_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="IN_STOP_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="UPLST_MDL_CNT" size="256" summ="default" type="STRING"/>
					<colinfo id="COM_MTHD" size="256" summ="default" type="STRING"/>
					<colinfo id="SER_LEN" size="256" summ="default" type="STRING"/>
					<colinfo id="STRD_SALE_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="FIX_AMT_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPPL_DT" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_condition">
				<Contents>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPPL_DT" size="256" summ="default" type="STRING"/>
					<record>
						<PROD_CD></PROD_CD>
						<PROD_NM></PROD_NM>
						<SUPPL_DT></SUPPL_DT>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rgst_cl">
				<Contents>
					<colinfo id="code" size="256" summ="default" type="STRING"/>
					<colinfo id="name" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_mfact_id">
				<Contents>
					<colinfo id="code" size="256" summ="default" type="STRING"/>
					<colinfo id="name" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_prod_dtl_cl"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ZBAS_C_00011"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ZBAS_C_00012"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ZBAS_C_00013"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_allColor"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_suppl" OnColumnChanged="ds_suppl_OnColumnChanged">
				<Contents>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SEQ" size="256" summ="default" type="STRING"/>
					<colinfo id="DTL_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="QTY" size="256" summ="default" type="STRING"/>
					<colinfo id="PRICE" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_PRICE" size="256" summ="default" type="STRING"/>
					<colinfo id="CMP_PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="ST_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="ED_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="MUST_YN" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rate">
				<Contents>
					<colinfo id="code" size="256" summ="default" type="STRING"/>
					<colinfo id="name" size="256" summ="default" type="STRING"/>
					<record>
						<code>0</code>
						<name>선택</name>
					</record>
					<record>
						<code>1</code>
						<name>A군(인기스마트폰)</name>
					</record>
					<record>
						<code>2</code>
						<name>B군(비인기스마트폰)</name>
					</record>
					<record>
						<code>3</code>
						<name>C군(인기피쳐폰)</name>
					</record>
					<record>
						<code>4</code>
						<name>D군(비인기피쳐폰)</name>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ext">
				<Contents>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SEQ" size="256" summ="default" type="STRING"/>
					<colinfo id="DTL_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="QTY" size="256" summ="default" type="STRING"/>
					<colinfo id="PRICE" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ParentColor">
				<Contents>
					<colinfo id="code" size="256" summ="default" type="STRING"/>
					<colinfo id="name" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_condition_tmp">
				<Contents>
					<colinfo id="prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cudFlag" size="256" summ="default" type="STRING"/>
					<colinfo id="rgst_cl" size="256" summ="default" type="STRING"/>
					<record>
						<cudFlag></cudFlag>
						<prod_cd></prod_cd>
						<prod_nm></prod_nm>
						<rgst_cl></rgst_cl>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_chrtic1">
				<Contents></Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ParentProd">
				<Contents>
					<colinfo id="PROD_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="MFACT_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_oper_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CHRTIC_1" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_CHRTIC_2" size="256" summ="default" type="STRING"/>
					<colinfo id="MKTG_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="END_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="mfact_nm" size="256" summ="default" type="STRING"/>
					<record>
						<END_DT></END_DT>
						<MFACT_ID></MFACT_ID>
						<mfact_nm></mfact_nm>
						<MKTG_DT></MKTG_DT>
						<PROD_CD></PROD_CD>
						<PROD_CHRTIC_1></PROD_CHRTIC_1>
						<PROD_CHRTIC_2></PROD_CHRTIC_2>
						<PROD_CL></PROD_CL>
						<PROD_NM></PROD_NM>
						<skt_oper_yn></skt_oper_yn>
					</record>
				</Contents>
			</Dataset>
		</Datasets>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_save" ImageID="btn_c_2" Left="680" LeftMargin="5" OnClick="btn_save_onClick" Style="sty_btn_c" TabOrder="1" Text="저장" Top="528" Width="60"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_close" ImageID="btn_d_2" Left="810" LeftMargin="5" OnClick="btn_close_OnClick" Style="sty_btn_d" TabOrder="4" Text="닫기" Top="528" Width="60"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_delete" ImageID="btn_d_2" Left="745" LeftMargin="5" OnClick="btn_del_OnClick" Style="sty_btn_d" TabOrder="3" Text="삭제" Top="528" Width="60"></Button>
		<Tab Border="Flat" Height="453" Id="tab_prod" Left="16" MouseOverColor="user12" SelColor="user11" SelectFont="돋움,9,Bold" Style="sty_tab" TabOrder="2" Top="72" Width="864">
			<Contents>
				<TabPage BorderColor="black" Height="424" Id="tab_prodInfo" ImageID="tab_blue" Left="2" TabOrder="19" Text="상품정보" Top="27" Width="860">
					<Div Border="Raised" Height="165" Id="div_basic_info" Left="10" Style="sty_div_input" TabOrder="1" Text="Div0" Top="30" Width="607">
						<Contents>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" CodeColumn="code" Column="MFACT_ID" DataColumn="name" Height="20" Id="cob_mafct_id" InnerDataset="ds_mfact_id" Left="96" Style="sty_ipt_form" TabOrder="4" Top="56" Width="165"></Combo>
							<Static Align="Right" Border="None" Height="20" Id="stc_mktg_dt" Left="311" Style="sty_lb_Basic" TabOrder="4" Text="출시일" Top="56" VAlign="Middle" Width="72"></Static>
							<Calendar BindDataset="ds_prod_mgmt" Border="Flat" ButtonImageID="btn_i_calendar" Column="MKTG_DT" DayFont="Default,-1" DayStyle="sty_calendar_day" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_mktg_dt" Left="386" LeftMargin="2" NullValue="&#32;" OnChanged="div_basic_info_cal_mktg_dt_OnChanged" RightMargin="2" SaturdayTextColor="user28" SelDayStyle="sty_calendar_day" SelectedDayFont="Default,-1" Style="sty_ipt_form" SundayTextColor="user27" TabOrder="5" TodayColor="user26" Top="57" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="100"></Calendar>
							<Static Align="Right" Border="None" Height="20" Id="stc_mafct_id" Left="12" Style="sty_lb_Basic" TabOrder="6" Text="제조사" Top="57" VAlign="Middle" Width="80"></Static>
							<Static Align="Right" Border="None" Height="20" Id="stc_end_dt" Left="311" Style="sty_lb_Basic" TabOrder="6" Text="단종일" Top="80" VAlign="Middle" Width="72"></Static>
							<Calendar BindDataset="ds_prod_mgmt" Border="Flat" ButtonImageID="btn_i_calendar" Column="END_DT" DayFont="Default,-1" DayStyle="sty_calendar_day" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_end_dt" Left="386" LeftMargin="2" NullValue="&#32;" RightMargin="2" SaturdayTextColor="user28" SelDayStyle="sty_calendar_day" SelectedDayFont="Default,-1" Style="sty_ipt_form" SundayTextColor="user27" TabOrder="5" TodayColor="user26" Top="80" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="100"></Calendar>
							<Static Align="Right" Border="None" Height="20" Id="stc_u_key_if_yn" Left="303" Style="sty_lb_Basic" TabOrder="6" Text="등록구분" Top="102" VAlign="Middle" Width="80"></Static>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" Column="RGST_CL" Height="20" Id="cob_rgst_cl" Left="385" Style="sty_ipt_form" TabOrder="6" Top="102" Width="101"></Combo>
							<Image Height="21" Id="Image2" ImageID="bul_mand" Left="37" TabOrder="7" TabStop="FALSE" Top="55" Transparent="TRUE" Width="20"></Image>
							<Image Height="21" Id="Image3" ImageID="bul_mand" Left="331" TabOrder="8" TabStop="FALSE" Top="55" Transparent="TRUE" Width="20"></Image>
							<Image Height="21" Id="Image4" ImageID="bul_mand" Left="25" TabOrder="9" TabStop="FALSE" Top="32" Transparent="TRUE" Width="20"></Image>
							<Static Align="Right" Border="None" Height="20" Id="Static0" Left="14" Style="sty_lb_Basic" TabOrder="11" Text="대표모델" Top="32" VAlign="Middle" Width="80"></Static>
							<Edit BindDataset="ds_prod_mgmt" Border="Flat" Column="MST_PROD_CD" Height="20" Id="edt_MstProdCd" Left="97" LeftMargin="2" OnCharChanged="div_basic_info_edt_MstProdCd_OnCharChanged" OnKeyDown="div_basic_info_edt_MstProdCd_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="1" Top="33" Width="54"></Edit>
							<Button Height="21" Id="btn_ProdCd" ImageID="btn_i_detail" Left="150" OnClick="div_basic_info_btn_ProdCd_OnClick" TabOrder="2" Text="Button0" Top="33" Width="19"></Button>
							<Edit BindDataset="ds_prod_mgmt" Border="Flat" Column="MST_PROD_NM" Enable="FALSE" Height="20" Id="edt_MstProdNm" Left="169" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="3" TabStop="FALSE" Top="33" Width="76"></Edit>
							<Checkbox Height="17" Id="chk_ItSelf" Left="247" OnClick="div_basic_info_chk_ItSelf_OnClick" TabOrder="4" Top="34" Value="FALSE" Width="13"></Checkbox>
							<Static Align="Right" Border="None" Height="20" Id="Static2" Left="-42" Style="sty_lb_Basic" TabOrder="17" Text="선호도" Top="81" VAlign="Middle" Width="135"></Static>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" Column="PREFER_CL" Height="20" Id="cob_pay_prefer" Left="96" Style="sty_ipt_form" TabOrder="17" Top="81" Width="165"></Combo>
							<Image Height="21" Id="Image1" ImageID="bul_mand" Left="39" TabOrder="19" TabStop="FALSE" Top="79" Transparent="TRUE" Width="20"></Image>
							<Static Align="Right" Border="None" Height="20" Id="Static4" Left="328" Style="sty_lb_Basic" TabOrder="20" Text="상한가" Top="32" VAlign="Middle" Width="55"></Static>
							<Static Align="Right" Border="None" Height="20" Id="Static1" Left="306" Style="sty_lb_Basic" TabOrder="22" Text="상한계수" Top="8" VAlign="Middle" Width="80"></Static>
							<Edit Align="RIGHT" BindDataset="ds_prod_mgmt" Border="Flat" Column="SETOFF_NUM" Height="20" Id="edt_setoff_num" ImeMode="english" Left="386" LeftMargin="2" MaxLength="10" Number="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="21" Top="8" UpperOnly="TRUE" UseIME="FALSE" Width="80"></Edit>
							<Static Align="Right" Border="None" Height="20" Id="Static3" Left="468" Style="sty_lb_Basic" TabOrder="23" Text="%" Top="8" VAlign="Middle" Width="15"></Static>
							<Image Height="21" Id="Image0" ImageID="bul_mand" Left="330" TabOrder="24" TabStop="FALSE" Top="31" Transparent="TRUE" Width="20"></Image>
							<Image Height="21" Id="Image5" ImageID="bul_mand" Left="319" TabOrder="25" TabStop="FALSE" Top="7" Transparent="TRUE" Width="20"></Image>
							<Button ButtonStyle="TRUE" Height="20" Id="btn_Search" ImageID="btn_b_2" Left="517" OnClick="f_Search_OnClick" Style="sty_btn_b" TabOrder="26" Text="색상" Top="101" Width="50"></Button>
							<MaskEdit BindDataset="ds_prod_mgmt" Border="Flat" Column="MAX_PRICE" DisableColor="#373c4a" Height="20" Id="edt_max_price" Left="386" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="27" Top="32" Value="0" Width="101"></MaskEdit>
							<Image Height="21" Id="Image6" ImageID="bul_mand" Left="29" TabOrder="29" TabStop="FALSE" Top="102" Transparent="TRUE" Width="20"></Image>
							<Static Align="Right" Border="None" Height="20" Id="Static5" Left="30" Style="sty_lb_Basic" TabOrder="29" Text="등급구분" Top="105" VAlign="Middle" Width="65"></Static>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" Column="GRADE_GB" Height="20" Id="cmb_grade_lst" InnerDataset="ds_rate" Left="96" Style="sty_ipt_form" TabOrder="28" Top="104" Width="165"></Combo>
							<Image Height="21" Id="Image7" ImageID="bul_mand" Left="29" TabOrder="33" TabStop="FALSE" Top="7" Transparent="TRUE" Width="20"></Image>
							<Static Align="Right" Border="None" Height="20" Id="stc_prod_cl" Left="16" Style="sty_lb_Basic" TabOrder="32" Text="상품구분" Top="8" VAlign="Middle" Width="80"></Static>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" Column="PROD_CL" Height="20" Id="cob_prod_cl" Left="96" OnChanged="cob_prod_cl_OnChanged" Style="sty_ipt_form" TabOrder="31" Top="7" Width="165"></Combo>
							<Static Align="Right" Border="None" Height="20" Id="stc_use_yn" Left="8" Style="sty_lb_Basic" TabOrder="35" Text="고정가격여부" Top="129" VAlign="Middle" Width="88"></Static>
							<Radio BindDataset="ds_prod_mgmt" Border="None" Column="FIX_AMT_YN" Height="20" Id="rdo_fix_amt_yn" INDEX="-1" Left="97" OnClick="f_setFixAmt" Style="sty_opt_input" TabOrder="34" Top="129" Width="165">
								<Contents>
									<Layout code="Y" height="20" left="5" OnClick="f_getStopDt" text="Y" top="0" width="30"/>
									<Layout code="N" height="20" left="55" OnClick="f_getStopDt" text="N" top="0" width="30"/>
								</Contents>
							</Radio>
							<Button ButtonStyle="TRUE" Height="20" Id="btn_fix_amt" ImageID="btn_b_8" Left="269" OnClick="btn_fix_amt_OnClick" Style="sty_btn_b" TabOrder="36" Text="상품고정가격" Top="129" Visible="FALSE" Width="100"></Button>
						</Contents>
					</Div>
					<Div Border="Raised" Height="190" Id="div_add_info" Left="10" Style="sty_div_input" TabOrder="2" Text="Div0" Top="225" Width="607">
						<Contents>
							<Static Align="Right" Border="None" Height="20" Id="stc_use_yn" Left="8" Style="sty_lb_Basic" TabOrder="1" Text="판매중지여부" Top="55" VAlign="Middle" Width="88"></Static>
							<Static Align="Right" Border="None" Height="20" Id="stc_prod_chrtic_1" Left="303" Style="sty_lb_Basic" TabOrder="2" Text="상품특성1" Top="8" VAlign="Middle" Width="80"></Static>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" CodeColumn="COMM_CD_VAL" Column="PROD_CHRTIC_1" DataColumn="COMM_CD_VAL_NM" Height="20" Id="cob_prod_chrtic_1" InnerDataset="ds_chrtic1" Left="385" OnChanged="tab_prod_tab_prodInfo_div_add_info_cob_prod_chrtic_1_OnChanged" Style="sty_ipt_form" TabOrder="1" Top="7" Width="100"></Combo>
							<Static Align="Right" Border="None" Height="20" Id="stc_prod_chrtic_2" Left="303" Style="sty_lb_Basic" TabOrder="2" Text="상품특성2" Top="31" VAlign="Middle" Width="80"></Static>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" Column="PROD_CHRTIC_2" Height="20" Id="cob_prod_chrtic_2" Left="385" Style="sty_ipt_form" TabOrder="2" Top="30" Width="100"></Combo>
							<Static Align="Right" Border="None" Height="20" Id="stc_barcd_typ" Left="303" Style="sty_lb_Basic" TabOrder="2" Text="바코드유형" Top="102" VAlign="Middle" Width="80"></Static>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" Column="BAR_CD_TYP" Height="20" Id="cob_barcd_typ" Left="385" Style="sty_ipt_form" TabOrder="3" Top="101" Width="100"></Combo>
							<Static Align="Right" Border="None" Height="20" Id="stc_rmks" Left="11" Style="sty_lb_Basic" TabOrder="3" Text="비고" Top="157" VAlign="Middle" Width="80"></Static>
							<Edit BindDataset="ds_prod_mgmt" Border="Flat" CheckLength="Byte" Column="RMKS" Height="20" Id="edt_rmks" ImeMode="native" Left="95" LeftMargin="2" MaxLength="1000" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="158" Width="390"></Edit>
							<Radio BindDataset="ds_prod_mgmt" Border="None" Column="SALE_YN" Height="20" Id="rdo_use_yn" INDEX="-1" Left="96" OnClick="f_getStopDt" Style="sty_opt_input" TabOrder="0" Top="55" Width="165">
								<Contents>
									<Layout code="Y" height="20" left="5" OnClick="f_getStopDt" text="Y" top="0" width="30"/>
									<Layout code="N" height="20" left="55" OnClick="f_getStopDt" text="N" top="0" width="30"/>
								</Contents>
							</Radio>
							<Shape Bottom="153" Height="1" Id="Shape0" Left="-1" LineColor="user9" Right="838" TabOrder="5" Top="152" Width="839"></Shape>
							<Static Align="Right" Border="None" Height="20" Id="Static1" Left="303" Style="sty_lb_Basic" TabOrder="11" Text="통신방식" Top="125" VAlign="Middle" Width="80"></Static>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" Column="COM_MTHD" Height="20" Id="cmb_comMthd" Left="385" Style="sty_ipt_form" TabOrder="4" Top="124" Width="100"></Combo>
							<Static Align="Right" Border="None" Height="20" Id="Static4" Left="14" Style="sty_lb_Basic" TabOrder="14" Text="일련번호길이" Top="103" VAlign="Middle" Width="80"></Static>
							<Edit BindDataset="ds_prod_mgmt" Border="Flat" Column="SER_LEN" Height="20" Id="edt_ser_len" ImeMode="english" Left="96" LeftMargin="2" MaxLength="10" Number="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="0" Top="103" UpperOnly="TRUE" UseIME="FALSE" Width="165"></Edit>
							<Image Height="21" Id="Image3" ImageID="bul_mand" Left="3" TabOrder="18" TabStop="FALSE" Top="79" Transparent="TRUE" Width="20"></Image>
							<Static Align="Right" Border="None" Height="20" Id="Static2" Left="7" Style="sty_lb_Basic" TabOrder="17" Text="매입중지여부" Top="79" VAlign="Middle" Width="88"></Static>
							<Radio BindDataset="ds_prod_mgmt" Border="None" Column="IN_YN" Height="20" Id="rdo_in_yn" INDEX="-1" Left="96" OnClick="f_getInStopDt" Style="sty_opt_input" TabOrder="16" Top="79" Width="165">
								<Contents>
									<Layout code="Y" height="20" left="5" OnClick="f_getStopDt" text="Y" top="0" width="30"/>
									<Layout code="N" height="20" left="55" OnClick="f_getStopDt" text="N" top="0" width="30"/>
								</Contents>
							</Radio>
							<Static Align="Right" Border="None" Height="20" Id="Static6" Left="25" Style="sty_lb_Basic" TabOrder="19" Text="자사구분" Top="9" VAlign="Middle" Width="70"></Static>
							<Image Height="21" Id="Image1" ImageID="bul_mand" Left="2" TabOrder="20" TabStop="FALSE" Top="55" Transparent="TRUE" Width="20"></Image>
							<Div Height="23" Id="div_layer1" Left="288" TabOrder="21" Text="Div0" Top="54" Width="260">
								<Contents>
									<Static Align="Right" Border="None" Height="20" Id="stc_mktg_dt" Left="14" Style="sty_lb_Basic" TabOrder="2" Text="판매중지일" Top="1" VAlign="Middle" Width="80"></Static>
									<Calendar BindDataset="ds_prod_mgmt" Border="Flat" ButtonImageID="btn_i_calendar" Column="SALE_STOP_DT" DayFont="Default,-1" DayStyle="sty_calendar_day" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_stop_dt" Left="97" LeftMargin="2" NullValue="&#32;" RightMargin="2" SaturdayTextColor="user28" SelDayStyle="sty_calendar_day" SelectedDayFont="Default,-1" Style="sty_ipt_form" SundayTextColor="user27" TabOrder="3" TodayColor="user26" Top="1" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="100"></Calendar>
								</Contents>
							</Div>
							<Div Height="23" Id="div_layer2" Left="288" TabOrder="22" Text="Div0" Top="78" Width="260">
								<Contents>
									<Static Align="Right" Border="None" Height="20" Id="stc_mktg_dt" Left="13" Style="sty_lb_Basic" TabOrder="2" Text="매입중지일" VAlign="Middle" Width="80"></Static>
									<Calendar BindDataset="ds_prod_mgmt" Border="Flat" ButtonImageID="btn_i_calendar" Column="IN_STOP_DT" DayFont="Default,-1" DayStyle="sty_calendar_day" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_in_dt" Left="97" LeftMargin="2" NullValue="&#32;" RightMargin="2" SaturdayTextColor="user28" SelDayStyle="sty_calendar_day" SelectedDayFont="Default,-1" Style="sty_ipt_form" SundayTextColor="user27" TabOrder="3" TodayColor="user26" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="100"></Calendar>
								</Contents>
							</Div>
							<Combo BindDataset="ds_prod_mgmt" Border="Flat" Column="COMP_CL" Height="20" Id="cob_comp_cl" Left="95" OnChanged="cob_comp_cl_OnChanged" Style="sty_ipt_form" TabOrder="23" Top="7" Width="165"></Combo>
							<Div Height="23" Id="div_layer3" Left="-1" TabOrder="24" Text="Div0" Top="29" Width="270">
								<Contents>
									<Static Align="Right" Border="None" Height="20" Id="stc_mktg_dt" Left="13" Style="sty_lb_Basic" TabOrder="3" Text="출고가" Top="2" VAlign="Middle" Width="80"></Static>
									<MaskEdit BindDataset="ds_prod_mgmt" Border="Flat" Column="STRD_SALE_AMT" Height="20" Id="msk_strd_amt" Left="97" Style="sty_ipt_form" TabOrder="2" Top="3" Value="MaskEdit0" Width="165"></MaskEdit>
								</Contents>
							</Div>
						</Contents>
					</Div>
					<Image Align="Left" Height="25" Id="Image0" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="3" TabStop="FALSE" Text="상품기본정보" Top="6" Width="192"></Image>
					<Image Align="Left" Height="25" Id="Image2" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="4" TabStop="FALSE" Text="상품부가정보" Top="200" Width="192"></Image>
					<Image Align="Left" Height="25" Id="Image3" ImageID="bul_tit" Left="628" LeftMargin="15" Style="sty_img_tit" TabOrder="6" TabStop="FALSE" Text="상품색상목록" Top="6" Width="192"></Image>
					<Grid AutoFit="TRUE" BindDataset="ds_ParentColor" BkColor2="user32" BoldHead="true" Border="Flat" Bottom="414" Editable="TRUE" Enable="true" EndLineColor="default" FillArea="TRUE" HeadBorder="Flat" HeadHeight="22" Height="379" Id="grd_prod_mgmt" InputPanel="FALSE" Left="629" LineColor="user33" MinWidth="100" OnHeadClick="cf_allChecknSort" Right="850" RowHeight="21" Style="sty_Grid" TabOrder="5" TabStop="FALSE" Top="35" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="user33" WheelScrollRow="1" Width="221">
						<contents>
							<format id="Default">
								<columns>
									<col width="120"/>
									<col width="120"/>
								</columns>
								<head>
									<cell align="center" bkcolor="user34" col="0" color="user35" display="text" font="돋움,9,Bold" text="색상코드" Valign="Center"/>
									<cell align="center" bkcolor="user34" col="1" color="user35" display="text" font="돋움,9,Bold" text="색상명" Valign="Center"/>
								</head>
								<body>
									<cell align="center" bkcolor2="user36" col="0" colid="code" combotext="name" display="text"/>
									<cell align="center" bkcolor2="user36" col="1" colid="name" combotext="name" display="combo"/>
								</body>
							</format>
						</contents>
					</Grid>
				</TabPage>
				<TabPage BorderColor="black" Height="424" Id="tab_suppInfo" ImageID="tab_blue" Left="2" TabOrder="19" Text="부가정보" Top="27" Width="860">
					<Grid AutoEnter="TRUE" AutoFit="TRUE" BindDataset="ds_suppl" BkColor2="user36" BoldHead="true" Border="Flat" Bottom="416" CellMoving="TRUE" ColSizing="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" FillArea="TRUE" HeadBorder="Flat" HeadHeight="22" Height="382" Id="grd_prod_mgmt" InputPanel="FALSE" Left="9" LineColor="user33" MinWidth="100" OnCellClick="tab_prod_tab_suppInfo_grd_prod_mgmt_OnCellClick" OnExpandUp="tab_prod_tab_suppInfo_grd_prod_mgmt_OnExpandUp" Right="851" RowHeight="21" Style="sty_Grid" TabOrder="1" TabStop="FALSE" Top="34" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="user33" WheelScrollRow="1" Width="842">
						<contents>
							<format id="Default">
								<columns>
									<col width="30"/>
									<col width="300"/>
									<col width="100"/>
									<col width="100"/>
									<col width="95"/>
									<col width="100"/>
									<col width="100"/>
									<col width="100"/>
								</columns>
								<head>
									<cell align="center" bkcolor="user34" col="0" color="user35" display="text" font="돋움,9,Bold" rowspan="2" text="No" Valign="Center"/>
									<cell align="center" bkcolor="user34" col="1" color="user35" display="text" font="돋움,9,Bold" rowspan="2" text="구분" Valign="Center"/>
									<cell align="center" bkcolor="user34" col="2" color="user35" display="text" font="돋움,9,Bold" rowspan="2" text="상품코드" Valign="Center"/>
									<cell align="center" bkcolor="user34" col="3" color="user35" display="text" font="돋움,9,Bold" rowspan="2" text="수량" Valign="Center"/>
									<cell align="center" bkcolor="user34" col="4" color="user35" display="text" font="돋움,9,Bold" rowspan="2" text="단가" Valign="Center"/>
									<cell align="center" bkcolor="user34" col="5" color="user35" display="text" font="돋움,9,Bold" rowspan="2" text="시작일" Valign="Center"/>
									<cell align="center" bkcolor="user34" col="6" color="user35" display="text" font="돋움,9,Bold" rowspan="2" text="종료일" Valign="Center"/>
									<cell align="center" bkcolor="user34" col="7" color="user35" display="text" font="돋움,9,Bold" rowspan="2" text="필수&#10;구성품여부" Valign="Center"/>
								</head>
								<body>
									<cell align="center" col="0" display="text" expr="row+1"/>
									<cell align="left" col="1" colid="DTL_CL" combodisplayrowcnt="10" display="combo" edit="combo" expandimage="btn_combo" expandshow="true"/>
									<cell align="center" col="2" colid="CMP_PROD_CD" display="normal" expandimage="btn_i_detail" expandshow="true"/>
									<cell align="center" col="3" colid="QTY" display="number" edit="number"/>
									<cell align="right" col="4" colid="PRICE" display="number" edit="number"/>
									<cell align="center" col="5" colid="ST_DT" display="date" edit="date" expandimage="btn_i_calendar" expandshow="true"/>
									<cell align="center" col="6" colid="ED_DT" display="date" edit="date" expandimage="btn_i_calendar" expandshow="true"/>
									<cell align="center" col="7" colid="MUST_YN" display="checkbox" edit="checkbox"/>
								</body>
							</format>
						</contents>
					</Grid>
					<Button Cursor="HAND" Height="21" Id="btn_add" ImageID="btn_i_add_w" Left="807" OnClick="btn_addRow_OnClick" TabOrder="2" Text="Button1" ToolTipText="행추가" Top="7" Width="19"></Button>
					<Button Cursor="HAND" Height="21" Id="btn_del" ImageID="btn_i_subtract_w" Left="830" OnClick="btn_delRow_OnClick" TabOrder="3" Text="Button1" ToolTipText="추가된&#32;행삭제" Top="7" Width="19"></Button>
					<Image Align="Left" Height="25" Id="Image0" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="4" TabStop="FALSE" Text="주변기기&#32;등록" Top="7" Width="192"></Image>
					<Static Align="Right" Height="20" Id="Static6" Left="649" Style="sty_lb_Search" TabOrder="5" Text="기준일자" Top="7" VAlign="Middle" Width="60"></Static>
					<Calendar BindDataset="ds_condition" Border="Flat" ButtonImageID="btn_i_calendar" Column="SUPPL_DT" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_suppl" Left="716" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" OnChanged="tab_prod_tab_suppInfo_cal_suppl_OnChanged" OnKeyDown="tab_prod_tab_suppInfo_cal_suppl_OnKeyDown" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="6" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="85"></Calendar>
				</TabPage>
			</Contents>
		</Tab>
		<Div Border="Raised" Height="43" Id="div_search" Left="16" Style="sty_div_search" TabOrder="5" Text="Div0" Top="12" Width="864">
			<Contents>
				<Static Align="Right" Border="None" Height="20" Id="stc_prod_nm" Left="-22" Style="sty_lb_Search" TabOrder="2" Text="모델명" Top="8" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_prod_mgmt" Border="Flat" Column="PROD_NM" Font="굴림,-1" Height="20" Id="edt_prod_nm" Left="66" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="1" Top="7" Width="135"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="stc_prod_cd" Left="241" Style="sty_lb_Search" TabOrder="2" Text="모델코드" Top="7" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_prod_mgmt" Border="Flat" Column="PROD_CD" Font="굴림,-1" Height="20" Id="edt_prod_cd" ImeMode="english" Left="328" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="2" Top="7" UpperOnly="TRUE" Width="135"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="stc_oper_mdl_yn" Left="390" Style="sty_lb_Search" TabOrder="4" Text="운영여부" Top="134" VAlign="Middle" Width="84"></Static>
			</Contents>
		</Div>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* 프로그램ID : BASPDM00600
* 업무명      : 기준코드관리 - 상품관리
* 프로그램명  : 상품관리
--------------------------------------------------------------------------------
* 작성자      : 전현주
* 작성일      : 2011.07.06
--------------------------------------------------------------------------------
*******************************************************************************/

//==============================================================================
// 공통 스크립트 로딩
//==============================================================================
#include "lib::lib_commF.js"
#include "lib::lib_util.js"
#include "lib::lib_commMsg.js"
#include "lib::lib_commPopup.js"

//==============================================================================
// 폼 변수 정의
//==============================================================================
var FV_INT_IF = 0; //  I/F 여부 0 - 일반 ,  1  = I/F 
var FV_RGST_CL; //등록구분.
var FV_CUD_FLAG; //등록/ 수정여부 

/*******************************************************************************
 * @description    : 최초 폼 로드시 발생 - 이벤트
*******************************************************************************/
function BASPDM00600_OnLoadCompleted(obj)
{	
	// 권한 설정
	cf_setAuth(pFrmNum);
	
	// 등록을 위한 변수 임시설정
    FV_RGST_CL = rgst_cl;
    FV_CUD_FLAG =cudFlag;
	
	f_setInit();
}


function f_setInit(){
	
	cf_setCommonCodeDsEnv();
	cf_setCommonCode("tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl", "ZBAS_C_00170", null, null, false);
	cf_setCommonCode("tab_prod.tab_prodInfo.div_add_info.cob_barcd_typ", "ZBAS_C_00090", "선택", null, false);
	cf_setCommonCode("tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl", "ZBAS_C_00010", null, null, false);
	cf_setCommonCode("tab_prod.tab_prodInfo.div_add_info.cob_comp_cl", "ZBAS_P_00050", "선택", null, false);
	cf_setCommonCode("tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_2", "ZBAS_C_00030", "선택", null, false);
	cf_setCommonCode("ds_ZBAS_C_00011", "ZBAS_C_00011", "선택", null, false); // 단말기- 상품구분 하위
	cf_setCommonCode("ds_ZBAS_C_00012", "ZBAS_C_00012", null, null, false); // USIM - 상품구분
	cf_setCommonCode("ds_ZBAS_C_00013", "ZBAS_C_00013", null, null, false); // 기타상품 - 상품구분
	
	cf_setCommonCode("tab_prod.tab_prodInfo.div_basic_info.cob_pay_prefer", "ZBAS_P_00070", "선택", null, false);
	cf_setCommonCode("tab_prod.tab_prodInfo.div_basic_info.cmb_grade_lst", "ZBAS_P_00090", "선택", null, false);
	cf_setCommonCode("tab_prod.tab_prodInfo.div_add_info.cmb_comMthd", "ZBAS_C_00440", "선택", null, false);

    cf_setCommonCode("tab_prod.tab_suppInfo.grd_prod_mgmt", "ZBAS_P_00030",null,1);
    cf_setCommonCode("ds_chrtic1", "ZBAS_C_00020", "선택", null, false); // 배터리 상품구분2
	
    
	http.Sync = true;
	if(IsExistVar("ifYn", true))
	{
		FV_INT_IF = 1;
		btn_delete.Visible = false;
		btn_save.left = 566;
		cf_setCommonCode("ds_allColor", "ZBAS_C_00040", null, null, false);        
	}		
	cf_checkCommonCode();

	ds_prod_dtl_cl.Copy(ds_ZBAS_C_00011);
	ds_prod_dtl_cl.AppendDataset(ds_ZBAS_C_00012);
	ds_prod_dtl_cl.AppendDataset(ds_ZBAS_C_00013);
	
	
	
	f_select();
	
	f_setCondtion();
	
	
	if(FV_CUD_FLAG == "U") 
	{
		div_search.edt_prod_nm.Text =prod_nm;
		div_search.edt_prod_cd.Text =prod_cd;
		div_search.edt_prod_nm.Enable =false;
		div_search.edt_prod_cd.Enable =false;
		
		ds_condition.SetColumn(0,"PROD_CD",prod_cd);
  	
		tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl.Enable =false;	
		
		if(FV_RGST_CL == "1"){
			// UKEY 연동 
			tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Enable =false;
			tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_mktg_dt.Enable =true;
			tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Enable =false;
			tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Enable =false;
		}else{
			tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Enable =true;
			tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_mktg_dt.Enable =true;
			tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Enable =true;
			tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Enable =true;
		}
		
		f_getProdMgmt();
		
	}
	
	if(FV_CUD_FLAG == "C")
	{
		div_search.edt_prod_nm.Text ="";
		div_search.edt_prod_cd.Text ="";
		div_search.edt_prod_nm.Enable =true;
		div_search.edt_prod_cd.Enable =true;
		
		ds_prod_mgmt.AddRow();
		tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Value = "99991231";
		tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Enable =false;
		tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl.Value = "2";
		ds_prod_dtl_cl.Filter("COMM_CD_ID == 'ZBAS_C_00011' || COMM_CD_ID == null ");

		
		tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Index = 0;
		tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.edt_setoff_num.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl.Enable = true;
		
		
		if(uf_isNull(ds_prod_mgmt.GetColumn(0,"MAX_PRICE")) == true){
			tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Value = 600000;
		}
		
		tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl.Index = 0;
		tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Index = 0;
		tab_prod.tab_prodInfo.div_add_info.cob_comp_cl.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.cob_comp_cl.Index = 0;
		tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Index = 0;
		tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_2.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_2.Index = 0;
		tab_prod.tab_prodInfo.div_add_info.cob_barcd_typ.Index = 0;
		tab_prod.tab_prodInfo.div_add_info.cmb_comMthd.Index = 0;	
		tab_prod.tab_prodInfo.div_basic_info.cob_pay_prefer.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.cob_pay_prefer.Index = 0;
		tab_prod.tab_prodInfo.div_basic_info.cmb_grade_lst.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.cmb_grade_lst.Index = 0;
		tab_prod.tab_prodInfo.div_add_info.div_layer3.Visible =false;	//초기 셋팅이 단말기:단가 -> 출고가 disable
		
		tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.rdo_in_yn.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Value = "N";
		tab_prod.tab_prodInfo.div_add_info.rdo_in_yn.Value = "N";
		//tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Value = "99991231";
		//tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Value = "99991231";
		tab_prod.tab_prodInfo.div_add_info.div_layer1.Visible = false;
		tab_prod.tab_prodInfo.div_add_info.div_layer2.Visible = false;
		tab_prod.tab_prodInfo.div_add_info.cmb_comMthd.Enable = true;
		
		if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Index == 0){
			ds_chrtic1.Filter("COMM_CD_VAL!='L'&&COMM_CD_VAL!='M'&&COMM_CD_VAL!='N'");
		}
		if(FV_INT_IF == 1)
		{
			f_setIfScreen();
		}
		
		// 원본 데이터셋 생성
		cf_setOrgDs(ds_prod_mgmt);
		cf_setOrgDs(ds_ParentColor);
	}
	
	f_setFixAmt();
	
	
	
	http.Sync = false;
	tab_prod.tab_suppInfo.cal_suppl.Value = Left(cf_getDate(), 8);
	
}

function f_setIfScreen()
{

	var oParentDs = parent.ds_model;
	var nRow = parseInt(ifYn);
	
		ds_prod_mgmt.SetColumn(0, "PROD_CD" , oParentDs.getColumn(nRow, "PROD_CD"));
		ds_prod_mgmt.SetColumn(0, "PROD_NM" , oParentDs.getColumn(nRow, "PROD_NM"));
		ds_prod_mgmt.SetColumn(0, "MKTG_DT" , oParentDs.getColumn(nRow, "MKTG_DT"));
		ds_prod_mgmt.SetColumn(0, "MFACT_ID" , oParentDs.getColumn(nRow, "MFACT_ID"));
		ds_prod_mgmt.SetColumn(0, "RGST_CL" , "1");
		ds_prod_mgmt.SetColumn(0, "PROD_CL" , oParentDs.getColumn(nRow, "PROD_CL"));
		ds_prod_mgmt.SetColumn(0, "PROD_DTL_CL" , oParentDs.getColumn(nRow, "PROD_DTL_CL"));

	if(FV_CUD_FLAG == "C")
	{
		//tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Value = "Y";
		tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Value = "N";
		tab_prod.tab_prodInfo.div_add_info.rdo_oper_mdl_yn.Value = "Y";
		tab_prod.tab_prodInfo.div_add_info.rdo_reserv_sale_yn.Value = "N";

		f_setCompoentStatus("tab_prod.tab_prodInfo.div_add_info","cob_prod_chrtic_1", true, "상품특성1");
		f_setCompoentStatus("tab_prod.tab_prodInfo.div_add_info","cob_prod_chrtic_2", true, "상품특성2");
		f_setCompoentStatus("tab_prod.tab_prodInfo.div_add_info","cob_barcd_typ", true, "바코드유형");
		f_setCompoentStatus("tab_prod.tab_prodInfo.div_add_info","edt_rmks", true);		
	}
	else
	{
		//출시일이 등록 되어 있으면 동록된 출시일 display
		if( !uf_IsNull(ds_prod_mgmt.GetColumn(0,"MKTG_DT")) ){
			ds_prod_mgmt.SetColumn(0, "MKTG_DT" , ds_prod_mgmt.GetColumn(0,"MKTG_DT"));
		}
	
				
		// 단종일
		var sOrgEndDt = tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Value;
		var sNewEndDt = oParentDs.getColumn(nRow, "END_DT");
		if(sOrgEndDt != sNewEndDt)
		{
			tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.stc_end_dt.Color = "red";
		}
		tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Value = sNewEndDt;
		
		// 통신방식
		var sOrgComMthd = tab_prod.tab_prodInfo.div_add_info.cmb_comMthd.Value;
		var sNewComMthd = oParentDs.getColumn(nRow, "CDMA_CL");

		if(sOrgComMthd != sNewComMthd)
		{
			tab_prod.tab_prodInfo.div_add_info.Static1.Color = "red";
			//ds_prod_mgmt.SetColumn(nRow,"COM_MTHD",sNewComMthd);
			tab_prod.tab_prodInfo.div_add_info.cmb_comMthd.Index = sNewComMthd;
		}		
		
		ds_ParentColor.ClearData();
	}
	
	var nColorCnt = parseInt(oParentDs.getColumn(nRow, "LINK_COLOR_CNT"));
	var sColorCds = oParentDs.getColumn(nRow, "LINK_COLOR_CD");
	var sColor;
	for(var i=0; i<nColorCnt; i++)
	{
		var nColorRow = ds_ParentColor.AddRow();
		sColor = substr(sColorCds, (i*2), 2);
		//ds_ParentColor.SetColumn(nColorRow, "PROD_CD", oParentDs.getColumn(nRow, "PROD_CD"));
		ds_ParentColor.SetColumn(nColorRow, "PROD_CD", ds_condition.GetColumn(0, "PROD_CD"));
		ds_ParentColor.SetColumn(nColorRow, "code", sColor);
		ds_ParentColor.SetColumn(nColorRow, "name", ds_allColor.LookUp("COMM_CD_VAL", sColor, "COMM_CD_VAL_NM"));
	}

	
}



/*******************************************************************************
 * @description    : 공통 폼 재호출 함수
*******************************************************************************/

function df_reSet(sArg)
{	
	 if(cf_isNewService(sArg)) // 신규
    {	
		//f_setInit();
    }else{
		cf_setArg("ds_condition_tmp", sArg);
		
		if(length(trim(ds_condition_tmp.GetColumn(0,"prod_cd"))) !=0 ){
			div_search.edt_prod_nm.Text =ds_condition_tmp.GetColumn(0,"prod_nm");
			div_search.edt_prod_cd.Text =ds_condition_tmp.GetColumn(0,"prod_cd");
			div_search.edt_prod_nm.Enable =false;
			div_search.edt_prod_cd.Enable =false;
			
			ds_condition.SetColumn(0,"PROD_CD",div_search.edt_prod_cd.Text);
			
			tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl.Enable =false;	
			
			if(FV_RGST_CL == "1"){
				// UKEY 연동 
				tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Enable =false;
				tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_mktg_dt.Enable =true;
				tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Enable =false;
				tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Enable =false;
			}else{
				tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Enable =true;
				tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_mktg_dt.Enable =true;
				tab_prod.tab_prodInfo.tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Enable =true;
				tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Enable =true;
			}
			
			f_getProdMgmt();		
		}else{
			
			ds_prod_mgmt.ClearData();
			ds_ParentColor.ClearData();
			
			FV_CUD_FLAG = "C";
			
			f_setInit();
		
		}	
    }
	
}	


/*******************************************************************************
 * @description    : 컴포넌트 활성화 세팅
*******************************************************************************/
function f_setComponentAtivation(oDiv, bStatus, sType)
{
    for(var i=0 ; i < oDiv.Components.count() ; i++)
    {
		if(oDiv.Components[i].getType() == "Static" || oDiv.Components[i].getType() == "Shape")
		{
			continue;
		}
		
		if(sType != null)
		{
			if(oDiv.Components[i].getType() == sType)
			{
				oDiv.Components[i].Enable = bStatus;
				if(!bStatus)
				{
					oDiv.Components[i].userData = "";
				}
			}
        }
        else
        {
			oDiv.Components[i].Enable = bStatus;
			if(!bStatus)
			{
				oDiv.Components[i].userData = "";
			}
        }
    }
}

/*******************************************************************************
 * @description    : 컴포넌트 필수 여부 설정
*******************************************************************************/
function f_setCompoentStatus(sDivId, sCompIds, bSetValue, sUserData, bInit)
{
	var arrComp = sCompIds.split(",","webstyle");
	var arrUserData = sUserData.split(",","webstyle");
	var oComponent;
	if(bInit == null)
	{
		bInit = true;
	}
	for(var i=0,n=arrComp.length; i<n; i++)
	{
		oComponent = object(sDivId+"."+arrComp[i]);
		
		if(bSetValue)
		{
			if(arrUserData.length > i)
			{
				oComponent.UserData = arrUserData[i];
			}
		}
		else
		{
			oComponent.UserData = "";
			if(bInit)
			{
				oComponent.text = "";
			}
		}
		oComponent.Enable = bSetValue;
	}
}


/*******************************************************************************
* 함수명 : f_initCondtion
* 기능명 : 검색조건의 선택 Dataset 추가
*******************************************************************************/
function f_setCondtion()
{	
	tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Value = "N";
	tab_prod.tab_prodInfo.div_add_info.rdo_in_yn.Value = "N";	
}


/*******************************************************************************
* 함수명 : f_initCondtion
* 기능명 : 검색조건의 선택 Dataset 추가
*******************************************************************************/
function f_getProdMgmt()
{
	var sSvcID = "svcSearchDetail";
	var sInDs = "nc_input_fieldDs=ds_condition";
	var sOutDs = "ds_prod_mgmt=nc_output_fieldDs ds_suppl=ds_suppl ds_ParentColor=ds_color";
	var sArg = "sktst.bas.PDM#getUsedProdInfo";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description    : 수정 전 u-key 연동 체크
*******************************************************************************/

function f_pre_update()
{	
	if(FV_INT_IF == 1)
	{
		return true;
	}
}

/*******************************************************************************
 * @description    : 공통 수정 함수
*******************************************************************************/

function df_update()
{
	if (!(f_pre_save())) return;
	
	if(uf_isNull(ds_prod_mgmt.GetColumn(0,"END_DT")) == true){
		ds_prod_mgmt.SetColumn(0,"END_DT","99991231");
	}	

	if(ds_prod_mgmt.GetColumn(0,"SALE_YN") =="Y")
	{
		ds_prod_mgmt.SetColumn(0,"SALE_STOP_DT",substr(tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Text,0,4)+substr(tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Text,5,2)+substr(tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Text,8,2) );
	}
	
	if(ds_prod_mgmt.GetColumn(0,"IN_YN") =="Y")
	{
		ds_prod_mgmt.SetColumn(0,"IN_STOP_DT",substr(tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Text,0,4)+substr(tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Text,5,2)+substr(tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Text,8,2) );
	}
	
	f_color();
	
	var sSvcID = "svcUpdate";
	var sInDs = "nc_input_fieldDs=ds_prod_mgmt ds_suppl=ds_suppl:U ds_color=ds_ParentColor";
	var sOutDs = "";
	var sArg = "sktst.bas.PDM#updateUsedProdInfo";
	if(FV_INT_IF == 1)
	{
		ds_prod_mgmt.AddColumn("op_dt");
		ds_prod_mgmt.AddColumn("op_tm");
		ds_prod_mgmt.AddColumn("seq");
		var nRow = parseInt(ifYn);
		ds_prod_mgmt.SetColumn(0, "op_dt", parent.ds_model.getColumn(nRow, "op_dt"));
		ds_prod_mgmt.SetColumn(0, "op_tm", parent.ds_model.getColumn(nRow, "op_tm"));
		ds_prod_mgmt.SetColumn(0, "seq", parent.ds_model.getColumn(nRow, "seq"));
	}	
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);	
}


/*******************************************************************************
 * @description    : 공통 등록 함수
*******************************************************************************/
function df_insert()
{
	f_color();
	
	var sSvcID = "svcInsert";
	var sInDs = "nc_input_fieldDs=ds_prod_mgmt ds_suppl=ds_suppl ds_color=ds_ParentColor";
	if(FV_INT_IF == 1)
	{
		ds_prod_mgmt.AddColumn("op_dt");
		ds_prod_mgmt.AddColumn("op_tm");
		ds_prod_mgmt.AddColumn("seq");
		var nRow = parseInt(ifYn);
		ds_prod_mgmt.SetColumn(0, "op_dt", parent.ds_model.getColumn(nRow, "op_dt"));
		ds_prod_mgmt.SetColumn(0, "op_tm", parent.ds_model.getColumn(nRow, "op_tm"));
		ds_prod_mgmt.SetColumn(0, "seq", parent.ds_model.getColumn(nRow, "seq"));
	}
	var sOutDs = "";
	var sArg = "sktst.bas.PDM#addUsedProdInfo";
	//trace(ds_prod_mgmt.SaveXML());
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);	
}

/*******************************************************************************
 * @description    : 닫기 - 이벤트
*******************************************************************************/
function df_close(sButtonID)
{
	this.close();
}

/*******************************************************************************
* 함수명 : f_callBack 
* 기능명 : 트랜잭션 콜백 
* 파라미터
1. sSvcID  : 서비스 아이디
*******************************************************************************/
function f_callBack(sSvcID)
{	
	if(sSvcID == "svcSearch")
	{
		f_setStopDt();
		
	}else if(sSvcID == "svcUpdate" || sSvcID == "svcInsert")
	{
		cf_setOrgDs(ds_prod_mgmt);
		cf_setOrgDs(ds_ParentColor);
	
		alert(cf_getMessage(MSG_00006, "저장이"));
		
		
		var sProdCd = ds_condition.GetColumn(0,"PROD_CD");
		var sProdNm = ds_condition.GetColumn(0,"PROD_NM");
				
		var sArg = sProdCd;
			sArg += ","+sProdNm;
				
		gf_movenCall("100000010", "f_search", sArg);
		
		this.Close();
	
	}
	else if(sSvcID == "setCombo")
	{
		ds_prod_mgmt.SetColumn(0,"RGST_CL","2");
		cf_setInitDataForCmb(tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id,"선택");
	}
	else if(sSvcID == "svcDuplication")
	{
		df_insert();
	}
	else if(sSvcID == "svcSearchDetail")
	{	
		
		if(ds_prod_mgmt.GetColumn(0,"SALE_YN") =="Y")
		{
			tab_prod.tab_prodInfo.div_add_info.div_layer1.Visible =true;
		}
		else
		{
			tab_prod.tab_prodInfo.div_add_info.div_layer1.Visible =false;
		}
		
		
		if(ds_prod_mgmt.GetColumn(0,"IN_YN") =="Y")
		{
			tab_prod.tab_prodInfo.div_add_info.div_layer2.Visible =true;
		}
		else
		{
			tab_prod.tab_prodInfo.div_add_info.div_layer2.Visible =false;
		}
		
		
		
		if(ds_prod_mgmt.GetColumn(0,"PROD_CL") =="1" && ds_prod_mgmt.GetColumn(0,"COMP_CL") !="1")
		{
			tab_prod.tab_prodInfo.div_add_info.div_layer3.Visible =true;
		}
		else
		{
			tab_prod.tab_prodInfo.div_add_info.div_layer3.Visible =false;
		}
		
		var sProdCl = ds_prod_mgmt.GetColumn(0,"PROD_CL");
		
		if(sProdCl != "1"){
			tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Enable = true;
			tab_prod.tab_prodInfo.div_basic_info.edt_setoff_num.Enable = false;
			tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Enable = false;
			tab_prod.tab_prodInfo.div_basic_info.cob_pay_prefer.Enable = false;
			tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Enable = false;	
			tab_prod.tab_prodInfo.div_basic_info.cmb_grade_lst.Enable = false;
			
			tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Enable = true;
			tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_2.Enable = false;
			tab_prod.tab_prodInfo.div_add_info.cob_comp_cl.Enable = false;
			tab_prod.tab_prodInfo.div_add_info.cmb_comMthd.Enable = false;
			tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Enable = false;
			tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Enable = false;
			tab_prod.tab_prodInfo.div_add_info.rdo_in_yn.Enable = false;
			tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Enable = false;
			tab_prod.tab_prodInfo.div_add_info.div_layer3.msk_strd_amt.Enable = false;
			
			//tab_prod.tab_prodInfo.div_add_info.div_layer1.Visible =false;
			//tab_prod.tab_prodInfo.div_add_info.div_layer2.Visible =false;
			tab_prod.tab_prodInfo.div_add_info.div_layer3.Visible =false;
			
			//tab_prod.tab_prodInfo.div_basic_info.btn_Search.Enable = false;
			
			if(ds_prod_mgmt.GetColumn(0,"PROD_CL") == "3"){
				ds_chrtic1.UnFilter();
				ds_chrtic1.Filter("COMM_CD_VAL!='S'&&COMM_CD_VAL!='P'&&COMM_CD_VAL!='T'");
			}else{
				ds_chrtic1.UnFilter();
				ds_chrtic1.Filter("COMM_CD_VAL!='S'&&COMM_CD_VAL!='P'&&COMM_CD_VAL!='T'&&COMM_CD_VAL!='L'&&COMM_CD_VAL!='M'&&COMM_CD_VAL!='N'");
			}
				
		}else{
		
			tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Enable = true;
			tab_prod.tab_prodInfo.div_basic_info.cob_pay_prefer.Enable = true;
			tab_prod.tab_prodInfo.div_basic_info.cmb_grade_lst.Enable = true;
			tab_prod.tab_prodInfo.div_basic_info.edt_setoff_num.Enable = true;
			tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Enable = true;
			
			tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Enable = true;
			tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_2.Enable = true;
			tab_prod.tab_prodInfo.div_add_info.cob_comp_cl.Enable = true;
			tab_prod.tab_prodInfo.div_add_info.cmb_comMthd.Enable = true;
			tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Enable = true;
			tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Enable = true;
			tab_prod.tab_prodInfo.div_add_info.rdo_in_yn.Enable = true;
			tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Enable = true;
			tab_prod.tab_prodInfo.div_add_info.div_layer3.msk_strd_amt.Enable = true;
			
			ds_chrtic1.UnFilter();
			ds_chrtic1.Filter("COMM_CD_VAL!='L'&&COMM_CD_VAL!='M'&&COMM_CD_VAL!='N'");
		}

	
		// 원본 데이터셋 생성
		cf_setOrgDs(ds_prod_mgmt);
		cf_setOrgDs(ds_ParentColor);
	}
	else if(sSvcID == "svcDelete")
	{
		alert(cf_getMessage(MSG_00065, ""));
		
		gf_movenCall("100000010", "f_search");
	    this.Close();
	}
	else if(sSvcID == "svcSearchSuppl")
	{
	}
}


/*******************************************************************************
 * @description    : 등록 전 체크 함수
*******************************************************************************/
function f_pre_save()
{	
	
	if(uf_isNull(ds_prod_mgmt.GetColumn(0,"PROD_CD")) == true){
		alert(cf_getMessage(MSG_00043, "모델코드를"));
		div_search.edt_prod_cd.SetFocus();
		return false;
	}else if(uf_isNull(ds_prod_mgmt.GetColumn(0,"PROD_NM")) == true){
		alert(cf_getMessage(MSG_00043, "모델명을"));
		div_search.edt_prod_nm.SetFocus();
		return false;
	}else if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && uf_isNull(ds_prod_mgmt.GetColumn(0,"MAX_PRICE")) == true){
		alert(cf_getMessage(MSG_00043, "상한가를"));
		tab_prod.tab_prodInfo.div_basic_info.edt_max_price.SetFocus();
		return false;
	}else if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && uf_isNull(ds_prod_mgmt.GetColumn(0,"SETOFF_NUM")) == true){
		alert(cf_getMessage(MSG_00043, "상계계수를"));
		tab_prod.tab_prodInfo.div_basic_info.edt_setoff_num.SetFocus();
		return false;
	}else if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && toNumber(ds_prod_mgmt.GetColumn(0,"SETOFF_NUM")) >100){
		alert("상계계수를 100% 이하로 입력하십시오.");
		tab_prod.tab_prodInfo.div_basic_info.edt_setoff_num.SetFocus();
		return false;
	}else if(uf_isNull(ds_prod_mgmt.GetColumn(0,"MFACT_ID")) == true){
		alert(cf_getMessage(MSG_00043, "제조사를"));
		tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.SetFocus();
		return false;
	}else if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && uf_isNull(ds_prod_mgmt.GetColumn(0,"PREFER_CL")) == true){
		alert(cf_getMessage(MSG_00043, "선호도를"));
		tab_prod.tab_prodInfo.div_basic_info.cob_pay_prefer.SetFocus();
		return false;
	}else if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && uf_isNull(ds_prod_mgmt.GetColumn(0,"GRADE_GB")) == true){
		alert(cf_getMessage(MSG_00043, "등급구분을"));
		tab_prod.tab_prodInfo.div_basic_info.cmb_grade_lst.SetFocus();
		return false;
	}else if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && uf_isNull(ds_prod_mgmt.GetColumn(0,"COMP_CL")) == true){
		alert(cf_getMessage(MSG_00043, "자사구분을"));
		tab_prod.tab_prodInfo.div_add_info.cob_comp_cl.SetFocus();
		return false;
	}else if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && uf_isNull(ds_prod_mgmt.GetColumn(0,"SALE_YN")) == true){
		alert(cf_getMessage(MSG_00043, "판매중지여부를"));
		return false;
	}else if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && uf_isNull(ds_prod_mgmt.GetColumn(0,"IN_YN")) == true){
		alert(cf_getMessage(MSG_00043, "매입중지여부를"));
		return false;
	}else if(uf_isNull(ds_prod_mgmt.GetColumn(0,"MKTG_DT")) == true){
		alert(cf_getMessage(MSG_00043, "출시일을"));
		tab_prod.tab_prodInfo.div_basic_info.cal_mktg_dt.SetFocus();
		return false;
	}else if( !uf_isNull(ds_prod_mgmt.GetColumn(0,"MKTG_DT")) && 
				!uf_CheckDate(ds_prod_mgmt.GetColumn(0,"MKTG_DT"), "YYYYMMDD")){
		alert(cf_getMessage(MSG_00043, "출시일을"));
		tab_prod.tab_prodInfo.div_basic_info.cal_mktg_dt.SetFocus();
		return false;
	}else if(uf_isNull(ds_prod_mgmt.GetColumn(0,"RGST_CL")) == true){
		alert(cf_getMessage(MSG_00043, "등록구분을"));
		tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl.SetFocus();
		return false;
	}else if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && (tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Value == "Y" && ( tab_prod.tab_prodInfo.div_basic_info.cal_mktg_dt.value > tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Value)) ){
		
		alert(cf_getMessage(MSG_00020, "판매중지일은 출시일"));
		tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.SetFocus();
		return false;
	}
	

	// 상품구분이 단말기인 경우만 대표모델이 필요함
	if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1" && uf_isNull(ds_prod_mgmt.GetColumn(0,"MST_PROD_NM")) == true){
		alert(cf_getMessage(MSG_00043, "대표모델을"));
		tab_prod.tab_prodInfo.div_basic_info.edt_MstProdNm.SetFocus();
		return false;
	}
	
	//색상코드 입력 체크
	if(ds_ParentColor.GetRowCount() ==0){
		alert(cf_getMessage(MSG_00043, "색상을 "));
		return false;
	}
	
	//중복된 색상코드 체크
	var dupColChk = 0;
	
	if(ds_ParentColor.rowcount > 0) {
		for(var nRow = ds_ParentColor.rowCount-1; nRow>=0; nRow--) {	
			var sInColCode = ds_ParentColor.GetColumn(nRow,"CODE");
			
			dupColChk = ds_ParentColor.CaseCount("CODE=="+ quote(sInColCode));
			
			if(dupColChk > 1 ){ 
				
				alert((toNumber(nRow)+1)+"열에 중복된 색상코드가 있습니다.");				
				return false;
			}
		}
	}
	
	var dupCnt = 0;
	var dupCnt1 = 0;
	
	if(ds_suppl.rowcount > 0) {
	
		for(var nRow = ds_suppl.rowCount-1; nRow>=0; nRow--) {	
			
			var sInDtlCl = ds_suppl.GetColumn(nRow,"DTL_CL");
			var sInCmpProdCd = ds_suppl.GetColumn(nRow,"CMP_PROD_CD");
			var sInQty = ds_suppl.GetColumn(nRow,"QTY");
			var sInPrice = ds_suppl.GetColumn(nRow,"PRICE");
			
			dupCnt = ds_suppl.CaseCount("DTL_CL=="+ quote(sInDtlCl));
			
			if(dupCnt > 1 ){ 
				
				alert((toNumber(nRow)+1)+"열에 중복된 상품구분이 있습니다.");				
				return false;
			}
			
			if(length(trim(sInCmpProdCd)) ==0){
				alert((toNumber(nRow)+1)+"열의 상품코드를 선택하십시오.");				
				return false;
			}
			
			if(length(trim(sInQty)) ==0){
				alert((toNumber(nRow)+1)+"열의 수량을 입력하십시오.");				
				return false;
			}
			
			if(length(trim(sInPrice)) ==0){
				alert((toNumber(nRow)+1)+"열의 단가를 정확히 입력하십시오.");				
				return false;
			}
		}
	}

    return true;
}

/*******************************************************************************
 * @description    : 공통 저장 함수
*******************************************************************************/
function df_save()
{
	if(FV_CUD_FLAG == "U") 
	{
		df_update();
	}
	else
	{
		if (!(f_pre_save())) return;
		
		f_chekcDuplicationModel();

	}
}


/*******************************************************************************
 * @description    : 제조사 콤보 데이터 세팅
*******************************************************************************/
function f_select()
{
	var sSvcID 	= "setCombo";
	var sInDs 	= " ";
	var sOutDs 	= "ds_mfact_id=ds_mfact_id";
	var sArg	= "sktst.bas.PDM#getMfactPlcList";
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}



/*******************************************************************************
 * @description    : 사용 여부 N 선택시 사용중지일 입력창 출력 이벤트
*******************************************************************************/
function f_getStopDt()
{
	if(tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.value== "Y")
	{
		tab_prod.tab_prodInfo.div_add_info.div_layer1.Visible =true;
		tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Value = today();
	}
	else
	{
		tab_prod.tab_prodInfo.div_add_info.div_layer1.Visible =false;
		tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Value = "99991231";
	}
}


/*******************************************************************************
 * @description    : 상품 조회 및 수정 시 사용여부 값에 따라 판매중지일 출력
*******************************************************************************/
function f_setStopDt(){	
	
	if(ds_prod_mgmt.GetColumn(0,"SALE_YN") == "Y"){
		tab_prod.tab_prodInfo.div_add_info.div_layer1.Visible =true;
	}else{
		tab_prod.tab_prodInfo.div_add_info.div_layer1.Visible =false;
	}
	
	if(ds_prod_mgmt.GetColumn(0,"RGST_CL") == "1"){
		tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl.Enable =false;
	}else{
		tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl.Enable =true;
	}
}



/*******************************************************************************
 * @description    : 상품 조회 및 수정 시 사용여부 값에 따라 매입중지일 출력
*******************************************************************************/
function f_getInStopDt(obj)
{
	if(tab_prod.tab_prodInfo.div_add_info.rdo_in_yn.value== "Y")
	{
		tab_prod.tab_prodInfo.div_add_info.div_layer2.Visible =true;
		tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Value = today();
	}
	else
	{
		tab_prod.tab_prodInfo.div_add_info.div_layer2.Visible =false;
		tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Value = "99991231";
	}
}


/*******************************************************************************
 * @description    : 상품 저장 버튼 클릭시 이벤트 
*******************************************************************************/
function btn_save_onClick(obj)
{
	df_save();
}


/*******************************************************************************
 * @description    : 중복 상품 체크
*******************************************************************************/
function f_chekcDuplicationModel()
{
	var prodCd = div_search.edt_prod_cd.Value;
	var prodNm = div_search.edt_prod_nm.Value;
	
	ds_condition.SetColumn(0,"PROD_CD",prodCd);
	ds_condition.SetColumn(0,"PROD_NM",prodNm);
	
	var sSvcID = "svcDuplication";
	var sInDs = "nc_input_fieldDs=ds_condition";
	var sOutDs = "";
	var sArg = "sktst.bas.PDM#checkUsedProdDup";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}


/*******************************************************************************
 * @description    : USIM, 기타상품 공통색상 insert
*******************************************************************************/

function cob_prod_cl_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	var sProdCL= obj.value;
	var sCompcl = tab_prod.tab_prodInfo.div_add_info.cob_comp_cl.value;
	
	if(sProdCL != "1")
	{
		if(ds_ParentColor.GetRowCount() < 1 )
		{
			ds_ParentColor.AddRow();
			ds_ParentColor.SetColumn(0,"CODE","99");
			ds_ParentColor.SetColumn(0,"NAME","공통색상");
		}
		
		
		//tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Enable = false;
		tab_prod.tab_prodInfo.div_basic_info.edt_setoff_num.Enable = false;
		tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Enable = false;
		
		ds_prod_mgmt.SetColumn(0,"PREFER_CL","");
		ds_prod_mgmt.SetColumn(0,"GRADE_GB","");
		ds_prod_mgmt.SetColumn(0,"COMP_CL","");
		
		tab_prod.tab_prodInfo.div_basic_info.cob_pay_prefer.Enable = false;
		tab_prod.tab_prodInfo.div_basic_info.cmb_grade_lst.Enable = false;
		tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Enable = false;	
	    tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Value = "N";
		tab_prod.tab_prodInfo.div_add_info.rdo_in_yn.Value = "N";
		tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Value = "99991231";
		tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Value = "99991231";
		
		
		if(sProdCL == "2"){
			tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Value = 7700;
		}else if(sProdCL == "3"){
			tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Value = 25000;
		}else{
			tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Value ="";
		}
	
		if(sProdCL == "3"){
			ds_chrtic1.UnFilter();
			ds_chrtic1.Filter("COMM_CD_VAL!='S'&&COMM_CD_VAL!='P'&&COMM_CD_VAL!='T'");
			tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Index = 0;
		}else{
			ds_chrtic1.UnFilter();
			ds_chrtic1.Filter("COMM_CD_VAL!='S'&&COMM_CD_VAL!='P'&&COMM_CD_VAL!='T'&&COMM_CD_VAL!='L'&&COMM_CD_VAL!='M'&&COMM_CD_VAL!='N'");
			tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Index = 0;
		}
		
		//tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Enable = false;
		tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_2.Enable = false;
		tab_prod.tab_prodInfo.div_add_info.cob_comp_cl.Enable = false;
		tab_prod.tab_prodInfo.div_add_info.cmb_comMthd.Enable = false;
		tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Enable = false;
		tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Enable = false;
		tab_prod.tab_prodInfo.div_add_info.rdo_in_yn.Enable = false;
		tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Enable = false;
		tab_prod.tab_prodInfo.div_add_info.div_layer3.msk_strd_amt.Enable = false;
			
		if(uf_isNull(div_search.edt_prod_cd.Text) == false && uf_isNull(div_search.edt_prod_nm.Text) == false){
			tab_prod.tab_prodInfo.div_basic_info.chk_ItSelf.Value = "1";
			tab_prod.tab_prodInfo.div_basic_info.edt_MstProdCd.Text = div_search.edt_prod_cd.Text;
			tab_prod.tab_prodInfo.div_basic_info.edt_MstProdNm.Text = div_search.edt_prod_nm.Text;
			tab_prod.tab_prodInfo.div_basic_info.edt_MstProdCd.Enable = false;
			tab_prod.tab_prodInfo.div_basic_info.edt_MstProdNm.Enable = false;
		}
				
	}else{
		
		ds_chrtic1.UnFilter();
		ds_chrtic1.Filter("COMM_CD_VAL!='L'&&COMM_CD_VAL!='M'&&COMM_CD_VAL!='N'");
		tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Index = 0;
		
		tab_prod.tab_prodInfo.div_basic_info.cob_mafct_id.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.edt_setoff_num.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.cal_end_dt.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.cob_pay_prefer.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.cmb_grade_lst.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.edt_max_price.Value = 600000;
		
		tab_prod.tab_prodInfo.div_basic_info.chk_ItSelf.Value = "0";
		tab_prod.tab_prodInfo.div_basic_info.edt_MstProdCd.Text = "";
		tab_prod.tab_prodInfo.div_basic_info.edt_MstProdNm.Text = "";
		tab_prod.tab_prodInfo.div_basic_info.edt_MstProdCd.Enable = true;
		tab_prod.tab_prodInfo.div_basic_info.edt_MstProdNm.Enable = true;
		
		tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_2.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.cob_comp_cl.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.cmb_comMthd.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.rdo_use_yn.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.div_layer1.cal_stop_dt.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.rdo_in_yn.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.div_layer2.cal_in_dt.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.div_layer3.msk_strd_amt.Enable = true;
		tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Index = 0;
		
		tab_prod.tab_prodInfo.div_basic_info.btn_Search.Enable = true;
		
		ds_ParentColor.ClearData();
	}
	
	
	if(sProdCL == "1"){
		if(sCompcl != null && sCompcl != "1"){
			tab_prod.tab_prodInfo.div_add_info.div_layer3.Visible =true;
		}else if(sCompcl != null && sCompcl = "1"){
			tab_prod.tab_prodInfo.div_add_info.div_layer3.Visible =false;
		}	
	}else{
		tab_prod.tab_prodInfo.div_add_info.div_layer3.Visible =false;
	}
}



function cob_comp_cl_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	var sProdCL= tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.value;
	var sCompcl = obj.value;
	
	if(sProdCL == "1"){
		if(sCompcl != null && sCompcl != "1"){
			tab_prod.tab_prodInfo.div_add_info.div_layer3.Visible =true;
		}else if(sCompcl != null && sCompcl = "1"){
			tab_prod.tab_prodInfo.div_add_info.div_layer3.Visible =false;
		}	
	}
}

/*******************************************************************************
 * @description    : 창 닫기
*******************************************************************************/
function btn_close_OnClick(obj)
{
	this.close();
}


/*******************************************************************************
 * @description    :  삭제 이벤트
*******************************************************************************/
function btn_del_OnClick(obj)
{
	
	if(toNumber(ds_prod_mgmt.GetColumn(0,"UPLST_MDL_CNT")) >0)
	{
		alert(MSG_01003);//운영모델 단가표에 기등록된 상품은 삭제할 수 없습니다.
		return false;
	}
	
	if(confirm("삭제하시겠습니까?") != 1) 
		return;	
		
	f_color();
	
	var sSvcID = "svcDelete";
	var sInDs = "nc_input_fieldDs=ds_prod_mgmt ds_suppl=ds_suppl:U ds_color=ds_ParentColor";
	var sOutDs = "";
	var sArg = "sktst.bas.PDM#deleteUsedProdInfo";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);

}

/*******************************************************************************
 * @description    :  운영모델단가표 상품은 출시일 수정 못함
*******************************************************************************/
function div_basic_info_cal_mktg_dt_OnChanged(obj,strOldText,strNewText)
{
	if(FV_CUD_FLAG == "U" && toNumber(ds_prod_mgmt.GetColumn(0,"UPLST_MDL_CNT")) >0) {
		ds_prod_mgmt.SetColumn(0,"MKTG_DT",strOldText);
		alert(MSG_01004);//운영모델 단가표에 기등록된 상품은 출시일을 수정할 수 없습니다.
		return false;
	}

	return true;
}

/*******************************************************************************
 * @description    : 서비스 종료시  - 이벤트
*******************************************************************************/
function productU_OnUnloadCompleted(obj)
{
	var nResult1 = cf_checkDsChanging(ds_prod_mgmt);
	
	return cf_callDsCheckMsg(nResult1, nResult2);
}

/*******************************************************************************
 * @description    : 모델 click 이벤트
*******************************************************************************/
function div_basic_info_btn_ProdCd_OnClick(obj)
{
	cf_commPopProd("tab_prod.tab_prodInfo.div_basic_info.edt_MstProdCd", "tab_prod.tab_prodInfo.div_basic_info.edt_MstProdNm", 13 , "1");
}

/*******************************************************************************
 * @description    : 모델 OnKeyDown 이벤트
*******************************************************************************/
function div_basic_info_edt_MstProdCd_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if (nChar == 13)
	{
		cf_commPopProd("tab_prod.tab_prodInfo.div_basic_info.edt_MstProdCd", "tab_prod.tab_prodInfo.div_basic_info.edt_MstProdNm", nChar);
	}			
}

function div_basic_info_edt_MstProdCd_OnCharChanged(obj,strPreText,strPostText)
{
	tab_prod.tab_prodInfo.div_basic_info.edt_MstProdNm.text = "";
}

function div_basic_info_chk_ItSelf_OnClick(obj,strValue)
{
	if (tab_prod.tab_prodInfo.div_basic_info.chk_ItSelf.Value) {
		tab_prod.tab_prodInfo.div_basic_info.edt_MstProdCd.Text = div_search.edt_prod_cd.Text;
		tab_prod.tab_prodInfo.div_basic_info.edt_MstProdNm.Text = div_search.edt_prod_nm.Text;
	}
}

function btn_search_onClick(obj)
{
	div_search.edt_prod_cd.Enable =false;
	ds_condition.SetColumn(0,"PROD_CD",div_search.edt_prod_cd.Text);
	
	tab_prod.tab_prodInfo.div_basic_info.cob_rgst_cl.Enable =false;	
		
	f_getProdMgmt();
}

function btn_addRow_OnClick(obj)
{

	if(tab_prod.TabIndex ==1){
		
		if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "1"){
			ds_suppl.AddRow();
			
			ds_suppl.SetColumn(ds_suppl.lastrow, "PROD_CD",div_search.edt_prod_cd.Text);
			ds_suppl.SetColumn(ds_suppl.lastrow, "DTL_CL","1");
					
			f_set_gridFocus(tab_prod.tab_suppInfo.grd_prod_mgmt, ds_suppl.lastrow, 1);
			
			ds_suppl.FireEvent = true;
		}else{
			alert("단말기 이외의 상품은 부가정보를 입력할 수 없습니다.");
			return;
		}		
	}
}


/*******************************************************************************
* 함수명 : btn_delRow_OnClick 
* 기능명 : 우 삭제
*******************************************************************************/
function btn_delRow_OnClick(obj)
{
	if(tab_prod.TabIndex ==1){
		 ds_suppl.DeleteRow(ds_suppl.row);
		 ds_suppl.FireEvent = true;
		
	}
}


/*******************************************************************************
* 함수명 : f_set_gridFocus
* 기능명 : 그리드 포커스 이동
*******************************************************************************/
function f_set_gridFocus(gridObj, nRow, nCellIdx) 
{	
	var dataSetObj = object(gridObj.bindDataset);
	dataSetObj.row = nRow;
	gridObj.SetCellPos(nCellIdx);
	gridObj.SetFocus();
}

function Button0_OnClick(obj)
{
		cf_debug("ds_chrtic1");
}

/*******************************************************************************
 * @description    : 색상 검색 팝업 
*******************************************************************************/
function f_Search_OnClick(obj)
{
	var sArg  = "";
	
	//dialog("BAS::BASBCO00600.xml", sArg, 336, 128);
	cf_commPopColor("ds_ParentColor");
}



/*******************************************************************************
 * @description    : 색상 테이블 PROD_CD 세팅
*******************************************************************************/
function f_color()
{
	var prodCd = ds_prod_mgmt.GetColumn(0,"PROD_CD");
	var nRow = ds_ParentColor.rowcount;
	
	for (var i=0; i<nRow; i++) {
		ds_ParentColor.SetColumn(i, "PROD_CD", prodCd);
	}
}


function ds_prod_mgmt_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
	if(strColumnID == "MST_PROD_CD"){
		if(length(varNewValue) >0){
			
			if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "3"){
			
				if(tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Value == "L"){
					div_search.edt_prod_cd.Value = "";
					div_search.edt_prod_cd.Value = varNewValue+"A";
				}else if(tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Value == "M"){
					div_search.edt_prod_cd.Value = "";
					div_search.edt_prod_cd.Value = varNewValue+"B";
				}else if(tab_prod.tab_prodInfo.div_add_info.cob_prod_chrtic_1.Value == "N"){
					div_search.edt_prod_cd.Value = "";
					div_search.edt_prod_cd.Value = varNewValue+"C";
				}				
			}
		}
	}
}

function Button1_OnClick(obj)
{
	cf_debug("ds_chrtic2");
}

function tab_prod_tab_suppInfo_grd_prod_mgmt_OnExpandUp(obj,nRow,nCell,strVal,nPivotIndex)
{
	if(nCell == "2"){
	
		ds_ParentProd.ClearData();
		
		var sInRow = ds_ParentProd.AddRow(); 
		var sInProdColId = ds_suppl.GetColumn(nRow, "DTL_CL");
		var sInProdCl = "";
		
        /**
         *  상품구분             단말기부가상품
         *  1. 단말기            1. 배터리 대
         *  2. USIM              2. 배터리 표준
         *  3. 배터리            3. 배터리 소
         *  4. 젠더              4. 충전기(스마트폰)
         *  5. 배터리 Case       5. 젠더(스마트폰)
         *  6. 이어폰            6. 이어폰
         *  7. 충전기            7. 배터리 Case
         *  8. USB Cable         8. USB Cable
         *  
         */
		if(sInProdColId == "1" || sInProdColId== "2" || sInProdColId== "3"){
			sInProdCl = "3";
		}else if(sInProdColId == "4"){
			sInProdCl = "7";
		}else if(sInProdColId == "5"){
			sInProdCl = "4";
		}else if(sInProdColId == "6"){
			sInProdCl = "6";
		}else if(sInProdColId == "7"){
			sInProdCl = "5";
		}else if(sInProdColId == "8"){
			sInProdCl = "8";
		}
		
		var sParentProdCd = ds_suppl.GetColumn(nRow, "PROD_CD");
		
		
		//부가상품 구분이 배터리/배터리Case 인경우 상품검색팝업 창에 상품코드 set
		// 
		if(sInProdColId == "1" || sInProdColId== "2" || sInProdColId== "3" || sInProdColId== "7"){
			ds_ParentProd.SetColumn(sInRow,"prod_cd",sParentProdCd);
		}
		
		ds_ParentProd.SetColumn(sInRow,"prod_cl", sInProdCl);
		
		cf_commPopProdDs("ds_ParentProd", sInRow);
		
		if(sParentProdCd != ds_ParentProd.GetColumn(sInRow, "prod_cd")){
			ds_suppl.SetColumn(nRow, "cmp_prod_cd", ds_ParentProd.GetColumn(sInRow, "prod_cd"));
		}
		
		ds_ParentProd.ClearData();
	}
}

function tab_prod_tab_prodInfo_div_add_info_cob_prod_chrtic_1_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	if(tab_prod.tab_prodInfo.div_basic_info.cob_prod_cl.Value == "3" && length(ds_prod_mgmt.GetColumn(0,"MST_PROD_CD")) !=0){
	
		var sCmpProdCL= obj.value;
		
		if(sCmpProdCL == "L"){
			div_search.edt_prod_cd.Value = ds_prod_mgmt.GetColumn(0,"MST_PROD_CD")+"A";
		}else if(sCmpProdCL == "M"){
			div_search.edt_prod_cd.Value = ds_prod_mgmt.GetColumn(0,"MST_PROD_CD")+"B";
		}else if(sCmpProdCL == "N"){
			div_search.edt_prod_cd.Value = ds_prod_mgmt.GetColumn(0,"MST_PROD_CD")+"C";
		}
	}
}

function ds_suppl_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
	if(strColumnID == "DTL_CL"){
		ds_suppl.SetColumn(nRow,"CMP_PROD_CD","");
	}
}

function f_setFixAmt(){
	if(tab_prod.tab_prodInfo.div_basic_info.rdo_fix_amt_yn.value== "Y")
	{
		var prod_cl = ds_prod_mgmt.GetColumn(0,"PROD_CL");
		if(prod_cl == '1'){
			tab_prod.tab_prodInfo.div_basic_info.btn_fix_amt.Visible =true;
		}else{
			tab_prod.tab_prodInfo.div_basic_info.btn_fix_amt.Visible =false;
		}
	}
	else
	{
		tab_prod.tab_prodInfo.div_basic_info.btn_fix_amt.Visible =false;
	}
}

function btn_fix_amt_OnClick(obj)
{
	var sArg  = "p_prod_cd="+quote(ds_prod_mgmt.GetColumn(0,"PROD_CD"));
	    sArg += " p_prod_nm="+quote(ds_prod_mgmt.GetColumn(0,"PROD_NM"));
	    sArg += " p_grade_gb="+quote(ds_prod_mgmt.GetColumn(0,"GRADE_GB"));
	cf_openAuthPop("100000927", sArg, 1024,600);
}


/*******************************************************************************
* 함수명 : f_initCondtion
* 기능명 : 검색조건의 선택 Dataset 추가
*******************************************************************************/
function tab_prod_tab_suppInfo_cal_suppl_OnChanged(obj,strOldText,strNewText)
{
	var prodCd = Replace(ds_condition.GetColumn(0,"prod_cd"),' ','');
	if(prodCd != ''){
		var sSvcID = "svcSearchSuppl";
		var sInDs  = "nc_input_fieldDs=ds_condition";
		var sOutDs = "ds_suppl=ds_suppl";
		var sArg   = "sktst.bas.PDM#getUsedProdInfo";
		
		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	}
	
}


function tab_prod_tab_suppInfo_grd_prod_mgmt_OnCellClick(obj,nRow,nCell,nX,nY,nPivotIndex)
{
	if(nCell == 5 || nCell == 6)
	{
		cf_setGrdCalendar(obj, nRow, nCell);
	}
}

function tab_prod_tab_suppInfo_cal_suppl_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if (nChar == 13) {
		tab_prod_tab_suppInfo_cal_suppl_OnChanged(obj,'',nChar);
	}
}
]]></Script>
</Window>
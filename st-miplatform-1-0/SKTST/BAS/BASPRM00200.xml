<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="504" Id="form" Left="8" OnLoadCompleted="form_OnLoadCompleted" PidAttrib="7" Title="거래처&#32;등록" Top="8" Ver="1.0" Width="830" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_detail" LastLoadDataOnly="1" OnColumnChanged="ds_detail_OnColumnChanged">
				<Contents>
					<colinfo id="DEAL_CO_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_CL1" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_CL2" size="256" summ="default" type="STRING"/>
					<colinfo id="TAX_STRD" size="256" summ="default" type="STRING"/>
					<colinfo id="ZIP_CD1" size="256" summ="default" type="STRING"/>
					<colinfo id="ZIP_CD2" size="256" summ="default" type="STRING"/>
					<colinfo id="ADDR" size="256" summ="default" type="STRING"/>
					<colinfo id="DTL_ADDR" size="256" summ="default" type="STRING"/>
					<colinfo id="UKEY_AGENCY_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="UKEY_SUB_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="UKEY_CHANNEL_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="BIZ_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="BIZ_CON" size="256" summ="default" type="STRING"/>
					<colinfo id="TYP_OF_BIZ" size="256" summ="default" type="STRING"/>
					<colinfo id="REP_USER_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="TEL_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="FAX_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="GRT_INSU_CO" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_STA_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_END_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="NORMAL_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_END_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="PAY_STOP_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="OUT_STOP_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_STOP_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="POS_AGENCY" size="256" summ="default" type="STRING"/>
					<colinfo id="POS_AGENCY_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SUP_DEAL" size="256" summ="default" type="STRING"/>
					<colinfo id="SUP_DEAL_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_GRP" size="256" summ="default" type="STRING"/>
					<colinfo id="CHRGR_USER_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="STL_PLC" size="256" summ="default" type="STRING"/>
					<colinfo id="STL_PLC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="REP_MBL_PHON" size="256" summ="default" type="STRING"/>
					<colinfo id="PRAC_MBL_PHON1" size="256" summ="default" type="STRING"/>
					<colinfo id="PRAC_CHRGR1" size="256" summ="default" type="STRING"/>
					<colinfo id="PRAC_MBL_PHON2" size="256" summ="default" type="STRING"/>
					<colinfo id="PRAC_CHRGR2" size="256" summ="default" type="STRING"/>
					<colinfo id="INSP_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="INSP_EFF_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="INSP_EXP_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="INSP_GUA_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="INSP_ISSUE_CMMS" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="DEL_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="UPD_CNT" size="256" summ="default" type="STRING"/>
					<colinfo id="INS_DTM" size="256" summ="default" type="STRING"/>
					<colinfo id="INS_USER_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="MOD_DTM" size="256" summ="default" type="STRING"/>
					<colinfo id="MOD_USER_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="CASA_DPST_BANK_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="CASA_DPST_ACC_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="CASA_DPST_DEPO" size="256" summ="default" type="STRING"/>
					<colinfo id="CASA_DPST_CMS_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="PMAG_DPST_BANK_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="PMAG_DPST_ACC_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="PMAG_DPST_DEPO" size="256" summ="default" type="STRING"/>
					<colinfo id="PMAG_DPST_CMS_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SLCM_DFRY_BANK_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SLCM_DFRY_ACC_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="SLCM_DFRY_DEPO" size="256" summ="default" type="STRING"/>
					<colinfo id="SLCM_DFRY_CMS_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="CARD_FEE_RATE" size="256" summ="default" type="STRING"/>
					<colinfo id="BIZ_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SORT_SEQ" size="256" summ="default" type="STRING"/>
					<colinfo id="DIS_HLD_PLC" size="256" summ="default" type="STRING"/>
					<colinfo id="DIS_HLD_PLC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="PER_BIZ_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="REG_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="POL_OPER_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_CL2_ORG" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_bank"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_condition">
				<Contents>
					<colinfo id="deal_co_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="hseq_no" size="256" summ="default" type="INT"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_check"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_user">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
					<record>
						<user_id></user_id>
						<user_nm>선택</user_nm>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_perBizCl"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_poll_oper_yn">
				<Contents>
					<colinfo id="code" size="256" summ="default" type="STRING"/>
					<colinfo id="name" size="256" summ="default" type="STRING"/>
					<record>
						<code>N</code>
						<name>N</name>
					</record>
					<record>
						<code>Y</code>
						<name>Y</name>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_custMaster">
				<Contents>
					<colinfo id="DEAL_CO_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="ADDR" size="256" summ="default" type="STRING"/>
					<colinfo id="DTL_ADDR" size="256" summ="default" type="STRING"/>
					<colinfo id="ZIP_CD1" size="256" summ="default" type="STRING"/>
					<colinfo id="ZIP_CD2" size="256" summ="default" type="STRING"/>
					<colinfo id="TEL_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="REG_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="BIZ_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="REP_USER_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="TYP_OF_BIZ" size="256" summ="default" type="STRING"/>
					<colinfo id="BIZ_CON" size="256" summ="default" type="STRING"/>
					<colinfo id="SLCM_DFRY_ACC_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="SLCM_DFRY_DEPO" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="POS_AGENCY" size="256" summ="default" type="STRING"/>
					<colinfo id="UKEY_AGENCY_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="UKEY_SUB_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="UKEY_CHANNEL_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SLCM_DFRY_BANK_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_END_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="REG_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="PER_BIZ_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_CL1" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_CL2" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_dealCoCl2"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_slcm_dfry_msg"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_out_bank"></Dataset>
		</Datasets>
		<Div Border="Raised" Height="110" Id="div_process1" Left="10" Style="sty_div_input" TabOrder="2" Text="Div0" Top="35" Width="810">
			<Contents>
				<Static Align="Right" Border="None" Height="20" Id="Static6" Left="21" Style="sty_lb_Basic" TabOrder="10" Text="거래처구분" Top="7" VAlign="Middle" Width="84"></Static>
				<Static Align="Right" Border="None" Height="20" Id="Static9" Left="21" Style="sty_lb_Basic" TabOrder="11" Text="거래처명" Top="53" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="DEAL_CO_NM" Height="20" Id="edt_dealCoNm" ImeMode="native" Left="109" LeftMargin="2" MaxLength="30" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="53" UserData="거래처명" Width="149"></Edit>
				<Combo BindDataset="ds_detail" Border="Flat" Column="DEAL_CO_CL1" Height="20" Id="cmb_dealCoCl1" INDEX="0" Left="108" OnChanged="div_process1_cmb_dealCoCl1_OnChanged" Style="sty_ipt_form" TabOrder="1" Top="6" UserData="거래처구분" Width="151"></Combo>
				<Image Height="21" Id="Image0" ImageID="bul_mand" Left="27" TabOrder="12" Top="6" Transparent="TRUE" Width="20"></Image>
				<Image Height="21" Id="Image3" ImageID="bul_mand" Left="41" TabOrder="13" Top="52" Transparent="TRUE" Width="20"></Image>
				<Static Align="Right" Border="None" Height="20" Id="Static15" Left="21" Style="sty_lb_Basic" TabOrder="14" Text="거래처유형" Top="30" VAlign="Middle" Width="84"></Static>
				<Combo BindDataset="ds_detail" Border="Flat" CodeColumn="COMM_CD_VAL" Column="DEAL_CO_CL2" DataColumn="COMM_CD_VAL_NM" Enable="FALSE" Height="20" Id="cmb_dealCoCl2" INDEX="0" InnerDataset="ds_dealCoCl2" Left="108" OnChanged="div_process1_cmb_dealCoCl2_OnChanged" Style="sty_ipt_form" TabOrder="2" Top="29" Width="151"></Combo>
				<Static Align="Right" Border="None" Height="20" Id="Static14" Left="396" Style="sty_lb_Basic" TabOrder="15" Text="소속조직" Top="7" VAlign="Middle" Width="84"></Static>
				<Static Align="Right" Border="None" Height="20" Id="Static0" Left="396" Style="sty_lb_Basic" TabOrder="17" Text="소속대리점" Top="30" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" Column="POS_AGENCY" Enable="FALSE" Height="20" Id="edt_agency" ImeMode="english" Left="608" LeftMargin="2" OnKeyDown="callPopUp" Readonly="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="30" UpperOnly="TRUE" UseIME="FALSE" Width="148"></Edit>
				<Edit BindDataset="ds_detail" Border="Flat" Column="ORG_ID" Enable="FALSE" Height="20" Id="edt_orgId" Left="483" LeftMargin="2" Readonly="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Width="106"></Edit>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Enable="FALSE" Height="21" Id="btn_orgId" ImageID="btn_i_detail_b" Left="588" OnClick="callPopUp" TabOrder="16" Text="Button0" Top="7" Width="20"></Button>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="ORG_NM" Enable="FALSE" Height="20" Id="edt_orgNm" ImeMode="native" Left="608" LeftMargin="2" Readonly="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="7" Width="148"></Edit>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="POS_AGENCY_NM" Enable="FALSE" Height="20" Id="edt_agencyNm" ImeMode="native" Left="483" LeftMargin="2" OnCharChanged="div_process1_edt_agencyNm_OnCharChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="30" Width="106"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static1" Left="396" Style="sty_lb_Basic" TabOrder="18" Text="정산처" Top="53" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" Column="STL_PLC" Enable="FALSE" Height="20" Id="edt_stlPlc" ImeMode="english" Left="608" LeftMargin="2" Readonly="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="9" Top="53" UpperOnly="TRUE" UseIME="FALSE" Width="148"></Edit>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Enable="FALSE" Height="21" Id="btn_stlPlc" ImageID="btn_i_detail_b" Left="588" OnClick="callPopUp" TabOrder="19" Text="Button0" Top="53" Width="20"></Button>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="STL_PLC_NM" Enable="FALSE" Height="20" Id="edt_stlPlcNm" ImeMode="native" Left="483" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="53" Width="106"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static5" Left="396" Style="sty_lb_Basic" TabOrder="22" Text="재고보유처" Top="76" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="DIS_HLD_PLC_NM" Enable="FALSE" Height="20" Id="edt_disHldPlcNm" ImeMode="native" Left="483" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="20" Top="76" Width="106"></Edit>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Enable="FALSE" Height="21" Id="btn_disHldPlc" ImageID="btn_i_detail_b" Left="588" OnClick="callPopUp" TabOrder="23" Text="Button0" Top="76" Width="20"></Button>
				<Edit BindDataset="ds_detail" Border="Flat" Column="DIS_HLD_PLC" Enable="FALSE" Height="20" Id="edt_disHldPlc" ImeMode="english" Left="608" LeftMargin="2" Readonly="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="21" Top="76" UpperOnly="TRUE" UseIME="FALSE" Width="148"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static7" Left="21" Style="sty_lb_Basic" TabOrder="24" Text="정책운영사" Top="76" VAlign="Middle" Width="84"></Static>
				<Combo BindDataset="ds_detail" Border="Flat" CodeColumn="code" Column="POL_OPER_YN" DataColumn="name" Enable="FALSE" Height="20" Id="cmb_polOperYn" INDEX="0" InnerDataset="ds_poll_oper_yn" Left="108" Style="sty_ipt_form" TabOrder="25" Top="75" UserData="거래처구분" Width="151"></Combo>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Enable="FALSE" Height="21" Id="btn_agency" ImageID="btn_i_detail_b" Left="588" OnClick="callPopUp" TabOrder="26" Text="Button0" Top="30" Width="20"></Button>
			</Contents>
		</Div>
		<Image Align="Left" Height="25" Id="Image0" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="4" Text="거래처&#32;기본정보" Top="10" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image1" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="5" Text="추가정보" Top="144" Width="192"></Image>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_save" ImageID="btn_c_2" Left="756" LeftMargin="5" OnClick="btn_save_OnClick" Style="sty_btn_c" TabOrder="6" Text="저장" Top="467" Visible="FALSE" Width="60"></Button>
		<Div Border="Raised" Height="109" Id="div_process4" Left="10" Style="sty_div_input" TabOrder="1" Text="Div0" Top="307" Width="810">
			<Contents>
				<Static Align="Right" Border="None" Height="20" Id="Static6" Left="3" Style="sty_lb_Basic" TabOrder="9" Text="대표이동전화" Top="7" VAlign="Middle" Width="84"></Static>
				<Static Align="Right" Border="None" Height="20" Id="Static9" Left="202" Style="sty_lb_Basic" TabOrder="10" Text="전화번호1" Top="30" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="PRAC_MBL_PHON1" Height="20" Id="edt_pracMblPhon1" Left="290" LeftMargin="2" MaxLength="11" OnChar="uf_allowNumMinusEvent" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="30" Width="110"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static15" Left="202" Style="sty_lb_Basic" TabOrder="11" Text="실무담당자1" Top="7" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="REP_MBL_PHON" Height="20" Id="edt_repMblPhon" Left="91" LeftMargin="2" MaxLength="11" OnChar="uf_allowNumMinusEvent" RightMargin="2" Style="sty_ipt_form" TabOrder="1" Top="7" Width="98"></Edit>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="PRAC_CHRGR1" Height="20" Id="edt_pracChrgr1" ImeMode="native" Left="290" LeftMargin="2" MaxLength="10" RightMargin="2" Style="sty_ipt_form" TabOrder="2" Top="7" Width="110"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static0" Left="396" Style="sty_lb_Basic" TabOrder="13" Text="실무담당자2" Top="6" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="PRAC_CHRGR2" Height="20" Id="Edit2" ImeMode="native" Left="484" LeftMargin="2" MaxLength="10" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="6" Width="98"></Edit>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="PRAC_MBL_PHON2" Height="20" Id="Edit3" Left="484" LeftMargin="2" MaxLength="11" OnChar="uf_allowNumMinusEvent" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="29" Width="98"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static7" Left="396" Style="sty_lb_Basic" TabOrder="12" Text="전화번호2" Top="29" VAlign="Middle" Width="84"></Static>
				<Static Align="Right" Border="None" Height="20" Id="Static8" Left="44" Style="sty_lb_Basic" TabOrder="14" Text="은행" Top="67" VAlign="Middle" Width="44"></Static>
				<Combo BindDataset="ds_detail" Border="Flat" CodeColumn="COMM_CD_VAL" Column="SLCM_DFRY_BANK_CD" DataColumn="COMM_CD_VAL_NM" Height="20" Id="cmb_bankCd3" ImeMode="none" INDEX="0" InnerDataset="ds_out_bank" Left="91" Style="sty_ipt_form" TabOrder="6" Top="66" Width="90"></Combo>
				<Static Align="Right" Border="None" Height="20" Id="Static16" Left="445" Style="sty_lb_Basic" TabOrder="15" Text="계좌" Top="68" VAlign="Middle" Width="36"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="SLCM_DFRY_ACC_NO" Height="20" Id="edt_acc3" Left="485" LeftMargin="2" MaxLength="18" Number="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="68" Width="185"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static18" Left="240" Style="sty_lb_Basic" TabOrder="16" Text="예금주" Top="68" VAlign="Middle" Width="44"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="SLCM_DFRY_DEPO" Height="20" Id="edt_depo3" ImeMode="native" Left="288" LeftMargin="2" MaxLength="10" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="68" Width="110"></Edit>
				<Static Border="Flat" Height="42" Id="Static20" Left="18" TabOrder="17" Text="출금계좌" Top="53" Type="Groupbox" Width="770"></Static>
			</Contents>
		</Div>
		<Image Align="Left" Height="25" Id="img_process4" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="7" Text="판매점&#32;정보" Top="282" Width="192"></Image>
		<Div Border="Raised" Height="110" Id="div_process2" Left="10" Style="sty_div_input" TabOrder="3" Text="Div1" Top="169" Width="810">
			<Contents>
				<Static Align="Right" Border="None" Height="20" Id="stl_dealStatus" Left="396" Style="sty_lb_Basic" TabOrder="21" Text="거래상태" Top="7" VAlign="Middle" Width="84"></Static>
				<Checkbox BindDataset="ds_detail" Column="NORMAL_YN" FalseValue="N" Height="23" Id="chk_default" Left="484" LeftMargin="5" OnClick="f_setDeallStatus" Style="sty_opt_input" TabOrder="10" Text="정상" Top="4" TrueValue="Y" Value="FALSE" Width="48"></Checkbox>
				<Image Height="21" Id="Image1" ImageID="bul_mand" Left="415" TabOrder="22" Top="7" Transparent="TRUE" Width="20"></Image>
				<Checkbox BindDataset="ds_detail" Column="OUT_STOP_YN" FalseValue="N" Height="23" Id="Checkbox2" Left="532" LeftMargin="5" OnClick="f_setDeallStatus" Style="sty_opt_input" TabOrder="11" Text="출고정지" Top="4" TrueValue="Y" Value="FALSE" Width="78"></Checkbox>
				<Checkbox BindDataset="ds_detail" Column="SALE_STOP_YN" FalseValue="N" Height="23" Id="Checkbox3" Left="608" LeftMargin="5" OnClick="f_setDeallStatus" Style="sty_opt_input" TabOrder="12" Text="판매정지" Top="4" TrueValue="Y" Value="FALSE" Width="73"></Checkbox>
				<Checkbox BindDataset="ds_detail" Column="DEAL_END_YN" FalseValue="N" Height="23" Id="Checkbox4" Left="681" LeftMargin="5" OnClick="f_setDeallStatus" Style="sty_opt_input" TabOrder="13" Text="종료" Top="4" TrueValue="Y" Value="FALSE" Width="108"></Checkbox>
				<Static Align="Right" Border="None" Height="20" Id="sta_bizNum" Left="-1" Style="sty_lb_Basic" TabOrder="23" Text="사업자번호" Top="30" VAlign="Middle" Width="84"></Static>
				<Static Align="Right" Border="None" Height="20" Id="Static1" Left="-1" Style="sty_lb_Basic" TabOrder="24" Text="대표자명" Top="77" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="REP_USER_NM" Height="20" Id="edt_repNm" ImeMode="native" Left="87" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="77" Width="105"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static2" Left="200" Style="sty_lb_Basic" TabOrder="25" Text="업태" Top="7" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="BIZ_CON" Height="20" Id="edt_chrGr" ImeMode="native" Left="288" LeftMargin="2" MaxLength="60" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="7" Width="110"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static12" Left="-1" Style="sty_lb_Basic" TabOrder="26" Text="과세구분" Top="53" VAlign="Middle" Width="84"></Static>
				<Combo BindDataset="ds_detail" Border="Flat" Column="TAX_STRD" Height="20" Id="cmb_taxStrd" INDEX="0" Left="86" ResetIndex="FIRST" Style="sty_ipt_form" TabOrder="4" Top="53" Width="107"></Combo>
				<Static Align="Right" Border="None" Height="20" Id="Static16" Left="200" Style="sty_lb_Basic" TabOrder="27" Text="종목" Top="30" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="TYP_OF_BIZ" Height="20" Id="Edit14" ImeMode="native" Left="288" LeftMargin="2" MaxLength="60" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="30" Width="110"></Edit>
				<MaskEdit BindDataset="ds_detail" Border="Flat" Column="BIZ_NUM" Height="20" Id="msk_bizNum" Left="87" Mask="###-##-#####" TabOrder="2" Top="30" Type="STRING" Width="105"></MaskEdit>
				<Calendar BindDataset="ds_detail" Border="Flat" ButtonImageID="btn_i_calendar" Column="DEAL_END_DT" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_dealEndDt" Left="288" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" OnChanged="div_process2_cal_dealEndDt_OnChanged" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="9" TodayColor="user26" Top="76" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="110"></Calendar>
				<Calendar BindDataset="ds_detail" Border="Flat" ButtonImageID="btn_i_calendar" Column="DEAL_STA_DT" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_dealStaDt" Left="288" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" OnChanged="div_process2_cal_dealStaDt_OnChanged" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="8" TodayColor="user26" Top="53" UserData="거래개시일" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="110"></Calendar>
				<Static Align="Right" Border="None" Height="20" Id="Static4" Left="396" Style="sty_lb_Basic" TabOrder="28" Text="전화번호" Top="30" VAlign="Middle" Width="84"></Static>
				<Static Align="Right" Border="None" Height="20" Id="Static5" Left="606" Style="sty_lb_Basic" TabOrder="29" Text="Fax" Top="30" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="TEL_NO" Height="20" Id="edt_telNo" Left="484" LeftMargin="2" MaxLength="14" OnChar="uf_allowNumMinusEvent" RightMargin="2" Style="sty_ipt_form" TabOrder="14" Top="30" UserData="전화번호" Width="100"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static10" Left="201" Style="sty_lb_Basic" TabOrder="30" Text="거래개시일" Top="53" VAlign="Middle" Width="84"></Static>
				<Image Height="21" Id="Image5" ImageID="bul_mand" Left="209" TabOrder="31" Top="53" Transparent="TRUE" Width="20"></Image>
				<Image Height="21" Id="Image7" ImageID="bul_mand" Left="420" TabOrder="32" Top="29" Transparent="TRUE" Width="20"></Image>
				<Edit BindDataset="ds_detail" Border="Flat" CheckLength="Byte" Column="FAX_NO" Height="20" Id="Edit4" Left="693" LeftMargin="2" MaxLength="14" OnChar="uf_allowNumMinusEvent" RightMargin="2" Style="sty_ipt_form" TabOrder="15" Top="30" Width="100"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static17" Left="201" Style="sty_lb_Basic" TabOrder="33" Text="거래종료일" Top="76" VAlign="Middle" Width="84"></Static>
				<Static Align="Right" Border="None" Height="20" Id="Static3" Left="420" Style="sty_lb_Basic" TabOrder="34" Text="주소" Top="53" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_detail" Border="Flat" Column="ZIP_CD1" Enable="FALSE" Height="20" Id="edt_zipCd1" Left="484" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="19" Top="53" Width="32"></Edit>
				<Edit BindDataset="ds_detail" Border="Flat" Column="ADDR" Enable="FALSE" Height="20" Id="edt_addr" Left="569" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="17" Top="53" Width="224"></Edit>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Height="21" Id="btn_zipCd" ImageID="btn_i_detail_b" Left="550" OnClick="callPopUp" TabOrder="16" Text="Button0" Top="53" Width="19"></Button>
				<Edit BindDataset="ds_detail" Border="Flat" Column="ZIP_CD2" Enable="FALSE" Height="20" Id="edt_zipCd2" Left="517" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="20" Top="53" Width="32"></Edit>
				<Edit BindDataset="ds_detail" Border="Flat" Column="DTL_ADDR" Height="20" Id="edt_dtlAddr" Left="484" LeftMargin="2" MaxLength="50" RightMargin="2" Style="sty_ipt_form" TabOrder="18" Top="76" Width="309"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static0" Left="-1" Style="sty_lb_Basic" TabOrder="35" Text="개인/사업자" Top="7" VAlign="Middle" Width="84"></Static>
				<Radio BindDataset="ds_detail" Border="None" CodeColumn="COMM_CD_VAL" Column="PER_BIZ_CL" ColumnCount="2" DataColumn="COMM_CD_VAL_NM" Height="20" Id="rdo_perBizCl" INDEX="0" InnerDataset="ds_perBizCl" Left="87" LeftMargin="5" OnClick="div_process2_rdo_perBizCl_OnClick" RightMargin="5" Style="sty_opt_search" TabOrder="1" Top="7" UserData="개인/사업자" Width="110">
					<Contents>
						<Layout code="Y" height="20" left="10" text="Y" top="0" width="30"/>
						<Layout code="N" height="20" left="60" text="N" top="0" width="30"/>
					</Contents>
				</Radio>
				<Static Align="Right" Border="None" Height="20" Id="sta_regNum" Left="-1" Style="sty_lb_Basic" TabOrder="36" Text="주민번호" Top="30" VAlign="Middle" Visible="FALSE" Width="84"></Static>
				<MaskEdit Border="Flat" Height="20" Id="msk_regNum" Left="87" Mask="######-#######" TabOrder="3" Top="30" Type="STRING" Value="******" Visible="FALSE" Width="105"></MaskEdit>
				<Image Height="21" Id="Image0" ImageID="bul_mand" Left="4" TabOrder="37" Top="7" Transparent="TRUE" Width="20"></Image>
				<Image Height="21" Id="Image2" ImageID="bul_mand" Left="8" TabOrder="38" Top="30" Transparent="TRUE" Width="20"></Image>
			</Contents>
		</Div>
		<Grid BindDataset="ds_custMaster" BkColor2="default" BoldHead="true" Bottom="720" Enable="true" EndLineColor="default" Height="64" Id="Grid0" InputPanel="FALSE" Left="8" LineColor="default" Right="721" TabOrder="8" TabStop="true" Top="656" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="FALSE" VLineColor="default" WheelScrollRow="1" Width="713">
			<contents>
				<format id="Default">
					<columns>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
						<col width="80"/>
					</columns>
					<head>
						<cell col="0" display="text"/>
						<cell col="1" display="text"/>
						<cell col="2" display="text"/>
						<cell col="3" display="text"/>
						<cell col="4" display="text"/>
						<cell col="5" display="text"/>
						<cell col="6" display="text"/>
						<cell col="7" display="text"/>
						<cell col="8" display="text"/>
						<cell col="9" display="text"/>
						<cell col="10" display="text"/>
						<cell col="11" display="text"/>
						<cell col="12" display="text"/>
						<cell col="13" display="text"/>
						<cell col="14" display="text"/>
						<cell col="15" display="text"/>
						<cell col="16" display="text"/>
						<cell col="17" display="text"/>
						<cell col="18" display="text"/>
						<cell col="19" display="text"/>
						<cell col="20" display="text"/>
						<cell col="21" display="text"/>
					</head>
					<body>
						<cell col="0" colid="ADDR" display="text"/>
						<cell col="1" colid="SLCM_DFRY_BANK_CD" display="text"/>
						<cell col="2" colid="BIZ_CON" display="text"/>
						<cell col="3" colid="BIZ_NUM" display="text"/>
						<cell col="4" colid="DEAL_CO_NM" display="text"/>
						<cell col="5" colid="DTL_ADDR" display="text"/>
						<cell col="6" colid="ORG_ID" display="text"/>
						<cell col="7" colid="POS_AGENCY" display="text"/>
						<cell col="8" colid="REG_NUM" display="text"/>
						<cell col="9" colid="REP_USER_NM" display="text"/>
						<cell col="10" colid="SLCM_DFRY_ACC_NO" display="text"/>
						<cell col="11" colid="SLCM_DFRY_DEPO" display="text"/>
						<cell col="12" colid="TEL_NO" display="text"/>
						<cell col="13" colid="TYP_OF_BIZ" display="text"/>
						<cell col="14" colid="UKEY_AGENCY_CD" display="text"/>
						<cell col="15" colid="UKEY_CHANNEL_CD" display="text"/>
						<cell col="16" colid="UKEY_SUB_CD" display="text"/>
						<cell col="17" colid="ZIP_CD1" display="text"/>
						<cell col="18" display="text" expr="ds_custMaster.GetRowType(0)"/>
						<cell col="19" colid="ZIP_CD2" display="text"/>
						<cell col="20" colid="DEAL_END_YN" display="text"/>
						<cell col="21" colid="REG_CL" display="text"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Div Border="Raised" Height="35" Id="div_process5" Left="10" Style="sty_div_input" TabOrder="9" Text="Div1" Top="425" Width="806">
			<Contents>
				<Static Align="Right" BorderColor="user34" Color="user26" Height="20" Id="Static3" Left="2" Style="sty_lb_Basic" TabOrder="4" Text="적용일시" Top="5" VAlign="Middle" Width="68"></Static>
				<Calendar BindDataset="ds_monthCls" Border="Flat" ButtonImageID="btn_i_calendar" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_aplyDt" Left="74" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="1" TodayColor="user26" Top="5" UserData="적용일" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="113"></Calendar>
				<Edit Align="CENTER" Border="Flat" Font="굴림,-1" Height="20" Id="edt_min" ImeMode="none" Left="216" MaxLength="2" Number="TRUE" OnChanged="div_process5_edt_min_OnChanged" Style="sty_ipt_search" TabOrder="3" Top="5" UserData="적용&#32;분" Width="27"></Edit>
				<Edit Align="CENTER" Border="Flat" Font="굴림,-1" Height="20" Id="edt_hour" ImeMode="none" Left="188" MaxLength="2" Number="TRUE" OnChanged="div_process5_edt_hour_OnChanged" Style="sty_ipt_search" TabOrder="2" Top="5" UserData="적용&#32;시" Width="27"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static9" Left="275" Style="sty_lb_Basic" TabOrder="5" Text="최종변경일시" Top="5" VAlign="Middle" Width="84"></Static>
				<MaskEdit BindDataset="ds_detail" Border="Flat" Column="eff_sta_dtm" Enable="FALSE" Height="20" Id="msk_effStaDtm" Left="366" LeftMargin="3" Mask="####-##-##&#32;##:##:##" TabOrder="6" Top="5" Type="STRING" Width="118"></MaskEdit>
				<Image Height="21" Id="Image2" ImageID="bul_mand" Left="7" TabOrder="7" Top="5" Transparent="TRUE" Width="20"></Image>
			</Contents>
		</Div>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* 프로그램ID : BASPRM00100
* 업무명      : 기준정보 - 거래처 관리 
* 프로그램명  : 거래처 등록
--------------------------------------------------------------------------------
* 작성자      : 최승호
* 작성일      : 2009.02.19
--------------------------------------------------------------------------------
* 1. 변경이력
수정자    : 최승호
수정일    : 2009.03.02
수정 내역 : UI , 거래상태 및  거래처 구분과 거래처 유형에 따른 조건

* 2. 변경이력
수정자    : 최승호
수정일    : 2009.04.09
수정 내역 : 사업자 번호 비필수 , U Key 코드 정보 모두 활성화 , 거래처 코드 SBAS_DEAL_CO_MGMT_SEQ 사용
*******************************************************************************/

//==============================================================================
// 공통 스크립트 로딩
//==============================================================================
#include "lib::lib_commF.js"
#include "lib::lib_commPopup.js"
#include "lib::lib_util.js"

//==============================================================================
// 폼 변수 정의
//==============================================================================
var FV_INT_CHANGE_DEAL_STATUS = 0; 	// 거래상태 전역 변수  - 미선택  = 0,  선택 = 1 
var FV_STR_POS_AGENCY = ""; 		// 소속 대리점 전역 변수 
var FV_USERGRP;						// 사용자그룹

/*******************************************************************************
 * @description    : 최초 폼 로드시 발생 - 이벤트
*******************************************************************************/
function form_OnLoadCompleted(obj)
{	
	// 권한 설정
	cf_setAuth(pFrmNum);
	lf_getSession();

	http.Sync = true;
	
	// 공통 코드 설정
	cf_setCommonCodeDsEnv();
	cf_setCommonCode("div_process1.cmb_dealCoCl1", "ZBAS_C_00240", "선택", null, false); // 거래처 구분
	cf_setCommonCode("ds_dealCoCl2", "ZBAS_C_00110", "선택", null, false); // 거래처 유형
	cf_setCommonCode("div_process2.cmb_taxStrd", "ZBAS_C_00230", "선택", null, false); // 과세 구분
	cf_setCommonCode("ds_out_bank", "ZBAS_C_00420", "선택", null, false); // 은행
	cf_setCommonCode("ds_perBizCl", "ZBAS_C_00400", null, null, false); // 사업자구분
	
	
	cf_checkCommonCode();

	// 신규 , 상세 구분
	if(IsExistVar("deal_co_cd", true))
	{
		pIsNew = 0;
		// 조회 조건 설정
		cf_setParam(ds_condition, "deal_co_cd", deal_co_cd);
		cf_setParam(ds_condition, "hseq_no", hseq_no, 1);		
		f_search();	
		
	}	
	else
	{
		// 신규.
		f_setScreen();
		ds_custMaster.ClearData();
		ds_custMaster.AddRow();		
	}
	
	http.Sync = false;
}

/*******************************************************************************
 * @description    : 글로벌 섹션 정보
*******************************************************************************/
function lf_getSession()
{
	FV_USERGRP   = gds_session.GetColumn(0, "usergrp");
}

/*******************************************************************************
 * @description    : 개인/사업자 구분 선택에 따라 사업자번호, 주민번호 셋팅.
*******************************************************************************/
function f_setNumByPerBizCl(){	

	if(div_process2.rdo_perBizCl.Value == "2"){
		// 사업자 
		div_process2.msk_bizNum.Visible = true;
		div_process2.sta_bizNum.Visible = true;
		
		div_process2.msk_regNum.Visible = false;
		div_process2.sta_regNum.Visible = false;
		div_process2.msk_bizNum.SetFocus();
		//div_process2.msk_regNum.Value = "";
		
		f_setCompoentStatus("div_process2", "edt_chrGr", true, "업태");
		f_setCompoentStatus("div_process2", "Edit14", true, "종목");	
		f_setCompoentStatus("div_process2", "cmb_taxStrd", true, "과세구분");
		f_setCompoentStatus("div_process2", "edt_repNm", true, "대표자명");				
			
	}else{
		// 개인
		div_process2.msk_bizNum.Visible = false;
		div_process2.sta_bizNum.Visible = false;
		//div_process2.msk_bizNum.Value = "";
		
		div_process2.msk_regNum.Visible = true;
		div_process2.sta_regNum.Visible = true;
		div_process2.msk_regNum.SetFocus();		
				
		f_setCompoentStatus("div_process2", "edt_chrGr", true, "");
		f_setCompoentStatus("div_process2", "Edit14", true, "");	
		f_setCompoentStatus("div_process2", "cmb_taxStrd", true, "");
		f_setCompoentStatus("div_process2", "edt_repNm", true, "");					
	}
}

/*******************************************************************************
 * @description    : 화면 설정
*******************************************************************************/
function f_setScreen()
{
	if(pIsNew == 0)
	{	// div_process2.msk_bizNum.Enable = false;
		// div_process2.msk_regNum.Enable = false;
		// div_process2.rdo_perBizCl.Enable = false;
		FV_INT_CHANGE_DEAL_STATUS = 1;
		f_setVisible(div_process1.cmb_dealCoCl1.value);
		f_setValidaion(div_process1.cmb_dealCoCl1.value, div_process1.cmb_dealCoCl2.value);
		div_process1.cmb_dealCoCl1.Enable = false;
		
		// 거래종료일 설정. 거래종료여부 Y
		if(ds_detail.GetColumn(0,"DEAL_END_YN") == "Y"){
			div_process2.cal_dealEndDt.Enable = true;
			

		}else{
			div_process2.cal_dealEndDt.Enable = false;
		}			

		div_process5.cal_aplyDt.Enable = true;
		div_process5.edt_hour.Enable = true;
		div_process5.edt_min.Enable = true;
		div_process2.Checkbox4.Enable = true;
						
			
		// 2009년 7월 24일 요청.
		f_setNonEditable();
	}
	else
	{   
	    f_setVisible(div_process1.cmb_dealCoCl1.value);
		ds_detail.ClearData();
		ds_detail.AddRow();
		// div_process2.msk_bizNum.Enable = true;
		// div_process2.msk_regNum.Enable = true;
		// div_process2.rdo_perBizCl.Enable = true;
		div_process1.cmb_dealCoCl1.Enable = true;
		div_process1.cmb_dealCoCl1.Index = 0;
		ds_detail.SetColumn(0, "NORMAL_YN", "Y");
		ds_detail.SetColumn(0, "DEAL_END_YN", "N");
		f_setValidaion(div_process1.cmb_dealCoCl1.value);
		f_setDeallStatus(div_process2.chk_default, "Y");
		div_process2.rdo_perBizCl.Value = "2";	
		
		//div_process2.cal_dealEndDt.Enable = true;
		
		div_process2.rdo_perBizCl.Enable = true;
		div_process2.msk_bizNum.Enable = true;
		div_process2.msk_regNum.Enable = true;
		div_process2.cmb_taxStrd.Enable = true;
		div_process2.cal_dealStaDt.Enable = true;
		
		div_process5.cal_aplyDt.Enable = false;
		div_process5.edt_hour.Enable = false;
		div_process5.edt_min.Enable = false;	
			
		div_process2.cal_dealEndDt.Enable = false;
		div_process2.Checkbox4.Enable = false;			
	}
	
	f_setPerBizCl();
	f_setNumByPerBizCl();	
	
	f_setComboIndex(this);
	// 원본 생성
	cf_setOrgDs(ds_detail);
}

/*******************************************************************************
 * @description    : 콤보 박스의 인데스를 재설정
*******************************************************************************/
function f_setComboIndex(oComponent)
{
	var oFullObj = oComponent.Components;
	var sObjType;
	
	for(var i=0, n=oFullObj.GetCount; i<n; i++)
	{	
		sObjType = oFullObj[i].getType();
	
		if(sObjType == "Combo")
		{
			if(oFullObj[i].index == -1)
			{
				oFullObj[i].index = 0;
			}
		}
		
		if (oFullObj[i].IsComposite())
		{
			f_setComboIndex(oFullObj[i]);
		} 
	}
}

/*******************************************************************************
 * @description    : 화면 재설정 공통 함수
*******************************************************************************/
function df_reSet(sArg)
{
	div_process5.cal_aplyDt.Value = "";
	div_process5.edt_hour.Value = "";
	div_process5.edt_min.Value = "";
	
	if(cf_isNewService(sArg)) // 신규
	{
		pIsNew = 1;
		f_setScreen();
	}
	else // 기존
	{	
		pIsNew = 0;
		cf_setArg("ds_condition", sArg);

		http.Sync = true;
		f_search();
		
		http.Sync = false;
	}
}

/*******************************************************************************
 * @description    : 상세 조회
*******************************************************************************/
function f_search()
{
	// 트랜잭션 설정
	var sSvcID = "svcDetail";
	var sInDs = "nc_input_fieldDs=ds_condition";
	var sOutDs = "ds_detail=output ds_custMaster=ds_custMaster";
	var sArg = "sktst.bas.PRM#getDealCoByCd";

	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description    : 콜백
 * @param sSvcID   : 서비스 아이디
*******************************************************************************/
function f_callBack(sSvcID)
{	
	if(sSvcID == "svcDetail")
	{	
		f_setScreen();
	}
	
	if(sSvcID == "svcUser")
	{
		FV_STR_POS_AGENCY = div_process1.edt_agency.Text;
		
		ds_user.InsertRow(0);
		ds_user.SetColumn(0, "user_id", "");
		ds_user.SetColumn(0, "user_nm", "선택");
			
		//f_setCompoentStatus("div_process1","cmb_chrgrUser", true, "");
	}
	
	
	if(sSvcID == "svcSave")
	{	
		var sFrmNum = "100000015";
		var sFunc = "f_search";
		gf_movenCall(sFrmNum, sFunc);
		this.Close();
	}
	
	if(sSvcID == "svcCheck")
	{
		var sSlcmDfryMsg = ds_slcm_dfry_msg.GetColumn(0, "SLCM_DFRY_MSG");
	
		if( !uf_IsNull(sSlcmDfryMsg) && sSlcmDfryMsg != "N"){
			
			if(!confirm(sSlcmDfryMsg+' 계속 하시겠습니까? ' )){
				return;
			}
		}
			
		if(pIsNew == 1)
		{
			var sDealCoCd = ds_check.GetColumn(0, "DEAL_CO_CD");
			ds_detail.SetColumn(0, "DEAL_CO_CD", sDealCoCd);
			if(div_process1.cmb_dealCoCl1.value = "A1")
			{
				ds_detail.SetColumn(0, "POS_AGENCY", sDealCoCd);
			}
			
			if(div_process1.cmb_dealCoCl2.value == 2)
			{
				ds_detail.SetColumn(0, "DIS_HLD_PLC", sDealCoCd);
				ds_detail.SetColumn(0, "STL_PLC", sDealCoCd);
			}
			
		}else{
		
			if(div_process1.cmb_dealCoCl2.value == 2)
			{
				
				ds_detail.SetColumn(0, "DIS_HLD_PLC", ds_detail.GetColumn(0, "DEAL_CO_CD"));
				ds_detail.SetColumn(0, "STL_PLC", ds_detail.GetColumn(0, "DEAL_CO_CD"));
			}			
		}
		
		f_save();
	}
}

/*******************************************************************************
 * @description    : 거래처 구분 변경시- 이벤트
*******************************************************************************/
function div_process1_cmb_dealCoCl1_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	if (div_process1.cmb_dealCoCl1.Value == 'A1' && FV_USERGRP != 'P12') {
		alert("대리점 등록권한이 없습니다.");
		div_process1.cmb_dealCoCl1.Value = "";
		return;
	}
	f_setVisible(strCode);
	f_setValidaion(strCode); 
}

/*******************************************************************************
 * @description    : 개인/사업자 구분 변경시- 이벤트
*******************************************************************************/
function div_process2_rdo_perBizCl_OnClick(obj)
{
	f_setNumByPerBizCl();		
}

/*******************************************************************************
 * @description    : 컴포넌트 활성화 세팅
*******************************************************************************/
function f_setComponentAtivation(oDiv, bStatus, sType)
{
    for(var i=0 ; i < oDiv.Components.count() ; i++)
    {
		if(oDiv.Components[i].getType() == "Static" || oDiv.Components[i].getType() == "Shape")
		{
			continue;
		}
		
		if(sType != null)
		{
			if(oDiv.Components[i].getType() == sType)
			{
				oDiv.Components[i].Enable = bStatus;
				if(!bStatus)
				{
					oDiv.Components[i].userData = "";
				}
			}
        }
        else
        {
			oDiv.Components[i].Enable = bStatus;
			if(!bStatus)
			{
				oDiv.Components[i].userData = "";
			}
        }
    }
}

/*******************************************************************************
 * @description        : 거래처 구분에 따른 소속 조직 및 상위거래처, 정산처, UKey 코드  입력 제어
*  @param sDealCoCl1   : 거래처 구분 코드 
		  sDealCoCl2   : 거채처 유형 코드 
		  nOldIndex	   : 이전 인덱스 값 
*******************************************************************************/
function f_setValidaion(sDealCoCl1, sDealCoCl2, nOldIndex)
{
	// 거래처 구분 변경시 
	if(sDealCoCl1 != null)
	{
		var sCheckTarget1 = "A1,A2,A3,B1,B2,Z1,A4,A5,C1";  // 0, 3, 6, 9, 12, 15, 18, 21, 24
		
		// 소속 조직 , 소속 대리점, 정산처 제어, 영업 사원, 영업 그룹 제어
		if(sCheckTarget1.indexOf(sDealCoCl1) >= 0)
		{
			f_setCompoentStatus("div_process1","edt_orgId,edt_orgNm,btn_orgId", true, "소속조직,소속조직명");
			if(sCheckTarget1.indexOf(sDealCoCl1) > 2 && sDealCoCl1 != "Z1" && sDealCoCl1 != "A5")
			{
				//if(pIsNew == 0)
				//{
				f_setCompoentStatus("div_process1", "cmb_dealCoCl2", true, "거래처유형");
				ds_dealCoCl2.Filter("COMM_CD_VAL!='4'&&COMM_CD_VAL!='5'");
				
				//}
				
				// 기존 데이타 존재시 발생
				if(trim(div_process1.edt_orgId.text).length > 0)
				{
					f_setCompoentStatus("div_process1","edt_agency,edt_agencyNm,btn_agency", true, "소속대리점,소속대리점명");
					
					if(trim(div_process1.edt_agency.text).length > 0)
					{
						f_getUserInfo();
					}
				}
				
				//f_setCompoentStatus("div_process1", "cmb_saleGrp", true, "영업그룹");
				//f_setCompoentStatus("div_process1", "cmb_saleGrp", true, "");
				
			}
			else
			{
			
			    if(sDealCoCl1 == "Z1" || sDealCoCl1 == "A5"){			
					f_setCompoentStatus("div_process4", "edt_pracChrgr1", true, "");
					f_setCompoentStatus("div_process4", "edt_pracMblPhon1", true, "");
				}
								
			    if(sDealCoCl1 == "Z1"){
			    
					f_setCompoentStatus("div_process1", "cmb_dealCoCl2", true, "거래처유형");	
				    ds_dealCoCl2.Filter("COMM_CD_VAL!='2'&&COMM_CD_VAL!='3'");
					div_process1.cmb_dealCoCl2.Index = 0;				
						    
			    }else{
				
					f_setCompoentStatus("div_process1", "cmb_dealCoCl2", false);
					div_process1.cmb_dealCoCl2.Index = 0;
					
					// 기존 데이타 존재시 발생
					if(trim(div_process1.edt_orgId.text).length > 0)
					{
						f_setCompoentStatus("div_process1","edt_agency,edt_agencyNm,btn_agency", true, "소속대리점,소속대리점명");
						
						if(trim(div_process1.edt_agency.text).length > 0)
						{
							f_getUserInfo();
						}
					}					
				}
				
			}
		}else if(sDealCoCl1 == 'S1'){
			f_setCompoentStatus("div_process1","edt_orgId,edt_orgNm,btn_orgId", true, "소속조직,소속조직명");
		}
		else
		{
			//f_setCompoentStatus("div_process1", "cmb_chrgrUser", false);
			//f_setCompoentStatus("div_process1", "cmb_saleGrp", false);
			
			// 온라인 거래처가 아닌 경우.
			if(sDealCoCl1 != "50"){
				f_setCompoentStatus("div_process1", "edt_orgId,edt_orgNm,btn_orgId", false);
				f_setCompoentStatus("div_process1", "edt_agency,edt_agencyNm,btn_agency", false );			
			}
						

			f_setCompoentStatus("div_process1", "edt_stlPlc,edt_stlPlcNm,btn_stlPlc", false );
			f_setCompoentStatus("div_process1", "edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", false );
			f_setCompoentStatus("div_process1", "cmb_dealCoCl2", false);
			div_process1.cmb_dealCoCl2.Index = 0;
		}
		
		// 거래처구분이 제조사인 경우
		if(sDealCoCl1 == "20")
		{
			//f_setCompoentStatus("div_process1", "edt_sortSeq", true);
			//f_setCompoentStatus("div_process1", "edt_bizCd", true);
		}
		else
		{
			//f_setCompoentStatus("div_process1", "edt_sortSeq", false);
			//f_setCompoentStatus("div_process1", "edt_bizCd", false);
		}
					
		// 추가 정보 영역
		if(sDealCoCl1 == "70")
		{
			f_setCompoentStatus("div_process2", "edt_telNo", true, "");
		}
		else
		{
			f_setCompoentStatus("div_process2", "edt_telNo", true, "전화번호");
		}
		
		
		// 판매자 정보 영역 
		if(sCheckTarget1.indexOf(sDealCoCl1) > 2 && sDealCoCl1 != "Z1" && sDealCoCl1 != "A5")
		{
			if(sCheckTarget1.indexOf(sDealCoCl1) == 3 || sCheckTarget1.indexOf(sDealCoCl1) == 6 
				|| sCheckTarget1.indexOf(sDealCoCl1) == 12 
				|| sCheckTarget1.indexOf(sDealCoCl1) == 18 || sCheckTarget1.indexOf(sDealCoCl1) == 21 )
			{
				f_setComponentAtivation(div_process4, true);
				f_setCompoentStatus("div_process4", "edt_repMblPhon", true, "");
				f_setCompoentStatus("div_process4", "edt_pracChrgr1", true, "");
				f_setCompoentStatus("div_process4", "edt_pracMblPhon1", true, "");

			}
		
		}
		

		// 정책운영사 
		if(sDealCoCl1 == "10" || sDealCoCl1 == "20" || sDealCoCl1 == "30" ){
			
			div_process1.cmb_polOperYn.Enable = true;
		}else{
			div_process1.cmb_polOperYn.value = 'N';
			div_process1.cmb_polOperYn.Enable = false;
		}
		
		//
		if(sDealCoCl1 == "50"){
			f_setCompoentStatus("div_process1","edt_orgId,edt_orgNm,btn_orgId", true, "소속조직,소속조직명");
			// 기존 데이타 존재시 발생
			if(trim(div_process1.edt_orgId.text).length > 0)
			{
				f_setCompoentStatus("div_process1","edt_agency,edt_agencyNm,btn_agency", true, "소속대리점,소속대리점명");
				
				if(trim(div_process1.edt_agency.text).length > 0)
				{
					f_getUserInfo();
				}
			}					
		}		

		if(sDealCoCl1 == "A1"){
			f_setCompoentStatus("div_process1","edt_agency,edt_agencyNm,btn_agency", false);					
		}

	}
	
	// 거래처 구분에서 이벤트 발생시 거래처 유형값을 넘겨 받지 않으므로 다시 셋팅.
	if(sDealCoCl2 == null && !uf_IsNull(div_process1.cmb_dealcocl2.value)){
		sDealCoCl2 = div_process1.cmb_dealcocl2.value;
	}

	// 거래처 유형 변경시
	if(sDealCoCl2 != null )
	{
		if(sDealCoCl2 == "3")
		{
			if(div_process1.edt_agency.text.length > 0)
			{				
				f_setCompoentStatus("div_process1","edt_stlPlc,edt_stlPlcNm,btn_stlPlc", true, "정산처,정산처명");
				f_setCompoentStatus("div_process1","edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", true, "재고보유처,재고보유처명" );
			}
			
		}
		else if(sDealCoCl2 == "2")
		{
			if(div_process1.edt_agency.text.length > 0)
			{
				// 온라인 직영점, 온라인 판매점인 경우 활성화			
				var sDealCoCl1 = ds_detail.GetColumn(0, "deal_co_cl1");

				if(sDealCoCl1 == "B1" || sDealCoCl1 == "B2" ){		
				
					f_setCompoentStatus("div_process1","edt_stlPlc,edt_stlPlcNm,btn_stlPlc", true, null);
					f_setCompoentStatus("div_process1","edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", true, null );
				
				}else{

					if(pIsNew == 0)
					{					
						if(ds_detail.GetRowType(0) == "normal"){
							// 최초 화면 로딩시.													
							f_setCompoentStatus("div_process1","edt_stlPlc,edt_stlPlcNm,btn_stlPlc", false, null, false);
							f_setCompoentStatus("div_process1","edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", false, null, false);																				
						}else{
							f_setCompoentStatus("div_process1","edt_stlPlc,edt_stlPlcNm,btn_stlPlc", false);
							f_setCompoentStatus("div_process1","edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", false);							
						}						
					}
					else
					{						
						f_setCompoentStatus("div_process1","edt_stlPlc,edt_stlPlcNm,btn_stlPlc", false);
						f_setCompoentStatus("div_process1","edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", false);
					}				
				}
			}
			
		}		
		else
		{		
			if(pIsNew == 0)
			{
				f_setCompoentStatus("div_process1","edt_stlPlc,edt_stlPlcNm,btn_stlPlc", false, null, false);
				f_setCompoentStatus("div_process1","edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", false, null, false);
			}
			else
			{
				f_setCompoentStatus("div_process1","edt_stlPlc,edt_stlPlcNm,btn_stlPlc", false);
				f_setCompoentStatus("div_process1","edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", false);
			}

		}
		
		if(sDealCoCl2 != "3"){
			// 2차점인 경우만 				
			f_setCompoentStatus("div_process4", "cmb_bankCd3", true, "출금계좌 은행");
			f_setCompoentStatus("div_process4", "edt_depo3", true, "출금계좌 예금주");
			f_setCompoentStatus("div_process4", "edt_acc3", true, "출금계좌 계좌");		
			
		}else{
			f_setCompoentStatus("div_process4", "cmb_bankCd3", true, null);
			f_setCompoentStatus("div_process4", "edt_depo3", true, null);
			f_setCompoentStatus("div_process4", "edt_acc3", true, null);				
		}		
	}	
	
	if(sDealCoCl1 != null){
		
		// 온라인거래처(50), 직영점(A2), 판매점(A3), 온라인직영점(B1), 온라인판매점(B2), M채널(C1) 인 경우 출금계좌 필수.
		if(sDealCoCl1 == "50" || sDealCoCl1 == "A2" || sDealCoCl1 == "A3" || sDealCoCl1 == "B1" || sDealCoCl1 == "B2"
			|| sDealCoCl1 == "C1" ){	
			
			if(sDealCoCl2 != "3"){
				// 2차점인 경우만 				
				f_setCompoentStatus("div_process4", "cmb_bankCd3", true, "출금계좌 은행");
				f_setCompoentStatus("div_process4", "edt_depo3", true, "출금계좌 예금주");
				f_setCompoentStatus("div_process4", "edt_acc3", true, "출금계좌 계좌");		
				
			}else{
				f_setCompoentStatus("div_process4", "cmb_bankCd3", true, null);
				f_setCompoentStatus("div_process4", "edt_depo3", true, null);
				f_setCompoentStatus("div_process4", "edt_acc3", true, null);				
			}
			
		}else{
			f_setCompoentStatus("div_process4", "cmb_bankCd3", true, null);
			f_setCompoentStatus("div_process4", "edt_depo3", true, null);
			f_setCompoentStatus("div_process4", "edt_acc3", true, null);	
		}
		
		// 물류창고(Z1), 영업사원/SM(A5) 를 제외한 나머지는 주소, 업태, 종목, 과세구분, 대표자명 필수.
		if(sDealCoCl1 != "Z1" && sDealCoCl1 != "A5" ){			
			if(uf_IsNull(div_process2.edt_addr) || div_process2.edt_addr.value == "" ){
				div_process2.edt_addr.UserData = "주소";
			}
			
			f_setCompoentStatus("div_process2", "edt_dtlAddr", true, "상세주소");	
			
			// 사업자 경우만 해당.
			if(div_process2.rdo_perBizCl.Value == "2"){
			
				f_setCompoentStatus("div_process2", "edt_chrGr", true, "업태");
				f_setCompoentStatus("div_process2", "Edit14", true, "종목");
				f_setCompoentStatus("div_process2", "cmb_taxStrd", true, "과세구분");
				f_setCompoentStatus("div_process2", "edt_repNm", true, "대표자명");
					
				
			}else{
			
				f_setCompoentStatus("div_process2", "edt_chrGr", true, "");
				f_setCompoentStatus("div_process2", "Edit14", true, "");
				f_setCompoentStatus("div_process2", "cmb_taxStrd", true, "");
				f_setCompoentStatus("div_process2", "edt_repNm", true, "");							
			}
			
		}else{

			f_setCompoentStatus("div_process2", "edt_dtlAddr", true, "");
			f_setCompoentStatus("div_process2", "edt_chrGr", true, "");
			f_setCompoentStatus("div_process2", "Edit14", true, "");
			f_setCompoentStatus("div_process2", "cmb_taxStrd", true, "");
			f_setCompoentStatus("div_process2", "edt_repNm", true, "");									
		}
	}
}

function f_setVisible(sCode)
{
	//var sTarget = "10,20,30,40,50,60,70,Z1,A5";
	
	var sTarget = "S1";
	
	if(uf_IsNull(sCode)){
	
		f_setComponentAtivation(div_process4, false);		
			
	}else{

		if(sCode != "" && sTarget.indexOf(sCode) == -1)
		{
			//img_process3.Visible = true;
			//div_process3.Visible = true;
			//btn_save.Top = 560;
			//img_process4.Visible = true;
			//div_process4.Visible = true;		
			
			div_process2.Image0.Visible = true;
			div_process2.Image2.Visible = true;
			div_process2.Image5.Visible = true;
		}
		else
		{
			//f_setComponentAtivation(div_process4, false);	
			div_process2.Image0.Visible = false;
			div_process2.Image2.Visible = false;
			div_process2.Image5.Visible = false;
			
			//btn_save.Top = 290;
			//img_process3.Visible = false;
			//div_process3.Visible = false;
			//img_process4.Visible = false;
			//div_process4.Visible = false;
			
		}
	}
	
	f_setPerBizCl();
	f_setNumByPerBizCl();
	
}

/*******************************************************************************
 * @description    : 컴포넌트 필수 여부 설정
*******************************************************************************/
function f_setCompoentStatus(sDivId, sCompIds, bSetValue, sUserData, bInit)
{
	var arrComp = sCompIds.split(",","webstyle");
	var arrUserData = sUserData.split(",","webstyle");
	var oComponent;
	if(bInit == null)
	{
		bInit = true;
	}
	for(var i=0,n=arrComp.length; i<n; i++)
	{
		oComponent = object(sDivId+"."+arrComp[i]);
		
		if(bSetValue)
		{
			if(arrUserData.length > i)
			{
				oComponent.UserData = arrUserData[i];
			}else{
				oComponent.UserData = "";
			}
		}
		else
		{
			oComponent.UserData = "";
			if(bInit)
			{
				oComponent.text = "";
			}
		}
		oComponent.Enable = bSetValue;
	}
}



/*******************************************************************************
 * @description    : 거래처 유형 변경시- 이벤트
*******************************************************************************/
function div_process1_cmb_dealCoCl2_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	// M채널인 경우 3차점 선택할 수 없음
/*	if(div_process1.cmb_dealCoCl1.value == 'C1'){
		if(div_process1.cmb_dealCoCl2.value == '3'){
			alert("M채널은 3차점을 선택할 수 없습니다.");
			return;
		}
	}
*/
	// 3차점 인 경우 정산처, 재고보유처 초기화.
	if(div_process1.cmb_dealCoCl2.value == '3'){
		div_process1.edt_stlPlc.value = "";
		div_process1.edt_stlPlcNm.value = "";
		div_process1.edt_disHldPlc.value = "";
		div_process1.edt_disHldPlcNm.value = "";
	}

	f_setValidaion(null, strCode);
}

/*******************************************************************************
 * @description    : 거래 상태 설정
*******************************************************************************/
function f_setDeallStatus(obj, strValue)
{
	var sObjColumn = obj.Column;
	var sNormalYn = "";
	var sPayStopYn = "";
	var sOutStopYn = "";
	var sSaleStopYn = "";
	var sDealEndYn = "";
	
	switch(sObjColumn)
	{
		case "NORMAL_YN" : 
		  sNormalYn =  strValue;
		  break;
		case "PAY_STOP_YN" : 
		  sPayStopYn =  strValue;
		  break;
		case "OUT_STOP_YN" : 
		  sOutStopYn =  strValue;
		  break;
		case "SALE_STOP_YN" : 
		  sSaleStopYn =  strValue;
		  break;
		case "DEAL_END_YN" : 
		  sDealEndYn =  strValue;
		  break;
		default:
		  sNormalYn =  strValue; 
	} 

	if(sNormalYn == "Y" || sDealEndYn == "Y")
	{
		if(sNormalYn == "Y")
		{
			ds_detail.SetColumn(0, "DEAL_END_YN", "N");
			div_process2.cal_dealEndDt.Value = "";
			div_process5.cal_aplyDt.value = "";
			div_process5.edt_hour.value = "";
			div_process5.edt_min.value = "";
		}
		else
		{
			ds_detail.SetColumn(0, "NORMAL_YN", "N");
		}
		ds_detail.SetColumn(0, "PAY_STOP_YN", "N");
		ds_detail.SetColumn(0, "OUT_STOP_YN", "N");
		ds_detail.SetColumn(0, "SALE_STOP_YN", "N");
		FV_INT_CHANGE_DEAL_STATUS = 1;
	}
	else if(sPayStopYn == "Y" || sOutStopYn == "Y" || sSaleStopYn == "Y")
	{
		ds_detail.SetColumn(0, "NORMAL_YN", "N");
		ds_detail.SetColumn(0, "DEAL_END_YN", "N");
		FV_INT_CHANGE_DEAL_STATUS = 1;
		div_process2.cal_dealEndDt.Value = "";
		div_process5.cal_aplyDt.value = "";
		div_process5.edt_hour.value = "";
		div_process5.edt_min.value = "";		
	}

	 sNormalYn = ds_detail.getColumn(0, "NORMAL_YN");
	 sPayStopYn = ds_detail.getColumn(0, "PAY_STOP_YN");
	 sOutStopYn = ds_detail.getColumn(0, "OUT_STOP_YN");
	 sSaleStopYn = ds_detail.getColumn(0, "SALE_STOP_YN");
	 sDealEndYn = ds_detail.getColumn(0, "DEAL_END_YN");
	 var sResult = sNormalYn+sDealEndYn+sPayStopYn+sOutStopYn+sSaleStopYn;

	if(sResult.indexOf("Y") == -1)
	{
		FV_INT_CHANGE_DEAL_STATUS = 0;
	}
	
	if(sDealEndYn == "Y")
	{
		f_setCompoentStatus("div_process2","cal_dealEndDt", true, "거래종료일");
		div_process5.cal_aplyDt.Enable = false;
		div_process5.edt_hour.Enable = false;
		div_process5.edt_min.Enable = false;		
	}
	else
	{
		f_setCompoentStatus("div_process2","cal_dealEndDt", false, "");
		
		if(pIsNew == 0){
			
			div_process5.cal_aplyDt.Enable = true;
			div_process5.edt_hour.Enable = true;
			div_process5.edt_min.Enable = true;		
		}else{
		
			div_process5.cal_aplyDt.Enable = false;
			div_process5.edt_hour.Enable = false;
			div_process5.edt_min.Enable = false;				
		}
	}
}

/*******************************************************************************
 * @description    : 저장 유효 체크
*******************************************************************************/
function f_checkValidation()
{

	// 마감월 체크
	//cf_CheckCloseDay('01',div_process5.cal_aplyDt.value,"적용일시");
	/*
	if(FV_BOOLEAN_CLOSE) {
		div_process5.cal_aplyDt.SetFocus();
		return false; // 입력한 일자가 마감 되었을 경우 '1'(true) 리턴.        
	}
	*/
	
	var sValue = ds_detail.GetColumn(0, "DEAL_CO_CL1");

	var bResult = cf_checkObjValues(div_process1, true);	

	if(bResult)
	{
	
		if(div_process1.cmb_dealCoCl1.value != "S1"){
			bResult = cf_checkObjValues(div_process2, true);
		}else{
			bResult = true;
		}
		if(bResult)
		{
			var sPerBizCl = div_process2.rdo_perBizCl.value;
			
			// 물류창고 제외.
			if(div_process1.cmb_dealCoCl1.value != "Z1" && div_process1.cmb_dealCoCl1.value != "A5" && div_process1.cmb_dealCoCl1.value != "S1"){

				if(sPerBizCl == "1")
				{
					//개인 
					if(uf_IsNull(div_process2.msk_regNum.value)){
						
						bResult = false;
					}				
					
					if(!bResult)
					{
						alert(cf_getMessage(MSG_00083, "주민등록번호"));
						div_process2.msk_regNum.SetFocus();
					}
					
					if(bResult)
					{
						var sRegNum = div_process2.msk_regNum.value;
						if(sRegNum.length > 0)
						{
							bResult = uf_isRegNo(sRegNum);
							if(!bResult)
							{
								alert(MSG_01013); //올바르지 않은 주민등록번호 입니다";						
								div_process2.msk_regNum.SetFocus();
							}
						}
					}
									
				}else if(sPerBizCl == "2")
				{
	
					//사업자
					if(uf_IsNull(div_process2.msk_bizNum.value)){
						
						bResult = false;
					}				
					
					if(!bResult)
					{
						alert(cf_getMessage(MSG_00083, "사업자번호"));
						div_process2.msk_bizNum.SetFocus();
					}			
					
					if(bResult)
					{
						var sBizNum = div_process2.msk_bizNum.value;
						if(sBizNum.length > 0)
						{
							bResult = uf_isBizNo(sBizNum);
							if(!bResult)
							{
								div_process2.msk_bizNum.SetFocus();
							}
						}
					}				
				}
			}
		}	
		
		if(bResult)
		{
			if(FV_INT_CHANGE_DEAL_STATUS == 0)
			{
				alert(cf_getMessage(MSG_00083, "거래상태"));
				bResult = false;
			}
		}
		
		if(bResult && !uf_isEmpty(div_process2.cal_dealEndDt.value))
		{
			if(!uf_compValue(div_process2.cal_dealStaDt, div_process2.cal_dealEndDt))
			{
				alert(cf_getMessage(MSG_00095, "거래종료일;거래개시일"));
				div_process2.cal_dealEndDt.SetFocus();
				bResult = false;
			}
		}
	}
	
	if(div_process4.Visible)
	{
		if(bResult)
		{
			bResult = cf_checkObjValues(div_process4, true);
		}
	}
	
	if(div_process5.Visible && pIsNew == 0)
	{
		if(bResult)
		{
			bResult = cf_checkObjValues(div_process5, true);
		}
	}

	// M채널인 경우 3차점 선택할 수 없음
/*	if(div_process1.cmb_dealCoCl1.value == 'C1'){
		if(div_process1.cmb_dealCoCl2.value == '3'){
			alert("M채널은 3차점을 선택할 수 없습니다.");
			return false;
		}
	}
*/
	return bResult;
}

/*******************************************************************************
 * @description    : 중복 데이타 여부 체크
*******************************************************************************/
function f_checkDuplication()
{	

	if(pIsNew == 0)
	{
		// 3차점.
		if(div_process1.cmb_dealCoCl2.value == '3'){
			
			var sDealCoCd = ds_detail.GetColumn(0,"DEAL_CO_CD");
			
			if(sDealCoCd == div_process1.edt_stlPlc.value ){
				alert("3차점인 경우 정산처는 자기 자신이 될 수 없습니다.");
				div_process1.edt_stlPlcNm.SetFocus();
				return;
			}
			
			if(sDealCoCd == div_process1.edt_disHldPlc.value ){
				alert("3차점인 경우 재고보유처는 자기 자신이 될 수 없습니다.");
				div_process1.edt_disHldPlcNm.SetFocus();
				return;
			}			
		}
	}

	var sDealCoCl1 = div_process1.cmb_dealCoCl1.value;
		
	// 계좌번호 체크.
	var sPmagDpstAccNo = ds_detail.GetColumn(0,"PMAG_DPST_ACC_NO"); //요금계좌 
	var sCasaDpstAccNo = ds_detail.GetColumn(0,"CASA_DPST_ACC_NO"); //기타계좌 
	var sSlcmDfryAccNo = ds_detail.GetColumn(0,"SLCM_DFRY_ACC_NO"); //출금계좌 	
	
	if(!uf_IsNull(sPmagDpstAccNo)){
		
		if(sPmagDpstAccNo == sCasaDpstAccNo ){
			alert("요금계좌와 기타계좌가 중복 되었습니다.");
			div_process4.edt_acc1.SetFocus();
			return;
		}
		
		if(sPmagDpstAccNo == sSlcmDfryAccNo ){
			alert("요금계좌와 출금계좌가 중복 되었습니다.");
			div_process4.edt_acc1.SetFocus();
			return;
		}		
	}
	
	if(!uf_IsNull(sCasaDpstAccNo)){
		
		if(sCasaDpstAccNo == sPmagDpstAccNo ){
			alert("기타계좌와 요금계좌가 중복 되었습니다.");
			div_process4.edt_acc2.SetFocus();
			return;
		}
		
		if(sCasaDpstAccNo == sSlcmDfryAccNo ){
			alert("출금계좌와 출금계좌가 중복 되었습니다.");
			div_process4.edt_acc2.SetFocus();
			return;
		}		
	}	
	
	if(!uf_IsNull(sSlcmDfryAccNo)){
		
		if(sSlcmDfryAccNo == sPmagDpstAccNo ){
			alert("출금계좌와 요금계좌가 중복 되었습니다.");
			div_process4.edt_acc3.SetFocus();
			return;
		}
		
		if(sSlcmDfryAccNo == sCasaDpstAccNo ){
			alert("출금계좌와 기타계좌가 중복 되었습니다.");
			div_process4.edt_acc3.SetFocus();
			return;
		}		
	}	
	
	// 조회 조건 설정
	ds_condition.Clear();
	
	if(pIsNew == 0)
	{
		cf_setParam(ds_condition, "deal_co_cd", ds_detail.GetColumn(0, "deal_co_cd"));
	}
	else
	{
		cf_setParam(ds_condition, "deal_co_cd", "");
	}
	
	cf_setParam(ds_condition, "deal_co_cl1", ds_detail.GetColumn(0, "DEAL_CO_CL1"));
	cf_setParam(ds_condition, "PMAG_DPST_ACC_NO", ds_detail.GetColumn(0, "PMAG_DPST_ACC_NO"));
	cf_setParam(ds_condition, "CASA_DPST_ACC_NO", ds_detail.GetColumn(0, "CASA_DPST_ACC_NO"));
	cf_setParam(ds_condition, "PMAG_DPST_ACC_NO_OLD", ds_detail.GetColumn(0, "PMAG_DPST_ACC_NO_OLD"));
	cf_setParam(ds_condition, "CASA_DPST_ACC_NO_OLD", ds_detail.GetColumn(0, "CASA_DPST_ACC_NO_OLD"));	
	cf_setParam(ds_condition, "SLCM_DFRY_ACC_NO", ds_detail.GetColumn(0, "SLCM_DFRY_ACC_NO"));
	cf_setParam(ds_condition, "DEAL_END_YN", ds_detail.GetColumn(0, "DEAL_END_YN"));
	cf_setParam(ds_condition, "SALE_STOP_YN", ds_detail.GetColumn(0, "SALE_STOP_YN"));
	cf_setParam(ds_condition, "DEAL_STA_DT", ds_detail.GetColumn(0, "DEAL_STA_DT"));
	cf_setParam(ds_condition, "DIS_HLD_PLC", ds_detail.GetColumn(0, "DIS_HLD_PLC"));
	cf_setParam(ds_condition, "STL_PLC", ds_detail.GetColumn(0, "STL_PLC"));	
	cf_setParam(ds_condition, "DIS_HLD_PLC_OLD", ds_detail.GetColumn(0, "DIS_HLD_PLC_OLD"));
	cf_setParam(ds_condition, "STL_PLC_OLD", ds_detail.GetColumn(0, "STL_PLC_OLD"));	
	
	var sDay  = div_process5.cal_aplyDt.value;
	var sHour = div_process5.edt_hour.value;
	var sMin  = div_process5.edt_min.value;
	var sSec  = "00";

	var sOldDate = "";

	// 적용일시 - 1초 계산하여 이전이력의 유효종료일시 Setting

	if (sMin == "00") {
		if (sHour == "00") {
			sOldDate = AddDate(sDay, -1) + "235959";
		} else {
			sOldDate = ToString(DateTime(parseint(mid(sDay, 0, 4))
			                           , parseint(mid(sDay, 4, 2))
			                           , parseint(mid(sDay, 6, 2))
			                           , parseint(sHour) - 1
			                           , 59
			                           , 59),  "yyyyMMddHHmmss");
		}
	} else {
			sOldDate = ToString(DateTime(parseint(mid(sDay, 0, 4))
			                           , parseint(mid(sDay, 4, 2))
			                           , parseint(mid(sDay, 6, 2))
			                           , parseint(sHour)
			                           , parseint(sMin) - 1
			                           , 59),  "yyyyMMddHHmmss");
	}

	//
	cf_setParam(ds_condition, "APLY_DT", sDay);
	cf_setParam(ds_condition, "APLY_DTM", sDay+sHour+sMin+sSec);

	//
	ds_detail.SetColumn(0,"EFF_END_DTM_OLD"    , sOldDate);
	ds_detail.SetColumn(0,"EFF_STA_DTM_NEW"    , sDay+sHour+sMin+sSec);
	cf_setParam(ds_condition, "EFF_END_DTM_OLD", sOldDate);
	cf_setParam(ds_condition, "EFF_STA_DTM_NEW", sDay+sHour+sMin+sSec);

	// 트랜잭션 설정
	var sSvcID = "svcCheck";
	var sInDs = "nc_input_fieldDs=ds_condition";
	var sOutDs = "ds_check=output ds_slcm_dfry_msg=nc_output_fieldDs";
	var sArg = "sktst.bas.PRM#checkDuplication";
	
	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description    : 저장
*******************************************************************************/
function f_save()
{
	if( ds_detail.GetColumn(0,"DEAL_CO_NM") != ds_custMaster.GetColumn(0,"DEAL_CO_NM")){
		ds_custMaster.SetColumn(0,"DEAL_CO_NM", ds_detail.GetColumn(0,"DEAL_CO_NM"));
	}
	
	if( ds_detail.GetColumn(0,"ADDR") != ds_custMaster.GetColumn(0,"ADDR")){
		ds_custMaster.SetColumn(0,"ADDR", ds_detail.GetColumn(0,"ADDR"));
	}
	
	if( ds_detail.GetColumn(0,"DTL_ADDR") != ds_custMaster.GetColumn(0,"DTL_ADDR")){
		ds_custMaster.SetColumn(0,"DTL_ADDR", ds_detail.GetColumn(0,"DTL_ADDR"));
	}
	
	if( ds_detail.GetColumn(0,"ZIP_CD1") != ds_custMaster.GetColumn(0,"ZIP_CD1")){
		ds_custMaster.SetColumn(0,"ZIP_CD1", ds_detail.GetColumn(0,"ZIP_CD1"));
	}	
	
	if( ds_detail.GetColumn(0,"ZIP_CD2") != ds_custMaster.GetColumn(0,"ZIP_CD2")){
		ds_custMaster.SetColumn(0,"ZIP_CD2", ds_detail.GetColumn(0,"ZIP_CD2"));
	}	
	
	if( ds_detail.GetColumn(0,"TEL_NO") != ds_custMaster.GetColumn(0,"TEL_NO")){
		ds_custMaster.SetColumn(0,"TEL_NO", ds_detail.GetColumn(0,"TEL_NO"));
	}
	
	if( ds_detail.GetColumn(0,"REG_NUM") != ds_custMaster.GetColumn(0,"REG_NUM")){
		ds_custMaster.SetColumn(0,"REG_NUM", ds_detail.GetColumn(0,"REG_NUM"));
	}
	
	if( ds_detail.GetColumn(0,"BIZ_NUM") != ds_custMaster.GetColumn(0,"BIZ_NUM")){
		ds_custMaster.SetColumn(0,"BIZ_NUM", ds_detail.GetColumn(0,"BIZ_NUM"));
	}
	
	if( ds_detail.GetColumn(0,"REP_USER_NM") != ds_custMaster.GetColumn(0,"REP_USER_NM")){
		ds_custMaster.SetColumn(0,"REP_USER_NM", ds_detail.GetColumn(0,"REP_USER_NM"));
	}
	
	if( ds_detail.GetColumn(0,"TYP_OF_BIZ") != ds_custMaster.GetColumn(0,"TYP_OF_BIZ")){
		ds_custMaster.SetColumn(0,"TYP_OF_BIZ", ds_detail.GetColumn(0,"TYP_OF_BIZ"));
	}
	
	if( ds_detail.GetColumn(0,"BIZ_CON") != ds_custMaster.GetColumn(0,"BIZ_CON")){
		ds_custMaster.SetColumn(0,"BIZ_CON", ds_detail.GetColumn(0,"BIZ_CON"));
	}	

	if( ds_detail.GetColumn(0,"SLCM_DFRY_ACC_NO") != ds_custMaster.GetColumn(0,"SLCM_DFRY_ACC_NO")){
		ds_custMaster.SetColumn(0,"SLCM_DFRY_ACC_NO", ds_detail.GetColumn(0,"SLCM_DFRY_ACC_NO"));
	}	
	
	if( ds_detail.GetColumn(0,"SLCM_DFRY_DEPO") != ds_custMaster.GetColumn(0,"SLCM_DFRY_DEPO")){
		ds_custMaster.SetColumn(0,"SLCM_DFRY_DEPO", ds_detail.GetColumn(0,"SLCM_DFRY_DEPO"));
	}		
	
	if( ds_detail.GetColumn(0,"ORG_ID") != ds_custMaster.GetColumn(0,"ORG_ID")){
		ds_custMaster.SetColumn(0,"ORG_ID", ds_detail.GetColumn(0,"ORG_ID"));
	}	
	
	if( ds_detail.GetColumn(0,"POS_AGENCY") != ds_custMaster.GetColumn(0,"POS_AGENCY")){
		ds_custMaster.SetColumn(0,"POS_AGENCY", ds_detail.GetColumn(0,"POS_AGENCY"));
	}
	
	if( ds_detail.GetColumn(0,"UKEY_AGENCY_CD") != ds_custMaster.GetColumn(0,"UKEY_AGENCY_CD")){
		ds_custMaster.SetColumn(0,"UKEY_AGENCY_CD", ds_detail.GetColumn(0,"UKEY_AGENCY_CD"));
	}

	if( ds_detail.GetColumn(0,"UKEY_SUB_CD") != ds_custMaster.GetColumn(0,"UKEY_SUB_CD")){
		ds_custMaster.SetColumn(0,"UKEY_SUB_CD", ds_detail.GetColumn(0,"UKEY_SUB_CD"));
	}

	if( ds_detail.GetColumn(0,"UKEY_CHANNEL_CD") != ds_custMaster.GetColumn(0,"UKEY_CHANNEL_CD")){
		ds_custMaster.SetColumn(0,"UKEY_CHANNEL_CD", ds_detail.GetColumn(0,"UKEY_CHANNEL_CD"));
	}
	
	if( Trim(ds_detail.GetColumn(0,"SLCM_DFRY_BANK_CD")) != Trim(ds_custMaster.GetColumn(0,"SLCM_DFRY_BANK_CD"))){
		ds_custMaster.SetColumn(0,"SLCM_DFRY_BANK_CD", ds_detail.GetColumn(0,"SLCM_DFRY_BANK_CD"));
	}	
	
    if(ds_custMaster.GetRowType(0) == "update"){
		ds_custMaster.SetColumn(0,"REG_CL", "U"); // 변경.
	}
		
	if( ds_detail.GetColumn(0,"DEAL_END_YN") == "Y"){
		// 종료로 변경 되었을 경우.
	
		if( ds_custMaster.GetColumn(0,"DEAL_END_YN") == "N" || uf_IsNull(ds_custMaster.GetColumn(0,"DEAL_END_YN"))){
			ds_custMaster.SetColumn(0,"REG_CL", "X"); // 종료
		}
	}else{
		
		if( ds_custMaster.GetColumn(0,"DEAL_END_YN") == "Y"){
			// 종료에서 정상인 경우.
			ds_custMaster.SetColumn(0,"REG_CL", "N"); // 정상.
		}
	}
	
	if(ds_custMaster.GetRowType(0) == "insert"){
		ds_custMaster.SetColumn(0,"REG_CL", "I"); // 신규.
	}	
	
	ds_custMaster.SetColumn(0,"PER_BIZ_CL", ds_detail.GetColumn(0,"PER_BIZ_CL"));
	ds_custMaster.SetColumn(0,"DEAL_CO_CL1", ds_detail.GetColumn(0,"DEAL_CO_CL1"));
	ds_custMaster.SetColumn(0,"DEAL_CO_CL2", ds_detail.GetColumn(0,"DEAL_CO_CL2"));
	
	// 트랜잭션 설정
	var sSvcID = "svcSave";
	var sInDs = "nc_input_fieldDs=ds_detail:U ds_custMaster=ds_custMaster:U";
	var sOutDs = "";
	var sArg;
	

	if(pIsNew == 0)
	{
		sArg = "sktst.bas.PRM#updateDealCo"; // 수정
	}
	else
	{		
		sArg = "sktst.bas.PRM#addDealCo"; // 신규 등록
	}

	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description    : 서버 / 클라이언트 유효성 체크 후 저장 
*******************************************************************************/
function btn_save_OnClick(obj)
{
	// 데이타 변경 유무
	if(cf_checkDsChanging(ds_detail) == 0)
	{
		alert(MSG_00133); // "변경사항이 없습니다.";
		return;
	}

	// 클라이언트 유효 체크
//	if(f_checkValidation() == false) return;
	
	// 적용일시 체크.
	var sDay     = div_process5.cal_aplyDt.value;
	var sHour    = div_process5.edt_hour.value;
	var sMin     = div_process5.edt_min.value;
	var sSec  = "00";
	
	if(sDay+sHour+sMin+sSec > div_process5.msk_effStaDtm.value ){
	} else {
		alert('적용일시는 최종변경일시 이후로 등록 할 수 있습니다.');
		div_process5.cal_aplyDt.SetFocus();
		return;
	}
	
	if(pIsNew == 1){
		
		if(!Confirm("거래개시일을 실제 거래일자로 입력하셨으면 확인을 \n\n아니라면 취소를 클릭 하신 후 재입력 하세요. ")){
			div_process2.cal_dealStaDt.SetFocus();
			return;
		}
	}

	// 서버 유효 체크
	f_checkDuplication();
}

/*******************************************************************************
 * @description    : 소속 대리점 세팅시 w재고 보유처 및 정산처 UK코드 초기화
*******************************************************************************/
function f_setDealPopInfo(sCd, sNm)
{
	div_process1.edt_stlPlc.Text = sCd;
	div_process1.edt_stlPlcNm.Text = sNm;
	div_process1.edt_disHldPlc.Text = sCd;
	div_process1.edt_disHldPlcNm.Text = sNm;
}


/*******************************************************************************
 * @description    : 팝업
*******************************************************************************/
function callPopUp(obj, nChar)
{
	// 소속 조직
	if(obj.id == "btn_orgId" || obj.id == "edt_orgId")
	{
		//var sResult = cf_callOrgTree("div_process1.edt_orgId", "div_process1.edt_orgNm");
		var sResult = cf_callOrgTree2("div_process1.edt_orgId", "div_process1.edt_orgNm","");    
		
		if(sResult == "1" && ds_selectedOrg.getRowCount() > 0 && div_process1.cmb_dealCoCl1.value != "A1" && div_process1.cmb_dealCoCl1.value != "S1")
		{
			f_setCompoentStatus("div_process1","edt_agency,edt_agencyNm,btn_agency", true, "소속대리점,소속대리점명");
		}
	}
	
	// 소속 대리점
	if(obj.id == "btn_agency" || obj.id == "edt_agencyNm")
	{	
		if(nChar == null)
		{
			nChar = 13;
		}
		if(nChar == 13)
		{
			var sOrgId = ds_detail.GetColumn(0, "ORG_ID");
			var sArg  = "org_id="+quote(sOrgId); // 필수
			var sCmbDealCocl1 = div_process1.cmb_dealCoCl1.value;
			
			// 직영점, 판매점, 온라인직영점, 온라인판매점, M채널
			if(sCmbDealCocl1 == "A2" || sCmbDealCocl1 == "A3" || sCmbDealCocl1 == "B1" 
				|| sCmbDealCocl1 == "B2" || sCmbDealCocl1 == "C1" ){
				
				cf_callAgencyPop(sArg, ds_detail, "POS_AGENCY_NM, POS_AGENCY, UKEY_AGENCY_CD");
			}else{
				cf_callAgencyPop(sArg, ds_detail, "POS_AGENCY_NM, POS_AGENCY");
			}			
			
			var sResult = FV_STR_POP_RESULT;
			
			if(sResult != 0 && sResult != null && div_process1.edt_agency.enable)
			{
				f_getUserInfo();
			}
			else if(div_process1.cmb_dealCoCl2.enable && trim(ds_detail.GetColumn(0, "POS_AGENCY")).length > 0)
			{
				//f_setCompoentStatus("div_process1","cmb_chrgrUser", true, "영업사원");
			}
			else
			{
				//f_setCompoentStatus("div_process1","cmb_chrgrUser", true);
			}

			if(sResult != 0 && sResult != null)
			{
				if(div_process1.cmb_dealCoCl2.index == 2){
					//f_setDealPopInfo("", "");		
					f_setCompoentStatus("div_process1", "edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", true, "재고보유처,재고보유처명");
					f_setCompoentStatus("div_process1","edt_stlPlc,edt_stlPlcNm,btn_stlPlc", true, "정산처,정산처명");				
				}else if (div_process1.cmb_dealCoCl2.index == 1){

					// 온라인 직영점, 온라인 판매점인 경우 활성화
					var sDealCoCl1 = ds_detail.GetColumn(0, "deal_co_cl1");
					if(sDealCoCl1 == "B1" || sDealCoCl1 == "B2" ){				
						//f_setDealPopInfo("", "");
						f_setCompoentStatus("div_process1", "edt_disHldPlc,edt_disHldPlcNm,btn_disHldPlc", true, null);
						f_setCompoentStatus("div_process1","edt_stlPlc,edt_stlPlcNm,btn_stlPlc", true, null);							
					}
				}
			}
		}
	}	

	// 정산처
	if(obj.id == "btn_stlPlc"  || obj.id == "edt_stlPlcNm")
	{
		if(nChar == null)
		{
			nChar = 13;
		}
		if(nChar == 13)
		{
			
			var sDealCoCl1 = "";
						
			if(ds_detail.GetColumn(0, "deal_co_cl1") == "B1"){
				// 온라인 직영점 (B1)
				sDealCoCl1 = "A2,B1"; // 직영점, 온라인직영점
			}else if (ds_detail.GetColumn(0, "deal_co_cl1") == "B2"){
				// 온라인 판매점 (B2)
				sDealCoCl1 = "A2,B1,B2"; // 직영점, 온라인직영점, 온라인판매점
			}else if (ds_detail.GetColumn(0, "deal_co_cl1") == "C1"){
				// M채널
				sDealCoCl1 = "C1"; // M채널
			}else{
				sDealCoCl1 = ds_detail.GetColumn(0, "deal_co_cl1");
			}			
			
			var sArg  = "deal_co_cl1="+quote(sDealCoCl1); // 필수
				sArg += " eff_dtm="+quote(today()); // 옵션
				sArg += " org_id="+quote(ds_detail.GetColumn(0, "org_id")); // 옵션
								
			var sDealCoCl2 = "";			
			// 거래처유형이 3차점인 경우 .정산처는 2차점만 보이도록 적용.
			if(div_process1.cmb_dealCoCl2.value == "3"){
				sDealCoCl2 = "2";
				sArg += " deal_co_cl2="+quote(sDealCoCl2); // 옵션
			}				
			
			sArg += " pos_agency="+quote(ds_detail.GetColumn(0, "pos_agency")); // 옵션
					
			cf_callDealPop(sArg, ds_detail, "STL_PLC_NM,STL_PLC");
			
			var sResult = FV_STR_POP_RESULT;
			if(sResult != 0 && sResult != null)
			{				
				div_process1.edt_disHldPlc.value = div_process1.edt_stlPlc.value;
				div_process1.edt_disHldPlcNm.value = div_process1.edt_stlPlcNm.value;
			}
		}
	}
	
	// 재고 보유처
	if(obj.id == "btn_disHldPlc" || obj.id == "edt_disHldPlcNm")
	{
		if(nChar == null)
		{
			nChar = 13;
		}
		if(nChar == 13)
		{
		
			var sDealCoCl1 = "";
						
			if(ds_detail.GetColumn(0, "deal_co_cl1") == "B1"){
				// 온라인 직영점 (B1)
				sDealCoCl1 = "A2,B1"; // 직영점, 온라인직영점
			}else if (ds_detail.GetColumn(0, "deal_co_cl1") == "B2"){
				// 온라인 판매점 (B2)
				sDealCoCl1 = "A2,B1,B2"; // 직영점, 온라인직영점, 온라인판매점
			}else if (ds_detail.GetColumn(0, "deal_co_cl1") == "C1"){
				// M채널
				sDealCoCl1 = "C1"; // M채널
			}else{
				sDealCoCl1 = ds_detail.GetColumn(0, "deal_co_cl1");
			}
			
			var sArg  = "deal_co_cl1="+quote(sDealCoCl1); // 필수
				sArg += " eff_dtm="+quote(today()); // 옵션
				sArg += " org_id="+quote(ds_detail.GetColumn(0, "org_id")); // 옵션
				sArg += " pos_agency="+quote(ds_detail.GetColumn(0, "pos_agency")); // 옵션
				
			var sDealCoCl2 = "";			
			// 거래처유형이 3차점인 경우 .정산처는 2차점만 보이도록 적용.
			if(div_process1.cmb_dealCoCl2.value == "3"){
				sDealCoCl2 = "2";
				sArg += " deal_co_cl2="+quote(sDealCoCl2); // 옵션
			}											

			cf_callDealPop(sArg, ds_detail, "DIS_HLD_PLC_NM,DIS_HLD_PLC");

			var sResult = FV_STR_POP_RESULT;
			if(sResult != 0 && sResult != null)
			{
				//f_setDealPopInfo(div_process1.edt_disHldPlc.text, div_process1.edt_disHldPlcNm.text);
			}

		}
	}	

	// 우편번호
	if(obj.id == "btn_zipCd")
	{
		cf_commPopPost("div_process2.edt_zipCd1","div_process2.edt_zipCd2","div_process2.edt_addr");
	}	
}


/*******************************************************************************
 * @description    : 거래상태의 변화 여부
*******************************************************************************/
function f_checkDealChangeStatus()
{
	var bResult = false;
	if(ds_detail.GetColumn(0, "NORMAL_YN") != ds_detail.GetOrgBuffColumn(0, "NORMAL_YN"))
	{
		bResult = true;
	}

	if(ds_detail.GetColumn(0, "DEAL_END_YN") != ds_detail.GetOrgBuffColumn(0, "DEAL_END_YN"))
	{
		bResult = true;
	}
	
	if(ds_detail.GetColumn(0, "PAY_STOP_YN") != ds_detail.GetOrgBuffColumn(0, "PAY_STOP_YN"))
	{
		bResult = true;
	}
	
	if(ds_detail.GetColumn(0, "OUT_STOP_YN") != ds_detail.GetOrgBuffColumn(0, "OUT_STOP_YN"))
	{
		bResult = true;
	}
	
	if(ds_detail.GetColumn(0, "SALE_STOP_YN") != ds_detail.GetOrgBuffColumn(0, "SALE_STOP_YN"))
	{
		bResult = true;
	}
	
	return bResult;
}

/*******************************************************************************
 * @description    : 영업 사원 취득
*******************************************************************************/
function f_getUserInfo()
{
	if(FV_STR_POS_AGENCY != div_process1.edt_agency.text)
	{
		// 조회 조건 설정
		cf_setParam(ds_condition, "pos_agency", ds_detail.GetColumn(0, "pos_agency"));
	
		// 트랜잭션 설정
		var sSvcID = "svcUser";
		var sInDs = "nc_input_fieldDs=ds_condition";
		var sOutDs = "ds_user=output";
		var sArg = "sktst.bas.PRM#getUserInfo";
		
		// 공통 트랜잭션 호출
		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	}
}

/*******************************************************************************
 * @description    : 대리점 변경 시
*******************************************************************************/
function div_process1_edt_agencyNm_OnCharChanged(obj,strPreText,strPostText)
{
	if(strPreText != strPostText){
		div_process3.edt_uKeyAgencyCd.value = "";
		div_process1.edt_agency.value = "";
	}
}

/*******************************************************************************
 * @description    : 변경불가 항목 셋팅.
*******************************************************************************/
function f_setNonEditable(){

	// 거래처유형(2차점->3차점 불가, 3차점->2차점 가능)
	if(ds_detail.GetColumn(0,"DEAL_CO_CL2") == "2"){
		div_process1.cmb_dealCoCl2.Enable = false;
	}
	
	//소속조직
	div_process1.edt_orgId.Enable = false;
	div_process1.edt_orgNm.Enable = false;
	div_process1.btn_orgId.Enable = false;
	
	//소속대리점
	div_process1.edt_agencyNm.Enable = false;
	div_process1.btn_agency.Enable = false;
	div_process1.edt_agency.Enable = false;	
	
	//재고보유처
	div_process1.edt_disHldPlcNm.Enable = false;
	div_process1.btn_disHldPlc.Enable = false;
	div_process1.edt_disHldPlc.Enable = false;		
	
	//사업자구분
	div_process2.rdo_perBizCl.Enable = false;
	
	// 주민/사업자번호
	div_process2.msk_bizNum.Enable = false;
	div_process2.msk_regNum.Enable = false;
	
	// 과세구분
	div_process2.cmb_taxStrd.Enable = false;
	
	// 거래개시일
	div_process2.cal_dealStaDt.Enable = false;
	
}

/*******************************************************************************
 * @description    : 판매일자 OnChanged 이벤트
*******************************************************************************/
function div_process2_cal_dealStaDt_OnChanged(obj,strOldText,strNewText)
{
	// 최초 화면 입장 시 현재일자를 셋팅 할때는 제외.
	/*
	if( !uf_IsNull(div_process2.cal_dealStaDt.value)){
		// 마감월 체크
		cf_CheckCloseDay('01',div_process2.cal_dealStaDt.value,"거래개시일");

		if(FV_BOOLEAN_CLOSE) {
			div_process2.cal_dealStaDt.value = "";
			div_process2.cal_dealStaDt.SetFocus();
			return; // 입력한 일자가 마감 되었을 경우 '1'(true) 리턴.
		}		
	}	
	*/
}

/*******************************************************************************
 * @description    : 적용시간 OnChanged 이벤트
*******************************************************************************/
function div_process5_edt_hour_OnChanged(obj,strText)
{
	if(obj.value > 23){
		alert('['+obj.value+']는 잘못된 적용시간 입니다.');
		obj.value = "";
		obj.setfocus();
	}else{
		if(length(obj.value)==1){
			obj.value = "0"+obj.value;
		}
	}
}

/*******************************************************************************
 * @description    : 적용분 OnChanged 이벤트
*******************************************************************************/
function div_process5_edt_min_OnChanged(obj,strText)
{
	if(obj.value > 59){
		alert('['+obj.value+']는 잘못된 적용 분 입니다.');
		obj.value = "";
		obj.setfocus();
	}else{
		if(length(obj.value)==1){
			obj.value = "0"+obj.value;
		}
	}	
}

function div_process2_cal_dealEndDt_OnChanged(obj,strOldText,strNewText)
{
	if(!uf_IsNull(div_process2.cal_dealEndDt.value)){

		div_process5.cal_aplyDt.value = div_process2.cal_dealEndDt.value;
		div_process5.edt_hour.value = "23";
		div_process5.edt_min.value = "59";	
	}
}

function ds_detail_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
	if(pIsNew == 1){
		div_process5.cal_aplyDt.Value = div_process2.cal_dealStaDt.value;
		div_process5.edt_hour.value = "00";
		div_process5.edt_min.value = "00";
	}
}

/*******************************************************************************
 * @description    : M채널 개인/사업자
*******************************************************************************/
function f_setPerBizCl()
{	
	var sDealCoCl1 = ds_detail.GetColumn(0,"DEAL_CO_CL1");

	//M채널인 경우 사업자 선택 불가.
	if( !uf_IsNull(sDealCoCl1) && sDealCoCl1 == "C1"){
		div_process2.rdo_perBizCl.Enable = false;
		div_process2.rdo_perBizCl.value = "1";
	}else{
		div_process2.rdo_perBizCl.Enable = true;
	}
}]]></Script>
</Window>
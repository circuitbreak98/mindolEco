<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="800" Id="SALPCM00000" Left="8" OnLoadCompleted="SALPCM00000_OnLoadCompleted" PidAttrib="7" Title="고객상담카드" Top="8" Ver="1.0" Width="1024" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_pcm01" OnColumnChanged="ds_pcm01_OnColumnChanged">
				<Contents>
					<colinfo id="SL_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="SL_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="CUS_NAME" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="SEARCH_DTM" size="256" summ="default" type="STRING"/>
					<colinfo id="SEARCH_HOUR" size="256" summ="default" type="STRING"/>
					<colinfo id="SEARCH_MINUTE" size="256" summ="default" type="STRING"/>
					<colinfo id="SDATE" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_PLC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_PLC_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_USER" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_MDL_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_MDL_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC_NM1" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC_NM2" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC_NM3" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC_NM4" size="256" summ="default" type="STRING"/>
					<colinfo id="FIX_CRDT_PRCHS_PRC" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_TYPE_CD_MIN" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_TYPE_CD_MIN_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_NET_CD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_NET_CD_RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="AGRMT_PRD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="AGRMT_PRD_CD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="IRATE_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="IRATE_NM" size="256" summ="default" type="STRING"/>
					<record>
						<AGRMT_PRD_CD></AGRMT_PRD_CD>
						<AGRMT_PRD_CD_NM></AGRMT_PRD_CD_NM>
						<CUS_NAME></CUS_NAME>
						<DS_NET_CD></DS_NET_CD>
						<DS_NET_CD_NM></DS_NET_CD_NM>
						<DS_NET_CD_RMKS></DS_NET_CD_RMKS>
						<EQP_CHRTIC_NM1></EQP_CHRTIC_NM1>
						<EQP_CHRTIC_NM2></EQP_CHRTIC_NM2>
						<EQP_CHRTIC_NM3></EQP_CHRTIC_NM3>
						<EQP_CHRTIC_NM4></EQP_CHRTIC_NM4>
						<EQP_MDL_CD></EQP_MDL_CD>
						<EQP_MDL_NM></EQP_MDL_NM>
						<FIX_CRDT_PRCHS_PRC></FIX_CRDT_PRCHS_PRC>
						<IRATE_CD></IRATE_CD>
						<IRATE_NM></IRATE_NM>
						<ORG_ID></ORG_ID>
						<SALE_PLC_CD></SALE_PLC_CD>
						<SALE_PLC_NM></SALE_PLC_NM>
						<SALE_TYPE_CD_MIN></SALE_TYPE_CD_MIN>
						<SALE_TYPE_CD_MIN_NM></SALE_TYPE_CD_MIN_NM>
						<SALE_USER></SALE_USER>
						<SDATE></SDATE>
						<SEARCH_DTM></SEARCH_DTM>
						<SEARCH_HOUR></SEARCH_HOUR>
						<SEARCH_MINUTE></SEARCH_MINUTE>
						<SL_CL></SL_CL>
						<SL_NET_CD></SL_NET_CD>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_slCL">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_input"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_saleChgrgId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="user_info" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_condition">
				<Contents>
					<colinfo id="SEARCH_DTM" size="256" summ="default" type="STRING"/>
					<colinfo id="SEARCH_HOUR" size="256" summ="default" type="STRING"/>
					<colinfo id="SEARCH_MINUTE" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_PLC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_PLC_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_MDL_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_TYP_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_CHARGE_01" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SL_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="AGRMT_PRD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="ORG_UKEYCD" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_TYPE_CD_MIN" size="256" summ="default" type="STRING"/>
					<colinfo id="SAL_YM" size="256" summ="default" type="STRING"/>
					<colinfo id="PSM_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="DEL_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="UPD_CNT" size="256" summ="default" type="STRING"/>
					<colinfo id="INS_USER_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="INS_DTM" size="256" summ="default" type="STRING"/>
					<colinfo id="MOD_USER_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="MOD_DTM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_prodInfo">
				<Contents>
					<colinfo id="SORT_SEQ" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_MDL_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_MDL_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC_NM1" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC_NM2" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC_NM3" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC_NM4" size="256" summ="default" type="STRING"/>
					<colinfo id="FIX_CRDT_PRCHS_PRC" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_saleTypCdMin">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_dsNet">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_agrmtPrd">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_mod" OnColumnChanged="ds_mod_OnColumnChanged">
				<Contents>
					<colinfo id="mod_01" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_02" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_02_set" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_02_tot" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_03" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_04" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_05" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_06" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_07" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_08" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_08_set" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_09" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_10" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_10_set" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_11" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_12" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_13" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_14" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_15" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_16" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_17" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_18" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_19" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_20" size="256" summ="default" type="STRING"/>
					<colinfo id="pre_mth" size="256" summ="default" type="STRING"/>
					<colinfo id="pre_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="cus_01" size="256" summ="default" type="STRING"/>
					<colinfo id="cus_02" size="256" summ="default" type="STRING"/>
					<colinfo id="cus_03" size="256" summ="default" type="STRING"/>
					<colinfo id="cus_03_set" size="256" summ="default" type="STRING"/>
					<colinfo id="cus_04" size="256" summ="default" type="STRING"/>
					<colinfo id="cus_05" size="256" summ="default" type="STRING"/>
					<colinfo id="cus_06" size="256" summ="default" type="STRING"/>
					<colinfo id="cus_amt" size="256" summ="default" type="STRING"/>
					<record>
						<cus_01></cus_01>
						<cus_02></cus_02>
						<cus_03></cus_03>
						<cus_03_set></cus_03_set>
						<cus_04></cus_04>
						<cus_05></cus_05>
						<cus_06></cus_06>
						<cus_amt></cus_amt>
						<mod_01></mod_01>
						<mod_02></mod_02>
						<mod_02_set></mod_02_set>
						<mod_02_tot></mod_02_tot>
						<mod_03></mod_03>
						<mod_04></mod_04>
						<mod_05></mod_05>
						<mod_06></mod_06>
						<mod_07></mod_07>
						<mod_08></mod_08>
						<mod_08_set></mod_08_set>
						<mod_09></mod_09>
						<mod_10></mod_10>
						<mod_10_set></mod_10_set>
						<mod_11></mod_11>
						<mod_12></mod_12>
						<mod_13></mod_13>
						<mod_14></mod_14>
						<mod_15></mod_15>
						<mod_16></mod_16>
						<mod_17></mod_17>
						<mod_18></mod_18>
						<mod_19></mod_19>
						<mod_20></mod_20>
						<pre_amt></pre_amt>
						<pre_mth></pre_mth>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_pcm02" OnColumnChanged="ds_pcm02_OnColumnChanged">
				<Contents>
					<colinfo id="PRE_DCT_01" size="256" summ="default" type="STRING"/>
					<colinfo id="PRE_DCT_02" size="256" summ="default" type="STRING"/>
					<colinfo id="POST_DCT_03" size="256" summ="default" type="STRING"/>
					<colinfo id="POST_DCT_03_SET" size="256" summ="default" type="STRING"/>
					<colinfo id="MTH_DCT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_CHARGE_01" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_CHARGE_02" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_CHARGE_02_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_CHARGE_02_NM_SET" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_CHARGE_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_CHARGE_DCT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="MTH_USE_CHARGE" size="256" summ="default" type="STRING"/>
					<colinfo id="CALL_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="CALL_AMT_SET" size="256" summ="default" type="STRING"/>
					<colinfo id="SPECIAL_DISCOUNT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_DISCOUNT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="SPECIAL_DISCOUNT_TOT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_DISCOUNT_TOT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="MTH_DCT_SPT" size="256" summ="default" type="STRING"/>
					<colinfo id="POST_DCT_04" size="256" summ="default" type="STRING"/>
					<colinfo id="POST_DCT_05" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SET_01" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SET_02" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SET_03" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SET_04" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_01" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_02" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_03" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_04" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_01_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_02_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_03_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_04_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_01_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_02_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_03_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_04_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_01_RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_02_RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_03_RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_04_RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_P_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_M_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="TOTAL_DCT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="FINAL_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="FINAL_MTH_AMT" size="256" summ="default" type="STRING"/>
					<record>
						<CALL_AMT></CALL_AMT>
						<CALL_AMT_SET></CALL_AMT_SET>
						<FINAL_AMT></FINAL_AMT>
						<FINAL_MTH_AMT></FINAL_MTH_AMT>
						<GNRL_CHARGE_01></GNRL_CHARGE_01>
						<GNRL_CHARGE_02></GNRL_CHARGE_02>
						<GNRL_CHARGE_02_NM></GNRL_CHARGE_02_NM>
						<GNRL_CHARGE_02_NM_SET></GNRL_CHARGE_02_NM_SET>
						<GNRL_CHARGE_CL></GNRL_CHARGE_CL>
						<GNRL_CHARGE_DCT_AMT></GNRL_CHARGE_DCT_AMT>
						<GNRL_DISCOUNT_AMT></GNRL_DISCOUNT_AMT>
						<GNRL_DISCOUNT_TOT_AMT></GNRL_DISCOUNT_TOT_AMT>
						<GNRL_RMKS></GNRL_RMKS>
						<MTH_DCT_AMT></MTH_DCT_AMT>
						<MTH_DCT_SPT></MTH_DCT_SPT>
						<MTH_USE_CHARGE></MTH_USE_CHARGE>
						<POST_DCT_03></POST_DCT_03>
						<POST_DCT_03_SET></POST_DCT_03_SET>
						<POST_DCT_04></POST_DCT_04>
						<POST_DCT_05></POST_DCT_05>
						<PRE_DCT_01></PRE_DCT_01>
						<PRE_DCT_02></PRE_DCT_02>
						<SPECIAL_DISCOUNT_AMT></SPECIAL_DISCOUNT_AMT>
						<SPECIAL_DISCOUNT_TOT_AMT></SPECIAL_DISCOUNT_TOT_AMT>
						<SUPL_01></SUPL_01>
						<SUPL_01_AMT></SUPL_01_AMT>
						<SUPL_01_NM></SUPL_01_NM>
						<SUPL_01_RMKS></SUPL_01_RMKS>
						<SUPL_02></SUPL_02>
						<SUPL_02_AMT></SUPL_02_AMT>
						<SUPL_02_NM></SUPL_02_NM>
						<SUPL_02_RMKS></SUPL_02_RMKS>
						<SUPL_03></SUPL_03>
						<SUPL_03_AMT></SUPL_03_AMT>
						<SUPL_03_NM></SUPL_03_NM>
						<SUPL_03_RMKS></SUPL_03_RMKS>
						<SUPL_04></SUPL_04>
						<SUPL_04_AMT></SUPL_04_AMT>
						<SUPL_04_NM></SUPL_04_NM>
						<SUPL_04_RMKS></SUPL_04_RMKS>
						<SUPL_AMT></SUPL_AMT>
						<SUPL_M_AMT></SUPL_M_AMT>
						<SUPL_P_AMT></SUPL_P_AMT>
						<SUPL_SET_01></SUPL_SET_01>
						<SUPL_SET_02></SUPL_SET_02>
						<SUPL_SET_03></SUPL_SET_03>
						<SUPL_SET_04></SUPL_SET_04>
						<TOTAL_DCT_AMT></TOTAL_DCT_AMT>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_gnrlCharge01">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_gnrlChargeCl">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_supl01">
				<Contents>
					<colinfo id="SUPL_SVC_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="MONTH_CHARGE_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="ADD_IC_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="PENALTY_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_supl02">
				<Contents>
					<colinfo id="SUPL_SVC_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="MONTH_CHARGE_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="ADD_IC_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="PENALTY_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_supl03">
				<Contents>
					<colinfo id="SUPL_SVC_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="MONTH_CHARGE_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="ADD_IC_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="PENALTY_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_supl04">
				<Contents>
					<colinfo id="SUPL_SVC_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="MONTH_CHARGE_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="ADD_IC_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="PENALTY_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_gnrlCharge">
				<Contents>
					<colinfo id="SUPL_FARE_MAX_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="BASIC_FARE_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="GNRL_DISCOUNT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="SPECIAL_DISCOUNT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="FREE_CALL_MIN" size="256" summ="default" type="STRING"/>
					<colinfo id="CALL_PROOF" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_slNetCd">
				<Contents>
					<colinfo id="COMM_CD_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_00101"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_00102"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_00103"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_00104"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_00105"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_polSplstTmp"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_margin">
				<Contents>
					<colinfo id="SALE_PLC" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_DTL_TYP" size="256" summ="default" type="STRING"/>
					<colinfo id="POL_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="MARGIN_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="USER_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="APLY_MONTH" size="256" summ="default" type="STRING"/>
					<colinfo id="POS_AGENCY" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_sAmtInfo">
				<Contents>
					<colinfo id="APLY_MONTH" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_NET_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_DTL_TYP" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_CHRTIC" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_TYP_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_AMT_12" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_AMT_18" size="256" summ="default" type="STRING"/>
					<colinfo id="DS_AMT_24" size="256" summ="default" type="STRING"/>
					<colinfo id="ALLOT_AMT_18" size="256" summ="default" type="STRING"/>
					<colinfo id="ALLOT_AMT_24" size="256" summ="default" type="STRING"/>
					<colinfo id="AGRMT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="ALLOT_AMT" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_irate">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_pcmGrid">
				<Contents>
					<colinfo id="col_00" size="256" summ="default" type="STRING"/>
					<colinfo id="col_01" size="256" summ="default" type="STRING"/>
					<colinfo id="col_02" size="256" summ="default" type="STRING"/>
					<colinfo id="col_03" size="256" summ="default" type="STRING"/>
					<colinfo id="col_04" size="256" summ="default" type="STRING"/>
					<colinfo id="col_05" size="256" summ="default" type="STRING"/>
					<colinfo id="col_06" size="256" summ="default" type="STRING"/>
					<colinfo id="col_07" size="256" summ="default" type="STRING"/>
					<colinfo id="col_08" size="256" summ="default" type="STRING"/>
					<colinfo id="col_09" size="256" summ="default" type="STRING"/>
					<colinfo id="col_10" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_suplSet">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_supl05">
				<Contents>
					<colinfo id="SUPL_SVC_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SUPL_SVC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="MONTH_CHARGE_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="ADD_IC_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="PENALTY_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_preMth">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
					<record>
						<COMM_CD_VAL>0</COMM_CD_VAL>
						<COMM_CD_VAL_NM>없음</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>6</COMM_CD_VAL>
						<COMM_CD_VAL_NM>6개월</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>12</COMM_CD_VAL>
						<COMM_CD_VAL_NM>12개월</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>18</COMM_CD_VAL>
						<COMM_CD_VAL_NM>18개월</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>24</COMM_CD_VAL>
						<COMM_CD_VAL_NM>24개월</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>30</COMM_CD_VAL>
						<COMM_CD_VAL_NM>30개월</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>36</COMM_CD_VAL>
						<COMM_CD_VAL_NM>36개월</COMM_CD_VAL_NM>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_postDct03">
				<Contents>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
					<record>
						<COMM_CD_VAL>0</COMM_CD_VAL>
						<COMM_CD_VAL_NM>0</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>160800</COMM_CD_VAL>
						<COMM_CD_VAL_NM>160,800</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>120000</COMM_CD_VAL>
						<COMM_CD_VAL_NM>120,000</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>110800</COMM_CD_VAL>
						<COMM_CD_VAL_NM>110,800</COMM_CD_VAL_NM>
					</record>
					<record>
						<COMM_CD_VAL>70080</COMM_CD_VAL>
						<COMM_CD_VAL_NM>70,080</COMM_CD_VAL_NM>
					</record>
				</Contents>
			</Dataset>
		</Datasets>
		<Div Border="Raised" Height="420" Id="div_saleInfo" Left="16" Style="sty_div_input" TabOrder="1" Text="Div0" Top="96" Width="1004">
			<Contents>
				<Static Align="Right" Height="20" Id="Static1" Left="486" Style="sty_lb_Basic" TabOrder="1" Text="가입유형" Top="14" VAlign="Middle" Width="92"></Static>
				<Combo BindDataset="ds_pcm01" Border="Flat" CodeColumn="comm_cd_val" Column="SALE_TYPE_CD_MIN" DataColumn="comm_cd_val_nm" Editable="TRUE" Height="20" Id="cmb_saleTypCdMin" InnerDataset="ds_saleTypCdMin" Left="581" OnChanged="div_saleInfo_cmb_saleTypCdMin_OnChanged" Style="sty_ipt_form" TabOrder="17" Top="13" Width="120"></Combo>
				<Static Align="Right" Height="20" Id="Static6" Left="40" Style="sty_lb_Basic" TabOrder="12" Text="설계일" Top="17" VAlign="Middle" Width="60"></Static>
				<Static Align="Right" Height="20" Id="Static4" Left="40" Style="sty_lb_Basic" TabOrder="14" Text="판매처" Top="62" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_condition" Border="Flat" Column="SALE_PLC_NM" Height="20" Id="edt_salePlcNm" Left="103" LeftMargin="2" OnCharChanged="div_saleInfo_edt_salePlcNm_OnCharChanged" OnKeyDown="div_saleInfo_edt_salePlcNm_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="15" Top="62" Width="120"></Edit>
				<Button Height="21" Id="btn_salePlc" ImageID="btn_i_detail" Left="218" OnClick="div_saleInfo_btn_salePlc_OnClick" OnKeyDown="div_saleInfo_btn_salePlc_OnKeyDown" TabOrder="16" Text="Button0" Top="62" Width="19"></Button>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcUkeyCd" Left="237" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="13" Top="62" Width="46"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcSubCd" Left="284" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="16" Top="62" Width="31"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcChannelCd" Left="316" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="17" Top="62" Width="46"></Edit>
				<Static Align="Right" Height="20" Id="Static7" Left="5" Style="sty_lb_Basic" TabOrder="18" Text="고객명" Top="39" VAlign="Middle" Width="92"></Static>
				<Edit BindDataset="ds_pcm01" Border="Flat" Column="CUS_NAME" Height="20" Id="Edit0" Left="102" LeftMargin="2" MaxLength="7" RightMargin="2" Style="sty_ipt_form" TabOrder="19" Top="39" Width="118"></Edit>
				<Static Align="Right" Height="20" Id="Static8" Left="39" Style="sty_lb_Search" TabOrder="20" Text="모델" Top="111" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_pcm01" Border="Flat" Column="EQP_MDL_CD" Height="20" Id="edt_ProdCd" Left="103" LeftMargin="2" OnCharChanged="div_saleInfo_edt_ProdCd_OnCharChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="19" Top="111" Width="50"></Edit>
				<Button Height="21" Id="btn_ProdCd" ImageID="btn_i_detail" Left="152" OnClick="div_saleInfo_btn_ProdCd_OnClick" TabOrder="20" Text="Button0" Top="111" Width="19"></Button>
				<Edit BindDataset="ds_pcm01" Border="Flat" Column="EQP_MDL_NM" Enable="FALSE" Height="20" Id="edt_ProdNm" Left="171" LeftMargin="2" OnChanged="div_saleInfo_edt_ProdNm_OnChanged" OnCharChanged="div_saleInfo_edt_ProdNm_OnCharChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="21" Top="111" Width="80"></Edit>
				<Static Align="Right" Height="20" Id="Static10" Left="29" Style="sty_lb_Basic" TabOrder="21" Text="상품특성1" Top="135" VAlign="Middle" Width="70"></Static>
				<Edit BindDataset="ds_pcm01" Border="Flat" Column="EQP_CHRTIC_NM1" Enable="FALSE" Height="20" Id="Edit1" Left="102" LeftMargin="2" MaxLength="7" RightMargin="2" Style="sty_ipt_form" TabOrder="21" Top="135" Width="85"></Edit>
				<Static Align="Right" Height="20" Id="Static11" Left="5" Style="sty_lb_Basic" TabOrder="21" Text="출고가" Top="183" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_pcm01" Border="Flat" Column="FIX_CRDT_PRCHS_PRC" Enable="FALSE" Height="20" Id="MaskEdit0" Left="102" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="21" Top="183" Value="0" Width="85"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static12" Left="486" Style="sty_lb_Basic" TabOrder="21" Text="가입구분1" Top="38" VAlign="Middle" Width="92"></Static>
				<Combo BindDataset="ds_pcm01" Border="Flat" CodeColumn="comm_cd_val" Column="DS_NET_CD" DataColumn="comm_cd_val_nm" Editable="TRUE" Height="20" Id="cmb_dsNet" InnerDataset="ds_dsNet" Left="581" OnChanged="div_saleInfo_cmb_dsNet_OnChanged" Style="sty_ipt_form" TabOrder="21" Top="37" Width="120"></Combo>
				<Static Align="Right" Height="20" Id="Static14" Left="694" Style="sty_lb_Basic" TabOrder="22" Text="가입구분2" Top="39" VAlign="Middle" Width="92"></Static>
				<Combo BindDataset="ds_pcm01" Border="Flat" CodeColumn="comm_cd_val" Column="AGRMT_PRD_CD" DataColumn="comm_cd_val_nm" Editable="TRUE" Height="20" Id="cmb_agrmtPrd" InnerDataset="ds_agrmtPrd" Left="789" OnChanged="div_saleInfo_cmb_agrmtPrd_OnChanged" Style="sty_ipt_form" TabOrder="22" Top="38" Width="120"></Combo>
				<Static Align="Right" Height="20" Id="Static15" Left="38" Style="sty_lb_Basic" TabOrder="24" Text="일반요금제선택" Top="230" VAlign="Middle" Width="92"></Static>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="comm_cd_val" Column="GNRL_CHARGE_01" DataColumn="comm_cd_val_nm" Editable="TRUE" Height="20" Id="cmb_gnrlCharge01" InnerDataset="ds_gnrlCharge01" Left="133" OnChanged="div_saleInfo_cmb_gnrlCharge01_OnChanged" Style="sty_ipt_form" TabOrder="25" Top="229" Width="120"></Combo>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="SUPL_SVC_CD" Column="GNRL_CHARGE_02" DataColumn="SUPL_SVC_NM" Editable="TRUE" Height="20" Id="cmb_gnrlCharge" InnerDataset="ds_gnrlCharge" Left="253" OnChanged="div_saleInfo_cmb_gnrlCharge_OnChanged" Style="sty_ipt_form" TabOrder="26" Top="229" Width="120"></Combo>
				<Static Align="Right" Height="20" Id="Static16" Left="37" Style="sty_lb_Basic" TabOrder="27" Text="기본요금" Top="254" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="MTH_USE_CHARGE" Enable="FALSE" Height="20" Id="edt_mthUseCharge" Left="135" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="27" Top="254" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static17" Left="37" Style="sty_lb_Basic" TabOrder="29" Text="통화료" Top="278" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="CALL_AMT" Enable="FALSE" Height="20" Id="edt_callAmt" Left="135" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="29" Top="278" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static18" Left="30" Style="sty_lb_Basic" TabOrder="31" Text="스페셜할인(월)" Top="350" VAlign="Middle" Width="100"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="SPECIAL_DISCOUNT_AMT" Enable="FALSE" Height="20" Id="MaskEdit7" Left="135" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="31" Top="350" Value="0" Width="81"></MaskEdit>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="SPECIAL_DISCOUNT_TOT_AMT" Enable="FALSE" Height="20" Id="MaskEdit8" Left="295" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="33" Top="350" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static20" Left="222" Style="sty_lb_Basic" TabOrder="33" Text="총할인금액" Top="350" VAlign="Middle" Width="70"></Static>
				<Static Align="Right" Height="20" Id="Static22" Left="476" Style="sty_lb_Basic" TabOrder="35" Text="부가서비스01" Top="230" VAlign="Middle" Width="100"></Static>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="SUPL_SVC_CD" Column="SUPL_01" DataColumn="SUPL_SVC_NM" Editable="TRUE" Height="20" Id="cmb_supl01" InnerDataset="ds_supl01" Left="685" OnChanged="div_saleInfo_cmb_supl01_OnChanged" Style="sty_ipt_form" TabOrder="36" Top="229" Width="200"></Combo>
				<Static Align="Right" Height="20" Id="Static23" Left="476" Style="sty_lb_Basic" TabOrder="37" Text="부가서비스02" Top="254" VAlign="Middle" Width="100"></Static>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="SUPL_SVC_CD" Column="SUPL_02" DataColumn="SUPL_SVC_NM" Editable="TRUE" Height="20" Id="cmb_supl02" InnerDataset="ds_supl02" Left="685" OnChanged="div_saleInfo_cmb_supl02_OnChanged" Style="sty_ipt_form" TabOrder="38" Top="253" Width="200"></Combo>
				<Static Align="Right" Height="20" Id="Static24" Left="476" Style="sty_lb_Basic" TabOrder="39" Text="부가서비스03" Top="278" VAlign="Middle" Width="100"></Static>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="SUPL_SVC_CD" Column="SUPL_03" DataColumn="SUPL_SVC_NM" Editable="TRUE" Height="20" Id="cmb_supl03" InnerDataset="ds_supl03" Left="685" OnChanged="div_saleInfo_cmb_supl03_OnChanged" Style="sty_ipt_form" TabOrder="40" Top="277" Width="200"></Combo>
				<Static Align="Right" Height="20" Id="Static25" Left="476" Style="sty_lb_Basic" TabOrder="41" Text="부가서비스04" Top="302" VAlign="Middle" Width="100"></Static>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="SUPL_SVC_CD" Column="SUPL_04" DataColumn="SUPL_SVC_NM" Editable="TRUE" Height="20" Id="cmb_supl04" InnerDataset="ds_supl04" Left="685" OnChanged="div_saleInfo_cmb_supl04_OnChanged" Style="sty_ipt_form" TabOrder="42" Top="301" Width="200"></Combo>
				<Static Align="Right" Height="20" Id="Static26" Left="478" Style="sty_lb_Basic" TabOrder="42" Text="부가+금액" Top="326" VAlign="Middle" Width="100"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="SUPL_P_AMT" Enable="FALSE" Height="20" Id="MaskEdit10" Left="583" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="42" Top="326" Value="0" Width="81"></MaskEdit>
				<Calendar BindDataset="ds_pcm01" Border="Flat" ButtonImageID="btn_i_calendar" Column="SEARCH_DTM" DateColumn="SEARCH_DTM" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_searchDtm" Left="102" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" OnChanged="div_saleInfo_cal_searchDtm_OnChanged" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="45" TodayColor="user26" Top="15" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="135"></Calendar>
				<MaskEdit BindDataset="ds_pcm01" Border="Flat" Column="SEARCH_HOUR" Cursor="IBEAM" Height="20" Id="edt_hour" Left="241" LeftMargin="2" MaxLength="2" OnChanged="div_saleInfo_edt_hour_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="46" Top="15" Value="MaskEdit0" Width="20"></MaskEdit>
				<MaskEdit BindDataset="ds_pcm01" Border="Flat" Column="SEARCH_MINUTE" Cursor="IBEAM" Height="20" Id="edt_min" Left="262" LeftMargin="2" MaxLength="2" OnChanged="div_saleInfo_edt_min_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="47" Top="15" Value="MaskEdit0" Width="20"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static5" Left="15" Style="sty_lb_Basic" TabOrder="48" Text="판매담당" Top="85" VAlign="Middle" Width="84"></Static>
				<Edit BindDataset="ds_condition" Border="Flat" Column="SALE_PLC_CD" Height="20" Id="edt_salePlc" Left="363" LeftMargin="2" OnChanged="div_saleInfo_edt_salePlc_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="49" Top="62" Visible="FALSE" Width="11"></Edit>
				<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_save" ImageID="btn_c_2" Left="864" LeftMargin="5" OnClick="df_save" Style="sty_btn_c" TabOrder="50" Text="저장" Top="381" Width="60"></Button>
				<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_delete" ImageID="btn_d_2" Left="929" LeftMargin="5" OnClick="df_delete" Style="sty_btn_d" TabOrder="51" Text="삭제" Top="381" Width="60"></Button>
				<Edit BindDataset="ds_pcm01" Border="Flat" Column="SALE_USER" Height="20" Id="Edit3" Left="102" LeftMargin="2" MaxLength="7" RightMargin="2" Style="sty_ipt_form" TabOrder="52" Top="87" Width="118"></Edit>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="COMM_CD_VAL" Column="SUPL_SET_01" DataColumn="COMM_CD_VAL_NM" Editable="TRUE" Height="20" Id="Combo0" InnerDataset="ds_suplSet" Left="581" OnChanged="div_saleInfo_Combo0_OnChanged" Style="sty_ipt_form" TabOrder="53" Top="229" Width="100"></Combo>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="COMM_CD_VAL" Column="SUPL_SET_02" DataColumn="COMM_CD_VAL_NM" Editable="TRUE" Height="20" Id="Combo1" InnerDataset="ds_suplSet" Left="581" OnChanged="div_saleInfo_Combo1_OnChanged" Style="sty_ipt_form" TabOrder="54" Top="253" Width="100"></Combo>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="COMM_CD_VAL" Column="SUPL_SET_03" DataColumn="COMM_CD_VAL_NM" Editable="TRUE" Height="20" Id="Combo2" InnerDataset="ds_suplSet" Left="581" OnChanged="div_saleInfo_Combo2_OnChanged" Style="sty_ipt_form" TabOrder="55" Top="277" Width="100"></Combo>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="COMM_CD_VAL" Column="SUPL_SET_04" DataColumn="COMM_CD_VAL_NM" Editable="TRUE" Height="20" Id="Combo3" InnerDataset="ds_suplSet" Left="581" OnChanged="div_saleInfo_Combo3_OnChanged" Style="sty_ipt_form" TabOrder="56" Top="301" Width="100"></Combo>
				<Static Align="Right" Height="20" Id="Static13" Left="189" Style="sty_lb_Basic" TabOrder="57" Text="상품특성2" Top="135" VAlign="Middle" Width="70"></Static>
				<Edit BindDataset="ds_pcm01" Border="Flat" Column="EQP_CHRTIC_NM2" Enable="FALSE" Height="20" Id="Edit2" Left="262" LeftMargin="2" MaxLength="7" RightMargin="2" Style="sty_ipt_form" TabOrder="57" Top="135" Width="85"></Edit>
				<Static Align="Right" Height="20" Id="Static28" Left="29" Style="sty_lb_Basic" TabOrder="59" Text="상품특성3" Top="159" VAlign="Middle" Width="70"></Static>
				<Edit BindDataset="ds_pcm01" Border="Flat" Column="EQP_CHRTIC_NM3" Enable="FALSE" Height="20" Id="Edit5" Left="102" LeftMargin="2" MaxLength="7" RightMargin="2" Style="sty_ipt_form" TabOrder="59" Top="159" Width="85"></Edit>
				<Static Align="Right" Height="20" Id="Static36" Left="189" Style="sty_lb_Basic" TabOrder="61" Text="상품특성4" Top="159" VAlign="Middle" Width="70"></Static>
				<Edit BindDataset="ds_pcm01" Border="Flat" Column="EQP_CHRTIC_NM4" Enable="FALSE" Height="20" Id="Edit6" Left="262" LeftMargin="2" MaxLength="7" RightMargin="2" Style="sty_ipt_form" TabOrder="61" Top="159" Width="85"></Edit>
				<Static Align="Right" Height="20" Id="Static19" Left="30" Style="sty_lb_Basic" TabOrder="63" Text="더블할인(월)" Top="318" VAlign="Middle" Width="100"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="GNRL_DISCOUNT_AMT" Enable="FALSE" Height="20" Id="MaskEdit1" Left="135" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="63" Top="318" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static34" Left="222" Style="sty_lb_Basic" TabOrder="65" Text="총할인금액" Top="318" VAlign="Middle" Width="70"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="GNRL_DISCOUNT_TOT_AMT" Enable="FALSE" Height="20" Id="MaskEdit2" Left="295" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="64" Top="318" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static35" Left="492" Style="sty_lb_Basic" TabOrder="67" Text="약정지원금" Top="95" VAlign="Middle" Width="80"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="PRE_DCT_02" Enable="FALSE" Height="20" Id="MaskEdit3" Left="581" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="67" Top="95" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static40" Left="492" Style="sty_lb_Basic" TabOrder="68" Text="T할부지원금" Top="119" VAlign="Middle" Width="80"></Static>
				<Static Align="Right" Height="20" Id="Static42" Left="676" Style="sty_lb_Basic" TabOrder="70" Text="T할부월할인" Top="119" VAlign="Middle" Width="80"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="MTH_DCT_AMT" Enable="FALSE" Height="20" Id="MaskEdit5" Left="757" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="70" Top="119" Value="0" Width="81"></MaskEdit>
				<Combo BindDataset="ds_pcm02" Border="Flat" CodeColumn="COMM_CD_VAL" Column="POST_DCT_03" DataColumn="COMM_CD_VAL_NM" Editable="TRUE" Height="20" Id="cmb_postDct03" ImeMode="none" InnerDataset="ds_postDct03" Left="580" OnChanged="div_saleInfo_cmb_postDct03_OnChanged" Style="sty_ipt_form" TabOrder="72" Top="117" Width="99"></Combo>
				<Static Align="Right" Height="20" Id="Static0" Left="694" Style="sty_lb_Basic" TabOrder="73" Text="부가-금액" Top="326" VAlign="Middle" Width="100"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="SUPL_M_AMT" Enable="FALSE" Height="20" Id="MaskEdit4" Left="799" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="73" Top="326" Value="0" Width="81"></MaskEdit>
			</Contents>
		</Div>
		<Image Align="Left" Height="25" Id="Image0" ImageID="bul_tit" Left="18" LeftMargin="15" Style="sty_img_tit" TabOrder="2" Text="APCP" Top="76" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image10" ImageID="bul_tit" Left="16" LeftMargin="15" Style="sty_img_tit" TabOrder="4" Text="수식" Top="524" Width="192"></Image>
		<Div Border="Raised" Height="190" Id="div_prcInfo" Left="16" Style="sty_div_input" TabOrder="3" Text="Div0" Top="543" Width="1004">
			<Contents>
				<Static Align="Right" Height="20" Id="Static12" Left="5" Style="sty_lb_Basic" TabOrder="1" Text="System&#32;R/B" Top="7" VAlign="Middle" Width="130"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_01" Enable="FALSE" Height="20" Id="msk_mod01" Left="142" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="43" Top="7" Value="0" Width="60"></MaskEdit>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_02" Enable="FALSE" Height="20" Id="msk_mod02" Left="142" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="43" Top="30" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static15" Left="5" Style="sty_lb_Basic" TabOrder="2" Text="M/G" Top="30" VAlign="Middle" Width="130"></Static>
				<Static Align="Right" Height="20" Id="Static0" Left="5" Style="sty_lb_Basic" TabOrder="5" Text="P&#32;R/B" Top="53" VAlign="Middle" Width="130"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_03" Enable="FALSE" Height="20" Id="msk_mod03" Left="142" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="53" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static5" Left="557" Style="sty_lb_Basic" TabOrder="7" Text="총할인금액" Top="126" VAlign="Middle" Width="100"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_08" Enable="FALSE" Height="20" Id="msk_mod08" Left="662" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="126" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static9" Left="5" Style="sty_lb_Basic" TabOrder="9" Text="지원금(T약정)" Top="77" VAlign="Middle" Width="130"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_05" Enable="FALSE" Height="20" Id="MaskEdit0" Left="142" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="10" Top="77" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static10" Left="229" Style="sty_lb_Basic" TabOrder="11" Text="지원금(T할부)" Top="77" VAlign="Middle" Width="90"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_06" Enable="FALSE" Height="20" Id="MaskEdit1" Left="321" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="12" Top="77" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static11" Left="5" Style="sty_lb_Basic" TabOrder="13" Text="더블할인금액" Top="101" VAlign="Middle" Width="130"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="GNRL_DISCOUNT_TOT_AMT" Enable="FALSE" Height="20" Id="MaskEdit2" Left="142" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="14" Top="101" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static13" Left="229" Style="sty_lb_Basic" TabOrder="15" Text="스페셜할인금액" Top="101" VAlign="Middle" Width="90"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="SPECIAL_DISCOUNT_TOT_AMT" Enable="FALSE" Height="20" Id="MaskEdit3" Left="321" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="16" Top="101" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static14" Left="5" Style="sty_lb_Basic" TabOrder="17" Text="부가항목&#32;(+/-)&#32;금액" Top="125" VAlign="Middle" Width="130"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="SUPL_AMT" Enable="FALSE" Height="20" Id="MaskEdit4" Left="142" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="18" Top="125" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static16" Left="5" Style="sty_lb_Basic" TabOrder="19" Text="NET가(수식상단가)" Top="151" VAlign="Middle" Width="130"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_09" Enable="FALSE" Height="20" Id="MaskEdit5" Left="142" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="20" Top="151" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static17" Left="213" Style="sty_lb_Basic" TabOrder="21" Text="조정NET가(0금액)" Top="149" VAlign="Middle" Width="110"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_10" Enable="FALSE" Height="20" Id="MaskEdit6" Left="321" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="22" Top="149" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static2" Left="533" Style="sty_lb_Basic" TabOrder="23" Text="[P/J&#32;조정금]" Top="7" VAlign="Middle" Width="130"></Static>
				<Static Height="20" Id="Static3" Left="213" Style="sty_lb_Basic" TabOrder="24" Text="단가표리베이트금(소매,M채널은&#32;리베이트&#32;전환한&#32;값)" Top="7" VAlign="Middle" Width="320"></Static>
				<Static Height="20" Id="Static6" Left="213" Style="sty_lb_Basic" TabOrder="25" Text="판매리베이트값&#32;(System&#32;R/B&#32;-&#32;M/G)" Top="53" VAlign="Middle" Width="240"></Static>
				<Static Align="Right" Height="20" Id="Static7" Left="525" Style="sty_lb_Basic" TabOrder="26" Text="기존&#32;마진금액" Top="30" VAlign="Middle" Width="130"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_02" Enable="FALSE" Height="20" Id="MaskEdit7" Left="662" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="27" Top="30" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="25" Id="Static21" Left="774" Style="sty_lb_Basic" TabOrder="28" Text="조정금액" Top="30" VAlign="Middle" Width="70"></Static>
				<MaskEdit BindDataset="ds_pcm02" Border="Flat" Column="POST_DCT_05" Height="20" Id="MaskEdit9" Left="847" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="29" Top="30" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static18" Left="525" Style="sty_lb_Basic" TabOrder="30" Text="조정NET&#32;마진금액" Top="54" VAlign="Middle" Width="130"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_02_set" Enable="FALSE" Height="20" Id="MaskEdit8" Left="662" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="31" Top="54" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="25" Id="Static19" Left="774" Style="sty_lb_Basic" TabOrder="32" Text="고객NET가" Top="54" VAlign="Middle" Width="70"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_10_set" Enable="FALSE" Height="20" Id="MaskEdit10" Left="846" LeftMargin="2" Mask="0" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="33" Top="54" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static20" Left="525" Style="sty_lb_Basic" TabOrder="34" Text="총마진금액" Top="78" VAlign="Middle" Width="130"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_02_tot" Enable="FALSE" Height="20" Id="MaskEdit11" Left="662" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="35" Top="78" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static22" Left="757" Style="sty_lb_Basic" TabOrder="36" Text="할부원금" Top="102" VAlign="Middle" Width="80"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_08_set" Enable="FALSE" Height="20" Id="MaskEdit12" Left="846" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="37" Top="102" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static23" Left="749" Style="sty_lb_Basic" TabOrder="38" Text="고객실부담금액" Top="126" VAlign="Middle" Width="90"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="mod_10_set" Enable="FALSE" Height="20" Id="MaskEdit13" Left="846" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="39" Top="126" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="25" Id="Static24" Left="590" Style="sty_lb_Basic" TabOrder="40" Text="선납금액" Top="102" VAlign="Middle" Width="70"></Static>
				<MaskEdit BindDataset="ds_mod" Border="Flat" Column="pre_amt" Height="20" Id="MaskEdit14" Left="663" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="41" Top="102" Value="0" Width="60"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static25" Left="750" Style="sty_lb_Basic" TabOrder="42" Text="현금/할부선택" Top="79" VAlign="Middle" Width="92"></Static>
				<Combo BindDataset="ds_mod" Border="Flat" CodeColumn="comm_cd_val" Column="pre_mth" DataColumn="comm_cd_val_nm" Editable="TRUE" Height="20" Id="cmb_preMth" InnerDataset="ds_preMth" Left="845" OnChanged="div_saleInfo_cmb_agrmtPrd_OnChanged" Style="sty_ipt_form" TabOrder="42" Top="78" Width="78"></Combo>
			</Contents>
		</Div>
		<Div Border="Raised" Height="56" Id="div_search" Left="16" Style="sty_div_input" TabOrder="5" Text="Div0" Top="10" Width="1004">
			<Contents>
				<Static Align="Right" Height="20" Id="Static3" Left="211" Style="sty_lb_Search" TabOrder="1" Text="대리점" Top="15" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_condition" Border="Flat" Column="ORG_NM" Height="20" Id="edt_agencyCdNm" Left="274" MaxLength="10" Style="sty_ipt_form" TabOrder="1" Top="16" UpperOnly="TRUE" Width="143"></Edit>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Height="20" Id="btn_agency" ImageID="btn_i_detail_b" Left="417" OnClick="div_search_btn_agency_OnClick" TabOrder="2" TabStop="FALSE" Text="Button0" Top="16" Width="20"></Button>
				<Edit BindDataset="ds_condition" Border="Flat" Column="ORG_UKEYCD" Enable="FALSE" Height="20" Id="edt_agencyUkeyCd" Left="437" MaxLength="10" Style="sty_ipt_form" TabOrder="3" TabStop="FALSE" Top="16" UpperOnly="TRUE" Width="70"></Edit>
				<Edit BindDataset="ds_pcm01" Border="Flat" Column="ORG_ID" Height="20" Id="edt_agencyCd" Left="508" MaxLength="10" Style="sty_ipt_form" TabOrder="4" TabStop="FALSE" Top="16" UpperOnly="TRUE" Visible="FALSE" Width="8"></Edit>
				<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_pcmView" ImageID="btn_c_10" Left="828" LeftMargin="5" OnClick="btn_pcmView_OnClick" Style="sty_btn_c" TabOrder="6" Text="고&#32;객&#32;상&#32;담&#32;&#32;카&#32;드" Top="16" Width="160"></Button>
				<Static Align="Right" Height="20" Id="Static2" Left="17" Style="sty_lb_Search" TabOrder="7" Text="영업망" Top="15" VAlign="Middle" Width="76"></Static>
				<Combo BindDataset="ds_pcm01" Border="Flat" CodeColumn="COMM_CD_VAL" Column="SL_NET_CD" DataColumn="COMM_CD_VAL_NM" Height="20" Id="cmb_slNetCd" InnerDataset="ds_slNetCd" Left="101" OnChanged="div_search_cmb_slNetCd_OnChanged" Style="sty_ipt_form" TabOrder="8" Top="15" UserData="영업망" Width="100"></Combo>
			</Contents>
		</Div>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* 프로그램ID : SALPCM00000
* 업무명      : 고객상담 - 고객상담카드
* 프로그램명  : 
--------------------------------------------------------------------------------
* 작성자      : 장화수
* 작성일      : 2011.02.17
--------------------------------------------------------------------------------
* 1. 변경이력
수정자    :
수정일    :
수정 내역 :
*******************************************************************************/

/*******************************************************************************
// 1. 전 처리기
*******************************************************************************/
#include "lib::lib_commF.js"
#include "lib::lib_commPopup.js"
#include "lib::lib_commMsg.js"
#include "lib::lib_SAL.js"
#include "lib::lib_util.js"


/*******************************************************************************
// 2. 폼 변수 정의
*******************************************************************************/
var FV_ORG_ID;	//조직코드
var FV_ORG_CL;  //조직구분



/*******************************************************************************
* 함수명 : POLASP00100_OnLoadCompleted
* 기능명 : OnLoadCompleted 이벤트
*******************************************************************************/
function SALPCM00000_OnLoadCompleted(obj)
{
			ds_pcm01.DeleteAll();
			ds_pcm02.DeleteAll();
			ds_mod.DeleteAll();
			if(ds_pcm01.GetRowCount() < 1)
			{
				//ds_condition.AddRow();
				ds_pcm01.AddRow();
				ds_pcm02.AddRow();
				ds_mod.AddRow();
			}


	// 조회기준일시 셋팅.
	strDate = GetDate();	
	div_saleInfo.cal_searchDtm.Text = Mid(strDate,0,8);
	div_saleInfo.edt_hour.Value = Mid(strDate,8,2);	
	div_saleInfo.edt_min.Value = Mid(strDate,10,2);

	
	// 권한 설정
	cf_setAuth(pFrmNum);
    FV_ORG_ID = gds_session.GetColumn(0,"orgId");
    FV_ORG_CL = gds_session.GetColumn(0,"orgCl");	
	


    http.Sync = true;
	f_setCmCode();
	
	
	http.Sync = false;

	
	df_search();

	
}


/*******************************************************************************
* 함수명 : df_reSet
* 기능명 : 화면 초기화
*******************************************************************************/
function df_reSet(sArg)
{
	ds_condition.DeleteAll();
	if(ds_condition.GetRowCount() < 1)
	{
		//ds_condition.AddRow();
		ds_condition.AddRow();
	}

	ds_pcm01.DeleteAll();
	ds_pcm02.DeleteAll();
	ds_mod.DeleteAll();
	if(ds_pcm01.GetRowCount() < 1)
	{
		//ds_condition.AddRow();
		ds_pcm01.AddRow();
		ds_pcm02.AddRow();
		ds_mod.AddRow();
	}

    //ds_condition.SetColumn(0,"TCNT",1);
	// 권한 설정
	cf_setAuth(pFrmNum);	
    FV_ORG_ID = gds_session.GetColumn(0,"orgId");
    FV_ORG_CL = gds_session.GetColumn(0,"orgCl");	

    http.Sync = true;
	f_setCmCode();
    //CHK_ORG = "";
	http.Sync = false;
	df_search(sArg);


}

/*******************************************************************************
* 함수명 : df_search
* 기능명 : 공통 조회 버튼 클릭
* 파라미터
1. sButtonID  : 버튼 아이디
*******************************************************************************/
function df_search(sArg)
{

	ds_condition.setColumn(0, "ORG_ID", ORG_ID);
	ds_condition.setColumn(0, "ORG_NM", ORG_NM);
	ds_condition.setColumn(0, "ORG_UKEYCD", ORG_UKEYCD);
	//alert(sArg);
	if (uf_isNull(sArg)== true) {
			ds_condition.setColumn(0, "SAL_YM", SAL_YM);
			ds_condition.setColumn(0, "ORG_ID", ORG_ID);
			ds_condition.setColumn(0, "ORG_NM", ORG_NM);
			ds_condition.setColumn(0, "ORG_UKEYCD", ORG_UKEYCD);
			ds_condition.setColumn(0, "PSM_ID", PSM_ID);
			ds_condition.setColumn(0, "SALE_PLC_CD", SALE_PLC_CD);
	} else {
//alert(sArg);
			// 리셋시.. 넘어온 파라메터를 데이타셋으로 세팅
			cf_setArg("ds_condition", sArg);		
	}

    if (uf_isNull(ds_condition.GetColumn(0, "PSM_ID"))) {
    //alert(ds_condition.GetColumn(0, "PSM_ID"));
			//ds_condition.DeleteAll();

			ds_pcm01.DeleteAll();
			ds_pcm02.DeleteAll();
			ds_mod.DeleteAll();
			if(ds_pcm01.GetRowCount() < 1)
			{
				//ds_condition.AddRow();
				ds_pcm01.AddRow();
				ds_pcm02.AddRow();
				ds_mod.AddRow();
			}
			ds_pcm01.setColumn(0, "ORG_ID", ORG_ID);

			// 조회기준일시 셋팅.
			strDate = GetDate();	
			div_saleInfo.cal_searchDtm.Text = Mid(strDate,0,8);
			div_saleInfo.edt_hour.Value = Mid(strDate,8,2);	
			div_saleInfo.edt_min.Value = Mid(strDate,10,2);


			
			div_search.cmb_slNetCd.Index = 16;    //영업망
			div_saleInfo.cmb_saleTypCdMin.index = 0;   //가입유형=010신규
			div_saleInfo.cmb_dsNet.index = 1;   //유통망=T할부
			div_saleInfo.cmb_agrmtPrd.index = 1;   //유통망=T할부 24개월
			div_saleInfo.cmb_postDct03.index = 0;   //T할부지원금 선택

			
			div_prcInfo.cmb_preMth.index = 4;   //선납 현금,할부 선택
			
			ds_preMth.DeleteAll();
			ds_preMth.AddRow();
			ds_preMth.setColumn(0, "COMM_CD_VAL", "18");
			ds_preMth.setColumn(0, "COMM_CD_VAL_NM", "18개월");
			ds_preMth.AddRow();
			ds_preMth.setColumn(1, "COMM_CD_VAL", "24");
			ds_preMth.setColumn(1, "COMM_CD_VAL_NM", "24개월");
			ds_preMth.AddRow();
			ds_preMth.setColumn(2, "COMM_CD_VAL", "30");
			ds_preMth.setColumn(2, "COMM_CD_VAL_NM", "30개월");
			ds_preMth.AddRow();
			ds_preMth.setColumn(3, "COMM_CD_VAL", "36");
			ds_preMth.setColumn(3, "COMM_CD_VAL_NM", "36개월");
			div_prcInfo.cmb_preMth.index = 1;
			div_prcInfo.cmb_preMth.Enable = true;   //선납 현금,할부 선택
			
			div_saleInfo.cmb_gnrlCharge01.index = 0;   //일반요금제선택
			div_saleInfo.cmb_supl01.index = 0;   //부가서비스
			div_saleInfo.cmb_supl02.index = 0;   //부가서비스
			div_saleInfo.cmb_supl03.index = 0;   //부가서비스
			div_saleInfo.cmb_supl04.index = 0;   //부가서비스
			
			div_saleInfo.Combo0.index = 4;   //부가서비스
			div_saleInfo.Combo1.index = 2;   //부가서비스
			div_saleInfo.Combo2.index = 3;   //부가서비스
			div_saleInfo.Combo3.index = 0;   //부가서비스

			//if (div_saleInfo.cmb_chgrg.index < 0) {
			//	div_saleInfo.cmb_chgrg.index = 0;   
			//}
			if (div_saleInfo.cmb_gnrlCharge01.index < 0) {
				div_saleInfo.cmb_gnrlCharge01.index = 0;   
			}
			if (div_saleInfo.cmb_gnrlCharge.index < 0) {
				div_saleInfo.cmb_gnrlCharge.index = 0;   
			}
			if (div_saleInfo.cmb_supl01.index < 0) {
				div_saleInfo.cmb_supl01.index = 0;   
				div_saleInfo.Combo0.index = 4;   //부가서비스
			}
			if (div_saleInfo.cmb_supl02.index < 0) {
				div_saleInfo.cmb_supl02.index = 0;   
				div_saleInfo.Combo1.index = 2;   //부가서비스
			}
			if (div_saleInfo.cmb_supl03.index < 0) {
				div_saleInfo.cmb_supl03.index = 0;   
				div_saleInfo.Combo2.index = 3;   //부가서비스
			}
			if (div_saleInfo.cmb_supl04.index < 0) {
				div_saleInfo.cmb_supl04.index = 0;   
				div_saleInfo.Combo3.index = 0;   //부가서비스
			}
	


    } else {
			ds_pcm01.setColumn(0, "ORG_ID", ORG_ID);
	
			// 트랜잭션 설정
			var sSvcID =  "svcSearch";
			var sInDs  =  "nc_input_fieldDs=ds_condition";
			var sOutDs =  "ds_pcm01=ds_pcm01";
				sOutDs += " ds_pcm02=ds_pcm02 ";   
				sOutDs += " ds_mod=ds_mod ";  
	
			var sArg   = "sktst.sal.PCM#getPcmDtl";
		
			// 공통 트랜잭션 호출
			cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
    
    }
	
}

function btn_pcmView_OnClick(obj)
{
    f_mod08(); 
	//alert(ds_irate.GetColumn(0,"COMM_CD_VAL"));
	ds_pcm01.SetColumn(0,"IRATE_CD",ds_irate.GetColumn(0,"COMM_CD_VAL"));  //이율
	ds_pcm01.SetColumn(0,"IRATE_NM",ds_irate.GetColumn(0,"COMM_CD_VAL_NM"));
	//alert(ds_pcm01.GetColumn(0,"IRATE_CD"));

	//NewWindow("","");
	open("sal::SALPCM00010.xml","id=AAA",1024,768,"TitleBar=true CloseFlag=true StatusBar=true");

}


function f_setCmCode()
{
	// 공통 코드를 위한 데이타셋 설정
	cf_setCommonCodeDsEnv();
	cf_setCommonCode("ds_00101",     "ZPOL_C_00101");  //영업망	 소매
	cf_setCommonCode("ds_00102",     "ZPOL_C_00102");  //영업망	 도매 
	cf_setCommonCode("ds_00103",     "ZPOL_C_00103");  //영업망	 온라인소매
	cf_setCommonCode("ds_00104",     "ZPOL_C_00104");  //영업망	 온라인도매
	cf_setCommonCode("ds_00105",     "ZPOL_C_00105");  //영업망	 M채널
	cf_setCommonCode("ds_irate",     "ZPCM_C_00700");  //이율

	
	//cf_setCommonCode("ds_slCL", "ZSAL_C_00260");  //영업구분
	
	cf_setCommonCode("ds_saleTypCdMin", "ZPOL_C_00040");  //판매유형코드 소
	cf_setCommonCode("ds_dsNet", "ZPOL_C_00110");  //유통망
	//cf_setCommonCode("ds_agrmtPrd",  "ZPOL_C_00230");  //약정기간
	ds_agrmtPrd.DeleteAll();
	ds_agrmtPrd.AddRow();
	ds_agrmtPrd.setColumn(0, "COMM_CD_VAL", "18");
	ds_agrmtPrd.setColumn(0, "COMM_CD_VAL_NM", "18개월");
	ds_agrmtPrd.AddRow();
	ds_agrmtPrd.setColumn(1, "COMM_CD_VAL", "24");
	ds_agrmtPrd.setColumn(1, "COMM_CD_VAL_NM", "24개월");
	div_saleInfo.cmb_agrmtPrd.index = 1;
	div_saleInfo.cmb_agrmtPrd.Enable = true;

	cf_setCommonCode("ds_gnrlCharge01",  "ZPCM_C_00100");  //요금제
	cf_setCommonCode("ds_gnrlChargeCl",  "ZPCM_C_00200");  //특정요금제

	cf_setCommonCode("ds_suplSet",  "ZPCM_C_00400");  //부가서비스
	//cf_setCommonCode("grd_list", "ZPCM_C_00400",null,1,0); //부가서비스

	
	
	
	// 설정된 코드를 기반으로 공통 코드를 추가 및 데이타 바인딩
	cf_checkCommonCode();
	

	var sale_cl = sf_convertDealCoClToSlCl(gds_session.GetColumn(0, "orgareacl1"));
    //alert(sale_cl);	
    if(sale_cl=="01") {
		ds_slNetCd.AppendDataset(ds_00101);
    } else if(sale_cl=="02") {
		ds_slNetCd.AppendDataset(ds_00102);
    } else if(sale_cl=="03") {
		ds_slNetCd.AppendDataset(ds_00103);
    } else if(sale_cl=="04") {
		ds_slNetCd.AppendDataset(ds_00104);
    } else if(sale_cl=="05") {
		ds_slNetCd.AppendDataset(ds_00105);
    } else {
		ds_slNetCd.AppendDataset(ds_00101);
		ds_slNetCd.AppendDataset(ds_00102);
		ds_slNetCd.AppendDataset(ds_00103);
		ds_slNetCd.AppendDataset(ds_00104);
		ds_slNetCd.AppendDataset(ds_00105);
    }




	//f_getSaleChgrgId();
	f_getSupl();    //부가서비스
	f_gnrlCharge(); //요금제  


	//df_search();
	ds_gnrlCharge01.InsertRow(0);
	ds_gnrlCharge01.SetColumn(0,"COMM_CD_VAL_NM","선택");  //제조사
	ds_gnrlCharge01.SetColumn(0,"COMM_CD_VAL","");
	ds_dsNet.SetColumn(2,"COMM_CD_VAL_NM","무약정스페셜할인");
	//alert(ds_irate.GetColumn(0,"COMM_CD_VAL"));
	ds_pcm01.SetColumn(0,"IRATE_CD",ds_irate.GetColumn(0,"COMM_CD_VAL"));  //이율
	ds_pcm01.SetColumn(0,"IRATE_NM",ds_irate.GetColumn(0,"COMM_CD_VAL_NM"));

	div_saleInfo.Combo0.index = 4;   //부가서비스
	div_saleInfo.Combo1.index = 2;   //부가서비스
	div_saleInfo.Combo2.index = 3;   //부가서비스
	div_saleInfo.Combo3.index = 0;   //부가서비스
	
	//div_search.cmb_slCL.index = 1;   //영업구분=도매
	div_search.cmb_slNetCd.Index = 16;    //영업망
	div_saleInfo.cmb_saleTypCdMin.index = 0;   //가입유형=010신규
	div_saleInfo.cmb_dsNet.index = 1;   //유통망=T할부
	div_saleInfo.cmb_agrmtPrd.index = 1;   //유통망=T할부
	div_saleInfo.cmb_gnrlCharge01.index = 0;   //일반요금제선택
	div_saleInfo.cmb_supl01.index = 0;   //부가서비스
	div_saleInfo.cmb_supl02.index = 0;   //부가서비스
	div_saleInfo.cmb_supl03.index = 0;   //부가서비스
	div_saleInfo.cmb_supl04.index = 0;   //부가서비스

    div_search.btn_agency.Enable = false;
    div_search.edt_agencyCdNm.Enable = false;


	if(ds_condition.GetRowCount() < 1)
	{
		ds_condition.AddRow();
	}

	/**
	FV_USER_ID        = gds_session.GetColumn(0, "loginid");	// 사용자ID
	FV_USER_NM        = gds_session.GetColumn(0, "usernm");		// 사용자명

	FV_ORG_ID         = gds_session.GetColumn(0, "orgid");				// 소속 
	FV_ORG_NM         = gds_session.GetColumn(0, "orgnm");				// 소속명
	FV_ORG_CL         = gds_session.GetColumn(0, "orgcl");				// 소속구분
	FV_AGENCY_ID      = gds_session.GetColumn(0, "posAgencyId");        // 소속 대리점ID
	FV_AGENCY_NM      = gds_session.GetColumn(0, "posAgencyNm");        // 소속 대리점명
	FV_AGENCY_UKEY_ID = gds_session.GetColumn(0, "posAgencyUkeyId");    // 소속 대리점UKEY ID	
	
	FV_ORG_AREA_ID            = gds_session.GetColumn(0, "orgareaid");			// 근무지 ID
	FV_ORG_AREA_NM            = gds_session.GetColumn(0, "orgareanm");			// 근무지명
	FV_ORG_AREA_POS_AGENCY_CD = gds_session.GetColumn(0, "orgareaposagencycd");	// 근무지 
	FV_ORG_AREA_UKEY_ID       = gds_session.GetColumn(0, "orgareaukeyid");      // 근무지ukeyid
	FV_ORG_AREA_SUB_CD        = gds_session.GetColumn(0, "orgareaukeysubcd");   // 근무지subcd
	FV_ORG_AREA_CHANNEL_CD    = gds_session.GetColumn(0, "orgareaukeychannelcd");  // 근무지 channelcd	
	FV_USER_GRP               = gds_session.GetColumn(0, "usergrp");			// 유저그룹
	FV_ORG_AREA_CL1           = gds_session.GetColumn(0, "orgareacl1");			// 근무지 구분
	FV_DUTY                   = gds_session.GetColumn(0, "duty");	   		    // 직책	
    **/

    //넘오온 파라메타값에 조직코드가 없다면...
    if (uf_isNull(ORG_ID)== true) {
		ds_pcm01.setColumn(0, "ORG_ID", gds_session.GetColumn(0, "posAgencyId"));
		ds_condition.setColumn(0, "ORG_ID", gds_session.GetColumn(0, "posAgencyId"));
		uf_enableAgencyByAuth("div_search", "edt_agencyCdNm,edt_agencyCd,btn_agency");

		ds_condition.setColumn(0, "SALE_PLC_CD", gds_session.GetColumn(0, "orgareaid"));
		ds_condition.setColumn(0, "SALE_PLC_NM", gds_session.GetColumn(0, "orgareanm"));	
		ds_pcm01.setColumn(0, "SALE_PLC_CD", gds_session.GetColumn(0, "orgareaid"));
		ds_pcm01.setColumn(0, "SALE_PLC_NM", gds_session.GetColumn(0, "orgareanm"));	
		//div_saleInfo.edt_salePlcNm.text = gds_session.GetColumn(0, "orgareanm");
		div_saleInfo.edt_salePlcUkeyCd.text = gds_session.GetColumn(0, "orgareaukeyid");
		div_saleInfo.edt_salePlcSubCd.text = gds_session.GetColumn(0, "orgareaukeysubcd");
		div_saleInfo.edt_salePlcChannelCd.text = gds_session.GetColumn(0, "orgareaukeychannelcd");

		uf_enableDealByAuth("div_saleInfo", "edt_salePlcNm,edt_salePlc,btn_salePlc");

    } else {
		ds_pcm01.setColumn(0, "ORG_ID", ORG_ID);
		ds_condition.setColumn(0, "ORG_ID", ORG_ID);
		ds_condition.setColumn(0, "ORG_NM", ORG_NM);
		ds_condition.setColumn(0, "ORG_UKEYCD", ORG_UKEYCD);
		uf_enableAgencyByAuth("div_search", "edt_agencyCdNm,edt_agencyCd,btn_agency");
		ds_pcm01.setColumn(0, "SALE_PLC_CD", SALE_PLC_CD);
		ds_pcm01.setColumn(0, "SALE_PLC_NM", SALE_PLC_NM);
		ds_condition.setColumn(0, "SALE_PLC_CD", SALE_PLC_CD);
		ds_condition.setColumn(0, "SALE_PLC_NM", SALE_PLC_NM);	
		//div_saleInfo.edt_salePlcNm.text = SALE_PLC_NM;
		div_saleInfo.edt_salePlcUkeyCd.text = SALE_PLC_UKEY_CD;
		div_saleInfo.edt_salePlcSubCd.text = SALE_PLC_SUB_CD;
		div_saleInfo.edt_salePlcChannelCd.text = SALE_PLC_CHANNEL_CD;
		uf_enableDealByAuth("div_saleInfo", "edt_salePlcNm,edt_salePlc,btn_salePlc");
	    //f_getSaleChgrgId();
		//alert(ds_condition.GetColumn(0, "SALE_PLC_NM"));
    }

	ds_condition.setColumn(0, "SAL_YM", SAL_YM);
	ds_condition.setColumn(0, "ORG_ID", ORG_ID);
	ds_condition.setColumn(0, "PSM_ID", PSM_ID);

	
	f_sl_cl();
	f_setPcm();


}


/*******************************************************************************
* 함수명 : div_search_btn_org_OnClick
* 기능명 :  대리점 찾기 팜업 버튼
*******************************************************************************/
function div_search_btn_agency_OnClick(obj)
{
	div_search.edt_agencyCdNm.Text = "";
	div_search.edt_agencyUkeyCd.Text = "";
	div_search.edt_agencyCd.Text = "";
	
	uf_clearControls("div_search.edt_agencyCd,div_search.edt_agencyUkeyCd");		

	var sArg  = "org_id="+quote(FV_ORG_ID); 
	    sArg += " org_cl="+quote(FV_ORG_CL); 
	
    if(div_search.edt_agencyCdNm.Text == "전체"){
       div_search.edt_agencyCdNm = "";
    }	
	cf_callAgencyPop(sArg, div_search, "edt_agencyCdNm,edt_agencyCd,edt_agencyUkeyCd");
	if(uf_isNull(FV_STR_POP_RESULT) == true) return;
	//f_getSaleChgrgId();
}

/*******************************************************************************
* 함수명 : div_search_edt_hour_OnChanged
* 기능명 :  조회기준일시 시간 변경시 
*******************************************************************************/
function div_saleInfo_edt_hour_OnChanged(obj,strText)
{
	if(uf_isNull(strText) == false){
		
		if(length(strText) !=2) {
			
			strText = Lpad(strText,"0",2);
			ds_pcm.SetColumn(0,"SEARCH_HOUR",strText);
			ds_condition.SetColumn(0,"SEARCH_HOUR",strText);
		}
		
		if(strText > 23){
			ds_pcm.SetColumn(0,"SEARCH_HOUR","00");
			ds_condition.SetColumn(0,"SEARCH_HOUR","00");
			obj.SetFocus();
			alert("23시를 초과할수 없습니다.");
			return false;
		}
	}
}

/*******************************************************************************
* 함수명 : div_search_edt_min_OnChanged
* 기능명 :  조회기준일시 분 변경시 
*******************************************************************************/
function div_saleInfo_edt_min_OnChanged(obj,strText)
{
		if(uf_isNull(strText) == false){
	
		if(length(strText) !=2) {
			strText = Lpad(strText,"0",2);
			ds_pcm.SetColumn(0,"SEARCH_MINUTE",strText);
			ds_condition.SetColumn(0,"SEARCH_MINUTE",strText);
		}
		
		if(strText > 59){
			ds_pcm.SetColumn(0,"SEARCH_MINUTE","00");
			ds_condition.SetColumn(0,"SEARCH_MINUTE","00");
			obj.SetFocus();
			alert("59분을 초과할수 없습니다.");
			return false;
		}
	}
}

function div_saleInfo_edt_salePlcNm_OnCharChanged(obj,strPreText,strPostText)
{
	//sf_clearControls("div_saleInfo.edt_salePlcUkeyCd,div_saleInfo.edt_salePlcSubCd,div_saleInfo.edt_salePlcChannelCd,div_saleInfo.edt_salePlc");
	
}

function div_saleInfo_edt_salePlcNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if(nChar == 13)
	{
		if(uf_IsNull(div_search.edt_agencyCd.value)){
		
			alert(cf_getMessage(MSG_00121, "대리점;조회"));
			div_search_btn_agency_OnClick();
			return;
		}		
        lf_getSalePlcInfo();
		if(uf_isNull(FV_STR_POP_RESULT) == true) return;
		f_sl_cl();
		f_setPcm();
	}
	
}

function lf_getSalePlcInfo()
{

	//alert(div_search.edt_agencyCd.Text + "||" + ORG_ID);
	sf_clearControls("div_saleInfo.edt_salePlcUkeyCd,div_saleInfo.edt_salePlcSubCd,div_saleInfo.edt_salePlcChannelCd,div_saleInfo.edt_salePlc");
    //f_sl_cl();

	var sArg  = "deal_co_cl1="+quote("A2,A3,A4,B1,B2,C1"); // 필수 물류창고, 직영점, 판매점
	//var sArg  = "deal_co_cl1="+quote(sf_convertSlClToDealCoCl(ds_pcm01.GetColumn(0,"SL_CL")));
		//sArg += " deal_status="+quote("3"); 	//옵션 (거래처 상태) - 1: 수납정지 N  , 2: 출고정지 N , 3: 판매정지 N
		sArg += " pos_agency="+quote(div_search.edt_agencyCd.Text ); // 옵션
		//sArg += " eff_dtm="+quote(div_condition.cal_procDtFr.Value);

	cf_callDealPop(sArg, div_saleInfo, "edt_salePlcNm,edt_salePlc,edt_salePlcUkeyCd,edt_salePlcSubCd,edt_salePlcChannelCd");

}

function div_saleInfo_btn_salePlc_OnClick(obj)
{

	div_saleInfo.edt_salePlcNm.Text = "";
	div_saleInfo.edt_salePlcUkeyCd.Text = "";
	div_saleInfo.edt_salePlcSubCd.Text = "";
	div_saleInfo.edt_salePlcChannelCd.Text = "";
	div_saleInfo.edt_salePlc.Text = "";

	if(uf_IsNull(div_search.edt_agencyCd.value)){
	
		alert(cf_getMessage(MSG_00121, "대리점;조회"));
		div_search_btn_agency_OnClick();
		return;
	}		

    lf_getSalePlcInfo();
	if(uf_isNull(FV_STR_POP_RESULT) == true) return;
	f_sl_cl();
	f_setPcm();
	
}

function div_saleInfo_btn_salePlc_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if(nChar == 13)
	{
		if(uf_IsNull(div_search.edt_agencyCd.value)){
		
			alert(cf_getMessage(MSG_00121, "대리점;조회"));
			div_search_btn_agency_OnClick();
			return;
		}		
        lf_getSalePlcInfo();
		if(uf_isNull(FV_STR_POP_RESULT) == true) return;
		f_sl_cl();
		f_setPcm();
	}
	
}




/*******************************************************************************
 * @description    : 판매담당자 리스트 조회
*******************************************************************************/
function f_getSaleChgrgId()
{

	var sAgency = div_search.edt_agencyCd.Text;
	ds_condition.setColumn(0, "ORG_ID", div_search.edt_agencyCd.Text);


	//if( uf_isNull(sAgency) == true) return;

	ds_input.Clear();

	// 넘길 파라메터 설정
	cf_setParam(ds_input, "agency_cd", sAgency);

	// 트랜잭션 설정
	var sSvcID = "svcSaleChgrgId";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_saleChgrgId=ds_ReqUser";
	var sArg   = "sktst.sal.SCO#getUserList";

	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
* 함수명 : f_callBack 
* 기능명 : 트랜잭션 콜백 
* 파라미터
1. sSvcID  : 서비스 아이디
*******************************************************************************/
function f_callBack(sSvcID)
{	
	if(sSvcID == "svcSearch")
	{
		//f_lastYnSet();
		//div_search.cmb_org.Index = 0;   
		//trace(ds_spolCmmsMgmt.SaveXML());

		ds_condition.setColumn(0, "SEARCH_DTM", ds_pcm01.GetColumn(0, "SEARCH_DTM"));
		ds_condition.setColumn(0, "SEARCH_HOUR", ds_pcm01.GetColumn(0, "SEARCH_HOUR"));
		ds_condition.setColumn(0, "SEARCH_MINUTE", ds_pcm01.GetColumn(0, "SEARCH_MINUTE"));
		ds_condition.setColumn(0, "SALE_PLC_CD", ds_pcm01.GetColumn(0, "SALE_PLC_CD"));
		ds_condition.setColumn(0, "EQP_MDL_CD", ds_pcm01.GetColumn(0, "EQP_MDL_CD"));
		ds_condition.setColumn(0, "GNRL_CHARGE_01", ds_pcm01.GetColumn(0, "GNRL_CHARGE_01"));
		f_gnrlCharge("aa");	
		ds_condition.setColumn(0, "DS_NET_CD", ds_pcm01.GetColumn(0, "DS_NET_CD"));
		ds_condition.setColumn(0, "SL_NET_CD", ds_pcm01.GetColumn(0, "SL_NET_CD"));
		//ds_condition.setColumn(0, "COMM_CD_ID", ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID"));
		//ds_condition.setColumn(0, "COMM_CD_ID", ds_pcm01.GetColumn(0, "COMM_CD_ID"));
		ds_condition.setColumn(0, "AGRMT_PRD_CD", ds_pcm01.GetColumn(0, "AGRMT_PRD_CD"));
		ds_condition.setColumn(0, "ORG_ID", ds_pcm01.GetColumn(0, "ORG_ID"));
		ds_condition.setColumn(0, "SALE_TYPE_CD_MIN", ds_pcm01.GetColumn(0, "SALE_TYPE_CD_MIN"));
		//ds_condition.setColumn(0, "EQP_CHRTIC", ds_pcm01.GetColumn(0, "EQP_CHRTIC"));
		//ds_condition.setColumn(0, "EQP_TYP_CL", ds_pcm01.GetColumn(0, "EQP_TYP_CL"));

		
		ds_condition.setColumn(0, "SAL_YM", ds_pcm01.GetColumn(0, "SAL_YM"));
		ds_condition.setColumn(0, "PSM_ID", ds_pcm01.GetColumn(0, "PSM_ID"));
		ds_condition.setColumn(0, "DEL_YN", ds_pcm01.GetColumn(0, "DEL_YN"));
		ds_condition.setColumn(0, "UPD_CNT", ds_pcm01.GetColumn(0, "UPD_CNT"));
		ds_condition.setColumn(0, "INS_USER_ID", ds_pcm01.GetColumn(0, "INS_USER_ID"));
		ds_condition.setColumn(0, "INS_DTM", ds_pcm01.GetColumn(0, "INS_DTM"));
		ds_condition.setColumn(0, "MOD_USER_ID", ds_pcm01.GetColumn(0, "MOD_USER_ID"));
		ds_condition.setColumn(0, "MOD_DTM", ds_pcm01.GetColumn(0, "MOD_DTM"));


		//if (div_saleInfo.cmb_chgrg.index < 0) {
		//	div_saleInfo.cmb_chgrg.index = 0;   
		//}

		
		
	
		if (div_saleInfo.cmb_gnrlCharge01.index < 0) {
			div_saleInfo.cmb_gnrlCharge01.index = 0;   
		}
		if (div_saleInfo.cmb_gnrlCharge.index < 0) {
			//div_saleInfo.cmb_gnrlCharge.index = 0;   
		}
		if (div_saleInfo.cmb_supl01.index < 0) {
			div_saleInfo.cmb_supl01.index = 0;   
		}
		if (div_saleInfo.cmb_supl02.index < 0) {
			div_saleInfo.cmb_supl02.index = 0;   
		}
		if (div_saleInfo.cmb_supl03.index < 0) {
			div_saleInfo.cmb_supl03.index = 0;   
		}
		if (div_saleInfo.cmb_supl04.index < 0) {
			div_saleInfo.cmb_supl04.index = 0;   
		}



	}
	else if(sSvcID == "svcProdInfo")    //모델
	{
	    //http.Sync = true;
	    //trace(ds_prodInfo.SaveXML());
		if ( ds_prodInfo.getColumn(0, "EQP_CHRTIC_NM2") == "부진재고" && ds_dsNet.GetColumn(div_saleInfo.cmb_dsNet.Index ,"COMM_CD_VAL") == "1" ) {
				alert("부진재고는 T할부대상이 아닙니다.");
				ds_condition.setColumn(0, "EQP_MDL_CD", "");
				div_saleInfo.edt_ProdCd.Text = "";
				div_saleInfo.edt_ProdNm.Text = "";
				ds_pcm01.setColumn(0, "EQP_MDL_CD", "");
				ds_pcm01.setColumn(0, "EQP_MDL_NM", "");

				return;
		}

		ds_pcm01.setColumn(0, "EQP_CHRTIC_NM1", ds_prodInfo.getColumn(0, "EQP_CHRTIC_NM1"));
		ds_pcm01.setColumn(0, "EQP_CHRTIC_NM2", ds_prodInfo.getColumn(0, "EQP_CHRTIC_NM2"));
		ds_pcm01.setColumn(0, "EQP_CHRTIC_NM3", ds_prodInfo.getColumn(0, "EQP_CHRTIC_NM3"));
		ds_pcm01.setColumn(0, "EQP_CHRTIC_NM4", ds_prodInfo.getColumn(0, "EQP_CHRTIC_NM4"));
		

		ds_pcm01.setColumn(0, "FIX_CRDT_PRCHS_PRC", ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"));
		//alert(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"));
		//http.Sync = false;

		
		
		f_sl_cl();
		if(uf_isNull(ds_condition.GetColumn(0,"SALE_PLC_CD")) == false) {

			f_getMargin();    //마진 정보 가져오기
		}
		if(uf_isNull(ds_condition.GetColumn(0,"EQP_MDL_CD")) == false) {
			f_polpcm();    //가격표 정보 가져오기
		}
		
	}
	else if(sSvcID == "svcMargin")  //마진조회
	{
		ds_mod.setColumn(0, "mod_02", ds_margin.getColumn(0, "MARGIN_AMT"));

		f_sl_cl();				
		if(uf_isNull(ds_condition.GetColumn(0,"EQP_MDL_CD")) == false) {
			f_polpcm();    //가격표 정보 가져오기
		}

	}
	else if(sSvcID == "svcPolPsm")  //가격표조회
	{
	
	
		var nAUnit = 1000;
		var nEnv   = "";

		//alert(SubStr(ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL"),0,2));

		if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00101") { //소매
			nEnv = "ALLOT_SALE_PRC_RET_"+ ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL") + "_"+div_saleInfo.cmb_saleTypCdMin.Index;
			if (ds_dsNet.GetColumn(div_saleInfo.cmb_dsNet.Index,"COMM_CD_VAL") == "2") {  //T기본약정
				if (SubStr(ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL"),0,2) == "S1") {   //신규
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,"NEW_AGRMT_AMT"))/ToNumber(nAUnit))*ToNumber(nAUnit));
				} else if (SubStr(ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL"),0,2) == "S2") {  //기변
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,"CHG_AGRMT_AMT"))/ToNumber(nAUnit))*ToNumber(nAUnit));
				} else {   //중고
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit)));
				}
			} else if (ds_dsNet.GetColumn(div_saleInfo.cmb_dsNet.Index,"COMM_CD_VAL") == "1") {  //T할부
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit)));
			} else {  //무약정
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit)));
			}
		} else if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00102") { //도매
			nEnv = "SALE_CMMS_"+ ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL") + "_"+div_saleInfo.cmb_saleTypCdMin.Index;
			ds_mod.SetColumn(0, "mod_01", Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit));
		} else if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00103") { //온라인소매
			nEnv = "ALLOT_SALE_PRC_RET_"+ ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL") + "_"+div_saleInfo.cmb_saleTypCdMin.Index;
			if (ds_dsNet.GetColumn(div_saleInfo.cmb_dsNet.Index,"COMM_CD_VAL") == "2") {  //T기본약정
				if (SubStr(ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL"),0,2) == "S1") {   //신규
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,"NEW_AGRMT_AMT"))/ToNumber(nAUnit))*ToNumber(nAUnit));
				} else if (SubStr(ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL"),0,2) == "S2") {  //기변
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,"CHG_AGRMT_AMT"))/ToNumber(nAUnit))*ToNumber(nAUnit));
				} else {   //중고
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit)));
				}
			} else if (ds_dsNet.GetColumn(div_saleInfo.cmb_dsNet.Index,"COMM_CD_VAL") == "1") {  //T할부
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit)));
			} else {  //무약정
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit)));
			}
		} else if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00104") { //온라인도매
			nEnv = "SALE_CMMS_"+ ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL") + "_"+div_saleInfo.cmb_saleTypCdMin.Index;
			ds_mod.SetColumn(0, "mod_01", Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit));
		} else if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00105") { //M채널
			nEnv = "ALLOT_SALE_PRC_RET_"+ ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL") + "_"+div_saleInfo.cmb_saleTypCdMin.Index;
			if (ds_dsNet.GetColumn(div_saleInfo.cmb_dsNet.Index,"COMM_CD_VAL") == "2") {  //T기본약정
				if (SubStr(ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL"),0,2) == "S1") {   //신규
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,"NEW_AGRMT_AMT"))/ToNumber(nAUnit))*ToNumber(nAUnit));
				} else if (SubStr(ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL"),0,2) == "S2") {  //기변
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,"CHG_AGRMT_AMT"))/ToNumber(nAUnit))*ToNumber(nAUnit));
				} else {   //중고
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit)));
				}
			} else if (ds_dsNet.GetColumn(div_saleInfo.cmb_dsNet.Index,"COMM_CD_VAL") == "1") {  //T할부
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit)));
			} else {  //무약정
					ds_mod.SetColumn(0, "mod_01", (ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))-Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit)));
			}
		}



		//nEnv = "SALE_CMMS_"+ ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index, "COMM_CD_VAL") + "_"+div_saleInfo.cmb_saleTypCdMin.Index;
		//alert(nEnv);
		//alert(Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit));
		//ds_mod.SetColumn(0, "mod_01", Floor(ToNumber(ds_polSplstTmp.GetColumn(0,nEnv))/ToNumber(nAUnit))*ToNumber(nAUnit));

		f_sl_cl();				
		if(uf_isNull(ds_condition.GetColumn(0,"EQP_MDL_CD")) == false) {
			getSAmtInfo();    //유통망별지원금 정보 가져오기
		}

	}
	else if(sSvcID == "svcSAmtInfo")  //유통망별지원금
	{


        if ( ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL") == "12" ) {
				ds_sAmtInfo.SetColumn(0, "AGRMT_AMT", ds_sAmtInfo.getColumn(0, "DS_AMT_12"));
				ds_sAmtInfo.SetColumn(0, "ALLOT_AMT", "0");
        } else if ( ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL") == "18" ) {
				ds_sAmtInfo.SetColumn(0, "AGRMT_AMT", ds_sAmtInfo.getColumn(0, "DS_AMT_18"));
				ds_sAmtInfo.SetColumn(0, "ALLOT_AMT", ds_sAmtInfo.getColumn(0, "ALLOT_AMT_18"));
        } else if ( ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL") == "24" ) {
				ds_sAmtInfo.SetColumn(0, "AGRMT_AMT", ds_sAmtInfo.getColumn(0, "DS_AMT_24"));
				ds_sAmtInfo.SetColumn(0, "ALLOT_AMT", ds_sAmtInfo.getColumn(0, "ALLOT_AMT_24"));
        } else if ( ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL") == "36" ) {
				ds_sAmtInfo.SetColumn(0, "AGRMT_AMT", "0");
				ds_sAmtInfo.SetColumn(0, "ALLOT_AMT", "0");
        }


		ds_pcm02.setColumn(0, "PRE_DCT_02", ds_sAmtInfo.getColumn(0, "AGRMT_AMT"));
		ds_pcm02.setColumn(0, "POST_DCT_03", ds_sAmtInfo.getColumn(0, "ALLOT_AMT"));
		

		
		if (ds_dsNet.getColumn(div_saleInfo.cmb_dsNet.index, "COMM_CD_VAL") == "1") {
			ds_pcm02.setColumn(0, "MTH_DCT_AMT", Floor(ToNumber(ds_sAmtInfo.getColumn(0, "ALLOT_AMT"))/ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))));
		} else {
			ds_pcm02.setColumn(0, "MTH_DCT_AMT", 0);
			//ds_pcm02.setColumn(0, "MTH_DCT_AMT", ds_sAmtInfo.getColumn(0, "MONTH_DC_AMT"));
		}


		if (div_saleInfo.cmb_dsNet.index == 1) {
			ds_pcm02.setColumn(0, "POST_DCT_03_SET", ToNumber(ds_sAmtInfo.getColumn(0, "ALLOT_AMT"))/ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL")));
		} else {
			ds_pcm02.setColumn(0, "POST_DCT_03_SET", "0");
			//ds_pcm02.setColumn(0, "POST_DCT_03_SET", ds_sAmtInfo.getColumn(0, "AGRMT_AMT"));
			//ds_pcm02.setColumn(0, "POST_DCT_03_SET", ToNumber(ds_sAmtInfo.getColumn(0, "ALLOT_AMT"))/ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL")));
		}
		
		f_mod10();
	


	}
	else if(sSvcID == "svcSaleChgrgId")  //판매담당
	{
		//cf_setInitDataForCmb(div_saleInfo.cmb_chgrg, "선택");
	}
	else if(sSvcID == "svcSupl")   //부가서비스
	{
		ds_supl01.InsertRow(0);
		ds_supl01.SetColumn(0,"SUPL_SVC_NM","미가입"); 
		ds_supl01.SetColumn(0,"SUPL_SVC_CD","");
		ds_supl01.SetColumn(0,"MONTH_CHARGE_AMT","0");
		ds_supl01.SetColumn(0,"ADD_IC_AMT","0");
		ds_supl01.SetColumn(0,"PENALTY_AMT","0");
		ds_supl02.InsertRow(0);
		ds_supl02.SetColumn(0,"SUPL_SVC_NM","미가입"); 
		ds_supl02.SetColumn(0,"SUPL_SVC_CD","");
		ds_supl02.SetColumn(0,"MONTH_CHARGE_AMT","0");
		ds_supl02.SetColumn(0,"ADD_IC_AMT","0");
		ds_supl02.SetColumn(0,"PENALTY_AMT","0");
		ds_supl03.InsertRow(0);
		ds_supl03.SetColumn(0,"SUPL_SVC_NM","미가입"); 
		ds_supl03.SetColumn(0,"SUPL_SVC_CD","");
		ds_supl03.SetColumn(0,"MONTH_CHARGE_AMT","0");
		ds_supl03.SetColumn(0,"ADD_IC_AMT","0");
		ds_supl03.SetColumn(0,"PENALTY_AMT","0");
		ds_supl04.InsertRow(0);
		ds_supl04.SetColumn(0,"SUPL_SVC_NM","미가입"); 
		ds_supl04.SetColumn(0,"SUPL_SVC_CD","");
		ds_supl04.SetColumn(0,"MONTH_CHARGE_AMT","0");
		ds_supl04.SetColumn(0,"ADD_IC_AMT","0");
		ds_supl04.SetColumn(0,"PENALTY_AMT","0");
		ds_supl05.InsertRow(0);
		ds_supl05.SetColumn(0,"SUPL_SVC_NM","미가입"); 
		ds_supl05.SetColumn(0,"SUPL_SVC_CD","");
		ds_supl05.SetColumn(0,"MONTH_CHARGE_AMT","0");
		ds_supl05.SetColumn(0,"ADD_IC_AMT","0");
		ds_supl05.SetColumn(0,"PENALTY_AMT","0");


	
		if        ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index, "COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
						div_saleInfo.cmb_supl01.InnerDataset = "ds_supl01";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index, "COMM_CD_VAL") == "CB02" ) {   //TU계열
						div_saleInfo.cmb_supl01.InnerDataset = "ds_supl02";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index, "COMM_CD_VAL") == "CB03" ) {   //메시지계열
						div_saleInfo.cmb_supl01.InnerDataset = "ds_supl03";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index, "COMM_CD_VAL") == "CB04" ) {   //VAS계열
						div_saleInfo.cmb_supl01.InnerDataset = "ds_supl04";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index, "COMM_CD_VAL") == "CB05" ) {   //통정계열
						div_saleInfo.cmb_supl01.InnerDataset = "ds_supl05";
		} else {
						div_saleInfo.cmb_supl01.InnerDataset = "ds_supl05";
						div_saleInfo.Combo0.Index = 4;
		}
		
		
		if        ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index, "COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
						div_saleInfo.cmb_supl02.InnerDataset = "ds_supl01";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index, "COMM_CD_VAL") == "CB02" ) {   //TU계열
						div_saleInfo.cmb_supl02.InnerDataset = "ds_supl02";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index, "COMM_CD_VAL") == "CB03" ) {   //메시지계열
						div_saleInfo.cmb_supl02.InnerDataset = "ds_supl03";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index, "COMM_CD_VAL") == "CB04" ) {   //VAS계열
						div_saleInfo.cmb_supl02.InnerDataset = "ds_supl04";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index, "COMM_CD_VAL") == "CB05" ) {   //통정계열
						div_saleInfo.cmb_supl02.InnerDataset = "ds_supl05";
		} else {
						div_saleInfo.cmb_supl02.InnerDataset = "ds_supl03";
						div_saleInfo.Combo1.Index = 2;
		}


		if        ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index, "COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
						div_saleInfo.cmb_supl03.InnerDataset = "ds_supl01";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index, "COMM_CD_VAL") == "CB02" ) {   //TU계열
						div_saleInfo.cmb_supl03.InnerDataset = "ds_supl02";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index, "COMM_CD_VAL") == "CB03" ) {   //메시지계열
						div_saleInfo.cmb_supl03.InnerDataset = "ds_supl03";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index, "COMM_CD_VAL") == "CB04" ) {   //VAS계열
						div_saleInfo.cmb_supl03.InnerDataset = "ds_supl04";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index, "COMM_CD_VAL") == "CB05" ) {   //통정계열
						div_saleInfo.cmb_supl03.InnerDataset = "ds_supl05";
		} else {
						div_saleInfo.cmb_supl03.InnerDataset = "ds_supl04";
						div_saleInfo.Combo2.Index = 3;
		}
		
		//alert(ds_suplSet.GetColumn(div_saleInfo.Combo2.Index, "COMM_CD_VAL"));

		if        ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index, "COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
						div_saleInfo.cmb_supl04.InnerDataset = "ds_supl01";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index, "COMM_CD_VAL") == "CB02" ) {   //TU계열
						div_saleInfo.cmb_supl04.InnerDataset = "ds_supl02";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index, "COMM_CD_VAL") == "CB03" ) {   //메시지계열
						div_saleInfo.cmb_supl04.InnerDataset = "ds_supl03";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index, "COMM_CD_VAL") == "CB04" ) {   //VAS계열
						div_saleInfo.cmb_supl04.InnerDataset = "ds_supl04";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index, "COMM_CD_VAL") == "CB05" ) {   //통정계열
						div_saleInfo.cmb_supl04.InnerDataset = "ds_supl05";
		} else {
						div_saleInfo.cmb_supl04.InnerDataset = "ds_supl01";
						div_saleInfo.Combo3.Index = 0;
		}
	
	
	}
	else if(sSvcID == "svcGnrlCharge")   //요금제
	{
		ds_gnrlCharge.InsertRow(0);
		ds_gnrlCharge.SetColumn(0,"SUPL_SVC_NM","요금제 선택"); 
		ds_gnrlCharge.SetColumn(0,"SUPL_SVC_CD","");

		if (div_saleInfo.cmb_gnrlCharge.index < 0) {
			div_saleInfo.cmb_gnrlCharge.index = 0;   
		}

	}





	if(sSvcID == "svcAdd")
	{
		var sArg  = " SAL_YM=" + quote(substr(ds_pcm01.getColumn(0,"SEARCH_DTM"),0,6)); 
			sArg += " ORG_ID=" + quote(ds_pcm01.getColumn(0,"ORG_ID"));
			sArg += " ORG_NM=" + quote(ds_condition.getColumn(0,"ORG_NM")); 
			sArg += " ORG_UKEYCD=" + quote(ds_condition.getColumn(0,"ORG_UKEYCD")); 
			//sArg += " ORG_ID=" + quote(ds_pcm01.getColumn(0,"ORG_ID"));
		gf_OpenWindow( "100000792", sArg); 
		this.close();
	}
	if(sSvcID == "svcSave")
	{
		var sArg  = "SAL_YM=" + quote(substr(ds_pcm01.getColumn(0,"SEARCH_DTM"),0,6)); 
			sArg += " ORG_ID=" + quote(ds_pcm01.getColumn(0,"ORG_ID"));
			sArg += " ORG_NM=" + quote(ds_condition.getColumn(0,"ORG_NM")); 
			sArg += " ORG_UKEYCD=" + quote(ds_condition.getColumn(0,"ORG_UKEYCD")); 
		gf_OpenWindow( "100000792", sArg); 
		this.close();
	}
	if(sSvcID == "svcDelete")
	{
		var sArg  = "SAL_YM=" + quote(substr(ds_pcm01.getColumn(0,"SEARCH_DTM"),0,6)); 
			sArg += " ORG_ID=" + quote(ds_pcm01.getColumn(0,"ORG_ID"));
			sArg += " ORG_NM=" + quote(ds_condition.getColumn(0,"ORG_NM")); 
			sArg += " ORG_UKEYCD=" + quote(ds_condition.getColumn(0,"ORG_UKEYCD")); 
		gf_OpenWindow( "100000792", sArg); 
		this.close();
	}

}



/*******************************************************************************
 * @description    : 모델 OnCharChanged 이벤트
*******************************************************************************/
function div_saleInfo_edt_ProdCd_OnCharChanged(obj,strPreText,strPostText)
{
	if (strPreText != strPostText)
	{
		div_saleInfo.edt_ProdNm.value = "";
	}		
	
}

function div_saleInfo_edt_ProdCd_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if (nChar == 13)
	{
		if(uf_IsNull(div_search.edt_agencyCd.value)){
		
			alert(cf_getMessage(MSG_00121, "대리점;조회"));
			div_search_btn_agency_OnClick();
			return;
		}		
		cf_commPopProd("div_saleInfo.edt_ProdCd", "div_saleInfo.edt_ProdNm", nChar);
		if(uf_isNull(FV_STR_POP_RESULT) == true) return;
		//alert(div_saleInfo.edt_ProdCd.Text);
		ds_condition.setColumn(0, "EQP_MDL_CD", div_saleInfo.edt_ProdCd.Text);
		getProdInfo();    //모델 정보 가져오기
		//f_sl_cl();
	
	
	}			
	
}

function div_saleInfo_btn_ProdCd_OnClick(obj)
{
	if(uf_IsNull(div_search.edt_agencyCd.value)){
	
		alert(cf_getMessage(MSG_00121, "대리점;조회"));
		div_search_btn_agency_OnClick();
		return;
	}		
	
	cf_commPopProd("div_saleInfo.edt_ProdCd", "div_saleInfo.edt_ProdNm", 13);
//alert(div_saleInfo.edt_ProdCd.Text);]
	if(uf_isNull(div_saleInfo.edt_ProdCd.Text) == true) return;
	ds_condition.setColumn(0, "EQP_MDL_CD", div_saleInfo.edt_ProdCd.Text);
	getProdInfo();    //모델 정보 가져오기
	//f_sl_cl();
	
}

function div_saleInfo_edt_ProdNm_OnCharChanged(obj,strPreText,strPostText)
{
	if (strPreText != strPostText)
	{
        
	}		
	
}

function div_saleInfo_edt_salePlc_OnChanged(obj,strText)
{
	//alert(strText);
}

function div_saleInfo_edt_ProdNm_OnChanged(obj,strText)
{
	//ds_condition.setColumn(0, "EQP_MDL_CD", div_saleInfo.edt_ProdCd.Text);
	//alert(ds_condition.GetColumn(0, "EQP_MDL_CD"));
	//getProdInfo();    //모델 정보 가져오기
}

/*******************************************************************************
 * @description    : 모델조회
*******************************************************************************/
function getProdInfo()
{
	ds_condition.setColumn(0, "SEARCH_DTM", ds_pcm01.GetColumn(0, "SEARCH_DTM"));
	ds_condition.setColumn(0, "SEARCH_HOUR", ds_pcm01.GetColumn(0, "SEARCH_HOUR"));
	ds_condition.setColumn(0, "SEARCH_MINUTE", ds_pcm01.GetColumn(0, "SEARCH_MINUTE"));

	ds_condition.setColumn(0, "COMM_CD_ID", ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID"));
	ds_condition.setColumn(0, "SL_NET_CD", ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_VAL"));
	ds_condition.setColumn(0, "EQP_MDL_CD", div_saleInfo.edt_ProdCd.Text);
	var sSvcID = "svcProdInfo";
	var sInDs = "nc_input_fieldDs=ds_condition";
	var sOutDs = " ds_prodInfo=ds_prodInfo ";
	var sArg = "sktst.sal.PCM#getProdInfo";
	
    if(uf_isNull(ds_condition.getColumn(0, "COMM_CD_ID")) == false) {   //도소매구분값이 있을때만....
		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
    }
}

/*******************************************************************************
 * @description    : 단말기선후지원금액조회
*******************************************************************************/
function getSAmtInfo()
{

	if (div_saleInfo.cmb_dsNet.index == 1 ) {
			if (SubStr(ds_pcm01.GetColumn(0,"EQP_CHRTIC_NM3"),0,1) == "S") {
				ds_condition.setColumn(0, "EQP_CHRTIC", "0");
				ds_condition.setColumn(0, "EQP_TYP_CL", "CC01");
			} else if (SubStr(ds_pcm01.GetColumn(0,"EQP_CHRTIC_NM3"),0,1) == "F") {
				ds_condition.setColumn(0, "EQP_CHRTIC", "0");
				ds_condition.setColumn(0, "EQP_TYP_CL", "CC02");
			}
	} else if (div_saleInfo.cmb_dsNet.index == 0 ) {
			if (ds_pcm01.GetColumn(0,"EQP_CHRTIC_NM2") == "가군") {
				ds_condition.setColumn(0, "EQP_CHRTIC", "4");
			} else if (ds_pcm01.GetColumn(0,"EQP_CHRTIC_NM2") == "나군") {
				ds_condition.setColumn(0, "EQP_CHRTIC", "5");
			} else if (ds_pcm01.GetColumn(0,"EQP_CHRTIC_NM2") == "부진재고") {
				ds_condition.setColumn(0, "EQP_CHRTIC", "6");
			}
			
				ds_condition.setColumn(0, "EQP_TYP_CL", "CC00");
	} else {
				ds_condition.setColumn(0, "EQP_CHRTIC", "");
				ds_condition.setColumn(0, "EQP_TYP_CL", "");
	}




	var sSvcID = "svcSAmtInfo";
	var sInDs = "nc_input_fieldDs=ds_condition";
	var sOutDs = " ds_sAmtInfo=ds_sAmtInfo ";
	var sArg = "sktst.sal.PCM#getSAmtInfo";
	
	if (div_saleInfo.cmb_dsNet.index == 1 || div_saleInfo.cmb_dsNet.index == 0) {
		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	}
}


/*******************************************************************************
 * @description    : 부가상품
*******************************************************************************/
function f_getSupl()
{
	var sSvcID = "svcSupl";
	var sInDs = "nc_input_fieldDs=ds_condition";
	var sOutDs  = " ds_supl01=ds_supl01 ";   //부가서비스01 메시지계열
		sOutDs += " ds_supl02=ds_supl02 ";   //부가서비스02 통정계열
		sOutDs += " ds_supl03=ds_supl03 ";   //부가서비스03 VAS계열
		sOutDs += " ds_supl04=ds_supl04 ";   //부가서비스04 TㅡZONE계열
		sOutDs += " ds_supl05=ds_supl05 ";   //부가서비스05TㅡU계열
	var sArg = "sktst.sal.PCM#getSupl";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description    : 요금제
*******************************************************************************/
function div_saleInfo_cmb_gnrlCharge01_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	f_gnrlCharge();	
}

function f_gnrlCharge(aa)
{
	
	//ds_condition.ClearData();
	if ( aa == "aa") {
	    //alert("bbb: "+div_saleInfo.cmb_gnrlCharge01.index+" mmm"+ds_pcm01.GetColumn(0,"GNRL_CHARGE_01"));
	    //ds_gnrlCharge01.getColumn(div_saleInfo.cmb_gnrlCharge01.index, "COMM_CD_VAL_NM")
		ds_condition.SetColumn(0,"GNRL_CHARGE_01",ds_gnrlCharge01.getColumn(div_saleInfo.cmb_gnrlCharge01.index, "COMM_CD_VAL"));
	} else {
		ds_condition.SetColumn(0,"GNRL_CHARGE_01",div_saleInfo.cmb_gnrlCharge01.value);
	}
	//ds_list.ClearData();
	
	var sSvcID = "svcGnrlCharge";
	var sInDs  = "nc_input_fieldDs=ds_condition";
	var sOutDs = "ds_gnrlCharge=ds_gnrlCharge";
	var sArg   = "sktst.sal.PCM#getGnrlCharge";
	
	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	
}


function div_saleInfo_cmb_gnrlCharge_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{

	f_gnrlCharge02NmSet();
}

/*******************************************************************************
 * @description    : 4차할인금액 (요금제)     후할인
*******************************************************************************/
function f_postDct04()
{
		ds_pcm02.SetColumn(0,"SPECIAL_DISCOUNT_TOT_AMT",ToNumber(ds_preMth.getColumn(div_prcInfo.cmb_preMth.index, "COMM_CD_VAL"))*ToNumber(ds_pcm02.GetColumn(0,"SPECIAL_DISCOUNT_AMT")));
		ds_pcm02.SetColumn(0,"GNRL_DISCOUNT_TOT_AMT",ToNumber(ds_preMth.getColumn(div_prcInfo.cmb_preMth.index, "COMM_CD_VAL"))*ToNumber(ds_pcm02.GetColumn(0,"GNRL_DISCOUNT_AMT")));
		ds_pcm02.SetColumn(0,"POST_DCT_04",ToNumber(ds_preMth.getColumn(div_prcInfo.cmb_preMth.index, "COMM_CD_VAL"))*ToNumber(ds_pcm02.GetColumn(0,"MTH_DCT_SPT")));
	
}


/*******************************************************************************
 * @description    : 약정기간 변경시
*******************************************************************************/
function div_saleInfo_cmb_agrmtPrd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{

          if ( strCode == "24" ) {
			ds_postDct03.DeleteAll();
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(0, "COMM_CD_VAL", "0");
			ds_postDct03.setColumn(0, "COMM_CD_VAL_NM", "선택");
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(1, "COMM_CD_VAL", "160800");
			ds_postDct03.setColumn(1, "COMM_CD_VAL_NM", "160,800");
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(2, "COMM_CD_VAL", "120000");
			ds_postDct03.setColumn(2, "COMM_CD_VAL_NM", "120,000");
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(3, "COMM_CD_VAL", "110800");
			ds_postDct03.setColumn(3, "COMM_CD_VAL_NM", "110,800");
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(4, "COMM_CD_VAL", "70080");
			ds_postDct03.setColumn(4, "COMM_CD_VAL_NM", "70,080");
			div_saleInfo.cmb_postDct03.index = 0;
          } else if ( strCode == "18" ) {
			ds_postDct03.DeleteAll();
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(0, "COMM_CD_VAL", "0");
			ds_postDct03.setColumn(0, "COMM_CD_VAL_NM", "선택");
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(1, "COMM_CD_VAL", "160800");
			ds_postDct03.setColumn(1, "COMM_CD_VAL_NM", "160,800");
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(2, "COMM_CD_VAL", "120600");
			ds_postDct03.setColumn(2, "COMM_CD_VAL_NM", "120,600");
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(3, "COMM_CD_VAL", "90000");
			ds_postDct03.setColumn(3, "COMM_CD_VAL_NM", "90,000");
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(4, "COMM_CD_VAL", "70740");
			ds_postDct03.setColumn(4, "COMM_CD_VAL_NM", "70,740");
			ds_postDct03.AddRow();
			ds_postDct03.setColumn(4, "COMM_CD_VAL", "52560");
			ds_postDct03.setColumn(4, "COMM_CD_VAL_NM", "52,560");
			div_saleInfo.cmb_postDct03.index = 0;
          }




		if ( ds_dsNet.getColumn(div_saleInfo.cmb_dsNet.index, "COMM_CD_VAL") == "0" ) {  //무약정
				div_prcInfo.cmb_preMth.Enable = true;   //선납 현금,할부 선택
		} else if ( ds_dsNet.getColumn(div_saleInfo.cmb_dsNet.index, "COMM_CD_VAL") == "1" ) {  //T할부
		    if (nNewIndex == 0) {
				//div_prcInfo.cmb_preMth.index = 0;   //선납 현금,할부 선택
				div_prcInfo.cmb_preMth.Enable = true;   //선납 현금,할부 선택
		    } else {
				//div_prcInfo.cmb_preMth.index = 1;   //선납 현금,할부 선택
				div_prcInfo.cmb_preMth.Enable = true;   //선납 현금,할부 선택
		    }
		} else {
				div_prcInfo.cmb_preMth.Enable = true;   //선납 현금,할부 선택
		}



	if(uf_isNull(strCode) == false) {
		f_sl_cl();
		f_setPcm();
		f_gnrlChargeDctAmt();
	}

	if(uf_isNull(ds_pcm02.GetColumn(0,"MTH_DCT_SPT")) == false) {
		f_postDct04();   //4차할인금액 (요금제)     후할인
	}
	
}

/*******************************************************************************
* 함수명 : div_search_cmb_slNetCd_OnChanged
* 기능명 :  영업망 변경시 조회조건에 영업구분 세팅
*******************************************************************************/
function div_search_cmb_slNetCd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    ds_condition.SetColumn(0,"COMM_CD_ID",ds_slNetCd.GetColumn(nNewIndex,"COMM_CD_ID"));
    ds_condition.SetColumn(0,"SL_NET_CD",ds_slNetCd.GetColumn(nNewIndex,"COMM_CD_VAL"));

	f_sl_cl();
	f_setPcm();
	//alert(ds_slNetCd.GetColumn(nNewIndex,"COMM_CD_ID"));

}
/*******************************************************************************
 * @description    : 고객카드 세팅
*******************************************************************************/
function f_setPcm()
{
   getProdInfo(); 
}
/*******************************************************************************
 * @description    : 영업구분 세팅
*******************************************************************************/
function f_sl_cl()
{
    //http.Sync = true;
	ds_pcm01.setColumn(0, "SDATE", SubStr(ds_pcm01.getColumn(0, "SEARCH_DTM"),0,4) + "년 " + SubStr(ds_pcm01.getColumn(0, "SEARCH_DTM"),4,2) + "월 " + SubStr(ds_pcm01.getColumn(0, "SEARCH_DTM"),6,2) + "일");
	ds_pcm01.setColumn(0, "SALE_TYPE_CD_MIN_NM", ds_saleTypCdMin.getColumn(div_saleInfo.cmb_saleTypCdMin.index, "COMM_CD_VAL_NM"));
	ds_pcm01.setColumn(0, "DS_NET_CD_NM", ds_dsNet.getColumn(div_saleInfo.cmb_dsNet.index, "COMM_CD_VAL_NM"));
	/**
	if (div_saleInfo.cmb_dsNet.index == 0) {
		ds_pcm01.setColumn(0, "DS_NET_CD_RMKS", "선할인금액");
	} else if (div_saleInfo.cmb_dsNet.index == 1) {
		ds_pcm01.setColumn(0, "DS_NET_CD_RMKS", "T할부 매월할인금액");
	} else {
		ds_pcm01.setColumn(0, "DS_NET_CD_RMKS", "할인금액없음");
	}
	*/
	
	
	ds_pcm01.setColumn(0, "AGRMT_PRD_CD_NM", ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL_NM"));

	ds_condition.setColumn(0, "ORG_ID", div_search.edt_agencyCd.Text);
	ds_condition.setColumn(0, "SALE_PLC_CD", div_saleInfo.edt_salePlc.Value);

	ds_condition.setColumn(0, "SEARCH_DTM", ds_pcm01.getColumn(0, "SEARCH_DTM"));
	ds_condition.setColumn(0, "SEARCH_HOUR", ds_pcm01.getColumn(0, "SEARCH_HOUR"));
	ds_condition.setColumn(0, "SEARCH_MINUTE", ds_pcm01.getColumn(0, "SEARCH_MINUTE"));
	ds_condition.setColumn(0, "EQP_MDL_CD", div_saleInfo.edt_ProdCd.Text);
    
    ds_condition.SetColumn(0,"SALE_TYPE_CD_MIN",ds_saleTypCdMin.GetColumn(div_saleInfo.cmb_saleTypCdMin.Index,"COMM_CD_VAL"));
    ds_condition.SetColumn(0,"DS_NET_CD",ds_dsNet.GetColumn(div_saleInfo.cmb_dsNet.Index,"COMM_CD_VAL"));
    ds_condition.SetColumn(0,"AGRMT_PRD_CD",ds_agrmtPrd.GetColumn(div_saleInfo.cmb_agrmtPrd.Index,"COMM_CD_VAL"));

    ds_condition.SetColumn(0,"COMM_CD_ID",ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID"));
    ds_condition.SetColumn(0,"SL_NET_CD",ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_VAL"));

    if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00101") { //소매
		ds_pcm01.SetColumn(0,"SL_CL","01");
    } else if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00102") { //도매
		ds_pcm01.SetColumn(0,"SL_CL","02");
    } else if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00103") { //온라인소매
		ds_pcm01.SetColumn(0,"SL_CL","03");
    } else if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00104") { //온라인도매
		ds_pcm01.SetColumn(0,"SL_CL","04");
    } else if (ds_slNetCd.GetColumn(div_search.cmb_slNetCd.Index,"COMM_CD_ID") == "ZPOL_C_00105") { //M채널
		ds_pcm01.SetColumn(0,"SL_CL","05");
    }
    
    
	//ds_condition.setColumn(0, "EQP_CHRTIC", ds_prodInfo.getColumn(0, "EQP_CHRTIC"));
	//ds_condition.setColumn(0, "EQP_TYP_CL", ds_prodInfo.getColumn(0, "EQP_TYP_CL"));



	ds_pcm01.setColumn(0, "SALE_PLC_NM", ds_condition.GetColumn(0, "SALE_PLC_NM"));	




    //http.Sync = false;
    
	//if(uf_isNull(ds_condition.GetColumn(0,"EQP_MDL_CD")) == false) {
	//	getProdInfo();    //모델 정보 가져오기
	//}
	

	//if(uf_isNull(ds_condition.GetColumn(0,"SALE_PLC_CD")) == false) {
	//	f_getMargin();    //마진 정보 가져오기
	//}
	
	
	//if(uf_isNull(ds_condition.GetColumn(0,"EQP_MDL_CD")) == false) {
	//	f_polpcm();    //가격표 정보 가져오기
	//}
	
}


/*******************************************************************************
 * @description         : 마진정보조회
*******************************************************************************/
function f_getMargin()
{

 	var sSvcID = "svcMargin";
	var sInDs  = "nc_input_fieldDs=ds_condition";
	var sOutDs = "ds_margin=ds_margin";
	var sArg   = "sktst.sal.PCM#getMargin";

	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);

}


/*******************************************************************************
 * @description    :  거래처구분코드를 영업구분코드로 변환
*******************************************************************************/
function sf_convertDealCoClToSlCl(sDealCoCl)
{
	var sRetValue;
	switch(sDealCoCl)
	{
	case "A2":
		sRetValue = "01";
		break;

	case "A3":
	case "A4":	
		sRetValue = "02";
		break;

	case "B1":	
		sRetValue = "03";
		break;

	case "B2":	
		sRetValue = "04";
		break;
	
	default:
		break;
	}
	return sRetValue;
}


/*******************************************************************************
 * @description    :  가격표 정보 가져오기
*******************************************************************************/
function f_polpcm()
{
	// 조회값 선택 여부 확인 
	//cf_checkObjValues(div_search);
	


	// 적용조직 가져오기
	//f_getSaleTypCdMin();

	var sSvcID = "svcPolPsm";
	var sInDs = "ds_condition=ds_condition";
	var sOutDs = "ds_polSplstTmp=ds_polSplstTmp";
	var sArg = "sktst.pol.PSM#getPolSpLst";
	
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg, "", true, true);
}


/*******************************************************************************
 * @description    :  날짜
*******************************************************************************/
function div_saleInfo_cal_searchDtm_OnChanged(obj,strOldText,strNewText)
{

	if(uf_isNull(strNewText) == false) {
		f_sl_cl();
		f_setPcm();
	}
	
}

/*******************************************************************************
 * @description    :  가입유형
*******************************************************************************/
function div_saleInfo_cmb_saleTypCdMin_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	if(uf_isNull(strCode) == false) {
		f_sl_cl();
		f_setPcm();
	}
}


/*******************************************************************************
 * @description    :  T약정/T할부구분
*******************************************************************************/
function div_saleInfo_cmb_dsNet_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	if(uf_isNull(strCode) == false) {
		
		if ( div_saleInfo.Edit2.Text == "부진재고" && ds_dsNet.GetColumn(nNewIndex,"COMM_CD_VAL") == "1" ) {
				alert("부진재고는 T할부대상이 아닙니다.");
				div_saleInfo.cmb_dsNet.Index = nOldIndex;
				return;
		}
		if ( ds_dsNet.getColumn(div_saleInfo.cmb_dsNet.index, "COMM_CD_VAL") == "0" ) {  //무약정
		     ds_agrmtPrd.DeleteAll();
		     ds_agrmtPrd.AddRow();
  			 ds_agrmtPrd.setColumn(0, "COMM_CD_VAL", "00");
  			 ds_agrmtPrd.setColumn(0, "COMM_CD_VAL_NM", "없음");
		     div_saleInfo.cmb_agrmtPrd.index = 0;
		     div_saleInfo.cmb_agrmtPrd.Enable = false;

		     ds_preMth.DeleteAll();
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(0, "COMM_CD_VAL", "0");
  			 ds_preMth.setColumn(0, "COMM_CD_VAL_NM", "없음");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(1, "COMM_CD_VAL", "6");
  			 ds_preMth.setColumn(1, "COMM_CD_VAL_NM", "6개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(2, "COMM_CD_VAL", "12");
  			 ds_preMth.setColumn(2, "COMM_CD_VAL_NM", "12개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(3, "COMM_CD_VAL", "18");
  			 ds_preMth.setColumn(3, "COMM_CD_VAL_NM", "18개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(4, "COMM_CD_VAL", "24");
  			 ds_preMth.setColumn(4, "COMM_CD_VAL_NM", "24개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(5, "COMM_CD_VAL", "30");
  			 ds_preMth.setColumn(5, "COMM_CD_VAL_NM", "30개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(6, "COMM_CD_VAL", "36");
  			 ds_preMth.setColumn(6, "COMM_CD_VAL_NM", "36개월");
		     div_prcInfo.cmb_preMth.index = 4;
 			 div_prcInfo.cmb_preMth.Enable = true;   //선납 현금,할부 선택
		} else if ( ds_dsNet.getColumn(div_saleInfo.cmb_dsNet.index, "COMM_CD_VAL") == "1" ) {  //T할부
		     ds_agrmtPrd.DeleteAll();
		     ds_agrmtPrd.AddRow();
  			 ds_agrmtPrd.setColumn(0, "COMM_CD_VAL", "18");
  			 ds_agrmtPrd.setColumn(0, "COMM_CD_VAL_NM", "18개월");
		     ds_agrmtPrd.AddRow();
  			 ds_agrmtPrd.setColumn(1, "COMM_CD_VAL", "24");
  			 ds_agrmtPrd.setColumn(1, "COMM_CD_VAL_NM", "24개월");
		     div_saleInfo.cmb_agrmtPrd.index = 1;
		     div_saleInfo.cmb_agrmtPrd.Enable = true;

		     ds_preMth.DeleteAll();
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(0, "COMM_CD_VAL", "18");
  			 ds_preMth.setColumn(0, "COMM_CD_VAL_NM", "18개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(1, "COMM_CD_VAL", "24");
  			 ds_preMth.setColumn(1, "COMM_CD_VAL_NM", "24개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(2, "COMM_CD_VAL", "30");
  			 ds_preMth.setColumn(2, "COMM_CD_VAL_NM", "30개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(3, "COMM_CD_VAL", "36");
  			 ds_preMth.setColumn(3, "COMM_CD_VAL_NM", "36개월");
		     div_prcInfo.cmb_preMth.index = 1;
 			 div_prcInfo.cmb_preMth.Enable = true;   //선납 현금,할부 선택
		} else {
		     ds_agrmtPrd.DeleteAll();
		     ds_agrmtPrd.AddRow();
  			 ds_agrmtPrd.setColumn(0, "COMM_CD_VAL", "00");
  			 ds_agrmtPrd.setColumn(0, "COMM_CD_VAL_NM", "없음");
		     ds_agrmtPrd.AddRow();
  			 ds_agrmtPrd.setColumn(1, "COMM_CD_VAL", "12");
  			 ds_agrmtPrd.setColumn(1, "COMM_CD_VAL_NM", "12개월");
		     ds_agrmtPrd.AddRow();
  			 ds_agrmtPrd.setColumn(2, "COMM_CD_VAL", "18");
  			 ds_agrmtPrd.setColumn(2, "COMM_CD_VAL_NM", "18개월");
		     ds_agrmtPrd.AddRow();
  			 ds_agrmtPrd.setColumn(3, "COMM_CD_VAL", "24");
  			 ds_agrmtPrd.setColumn(3, "COMM_CD_VAL_NM", "24개월");
		     div_saleInfo.cmb_agrmtPrd.index = 3;
		     div_saleInfo.cmb_agrmtPrd.Enable = true;

		     ds_preMth.DeleteAll();
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(0, "COMM_CD_VAL", "0");
  			 ds_preMth.setColumn(0, "COMM_CD_VAL_NM", "없음");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(1, "COMM_CD_VAL", "6");
  			 ds_preMth.setColumn(1, "COMM_CD_VAL_NM", "6개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(2, "COMM_CD_VAL", "12");
  			 ds_preMth.setColumn(2, "COMM_CD_VAL_NM", "12개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(3, "COMM_CD_VAL", "18");
  			 ds_preMth.setColumn(3, "COMM_CD_VAL_NM", "18개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(4, "COMM_CD_VAL", "24");
  			 ds_preMth.setColumn(4, "COMM_CD_VAL_NM", "24개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(5, "COMM_CD_VAL", "30");
  			 ds_preMth.setColumn(5, "COMM_CD_VAL_NM", "30개월");
		     ds_preMth.AddRow();
  			 ds_preMth.setColumn(6, "COMM_CD_VAL", "36");
  			 ds_preMth.setColumn(6, "COMM_CD_VAL_NM", "36개월");
		     div_prcInfo.cmb_preMth.index = 4;
 			 div_prcInfo.cmb_preMth.Enable = true;   //선납 현금,할부 선택
		}
		
		f_gnrlCharge02NmSet();
		f_sl_cl();
		f_setPcm();
	}
}

//################################################################################################
//                    데이터셋 이벤트
//################################################################################################
/*******************************************************************************
 * @description    :  ds_pcm01  데이터셋
*******************************************************************************/
function ds_pcm01_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
    //기본 Net가 (출고가-최종셋팅완료R/B)
    if (    
             strColumnID == "FIX_CRDT_PRCHS_PRC"
       ) {
       //alert("dddddd");
			f_mod04(); 
    }
	
    //할부개월수  --> 요금제(후)할인금액
    if (    
             strColumnID == "AGRMT_PRD_CD"
       ) {
			f_mod07(); 
    }



}


/*******************************************************************************
 * @description    :  고객 총할인금액
*******************************************************************************/
function f_totalDctAmt()
{
		ds_pcm02.SetColumn(0,"TOTAL_DCT_AMT",   ToNumber(ds_pcm02.GetColumn(0,"PRE_DCT_01"))
											  + ToNumber(ds_pcm02.GetColumn(0,"PRE_DCT_02"))
											  + ToNumber(ds_pcm02.GetColumn(0,"POST_DCT_03"))
											  + ToNumber(ds_pcm02.GetColumn(0,"POST_DCT_04"))
											  + ToNumber(ds_pcm02.GetColumn(0,"POST_DCT_05"))
						  );
		f_mod10();
		f_mod08();
}



/*******************************************************************************
 * @description    :    고객 최종 할부금
*******************************************************************************/
function f_finalMthAmt()
{
		ds_pcm01.SetColumn(0,"IRATE_CD",ds_irate.GetColumn(0,"COMM_CD_VAL"));  //이율
		ds_pcm01.SetColumn(0,"IRATE_NM",ds_irate.GetColumn(0,"COMM_CD_VAL_NM"));

        /**
		ds_pcm02.SetColumn(0,"FINAL_MTH_AMT",   ToNumber(ds_pcm02.GetColumn(0,"POST_DCT_04"))    //4차할인금액 (요금제)     후할인
											  - ToNumber(ds_pcm02.GetColumn(0,"POST_DCT_05"))   //5차 판매자추가보너스 할인금액
											  + ToNumber(ds_pcm02.GetColumn(0,"SUPL_AMT"))      //부가항목 (+/-) 금액입력
											  + ToNumber(ds_pcm02.GetColumn(0,"FINAL_AMT"))      //고객 최종 부담금
											  + ToNumber(ds_pcm02.GetColumn(0,"POST_DCT_03"))     //3차할인금액 (T할부)      후할인
						  );
		**/
        f_mod08();
		ds_pcm02.SetColumn(0,"FINAL_MTH_AMT",  ds_mod.GetColumn(0, "mod_08_set") );

		
		//월불입금
		if ( ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL")) < 11) {
				ds_mod.setColumn(0, "cus_01", ToNumber(ds_pcm02.GetColumn(0,"FINAL_MTH_AMT")) / ToNumber(ds_preMth.getColumn(div_prcInfo.cmb_preMth.index, "COMM_CD_VAL")));
		} else {
				//예제
				//월불입금 = (20000000*7.5%/12*(1+7.5%/12)^36)/((1+7.5%/12)^36-1)
				//         = PMT(7.5%/12,36,20000000)

		        ds_mod.setColumn(0, "cus_01",  Round( 
						  (
							 (ToNumber(ds_pcm02.GetColumn(0,"FINAL_MTH_AMT"))*(ToNumber(ds_pcm01.GetColumn(0,"IRATE_CD"))/100))/12
						   * Pow(1+ToNumber(ToNumber(ds_pcm01.GetColumn(0,"IRATE_CD"))/100)/12,ToNumber(ds_preMth.getColumn(div_prcInfo.cmb_preMth.index, "COMM_CD_VAL")))
						  )  /
						  (
							 Pow(1+(ToNumber(ds_pcm01.GetColumn(0,"IRATE_CD"))/100)/12,ToNumber(ds_preMth.getColumn(div_prcInfo.cmb_preMth.index, "COMM_CD_VAL")))-1
						  )
		           )
		        );


		        //ds_mod.setColumn(0, "cus_01",   
				//		  (1+ToNumber(ToNumber(ds_pcm01.GetColumn(0,"IRATE_CD"))/100)/12)

		        //);



		}
		
		
		//총이자금액
		if ( ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL")) < 11) {
		        ds_mod.setColumn(0, "cus_02",  "0");
		} else {
		        ds_mod.setColumn(0, "cus_02",  (   ToNumber(ds_mod.GetColumn(0, "cus_01"))
		                                         * ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))
		                                       ) -   
		                                           ToNumber(ds_pcm02.GetColumn(0,"FINAL_MTH_AMT"))
		        );
		}
		
		
		//총할인금액
		        ds_mod.setColumn(0, "cus_03",  (   ToNumber(ds_pcm02.GetColumn(0, "POST_DCT_03_SET"))
		                                         * ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))
		                                       )+   
		                                       (   ToNumber(ds_pcm02.GetColumn(0,"GNRL_CHARGE_DCT_AMT"))
		                                         * ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))
		                                       )
		        );
		//매월할인금액
		        ds_mod.setColumn(0, "cus_03_set",  ToNumber(ds_mod.GetColumn(0, "cus_03"))
		                                         / ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))
		        );
		
		
		//고객 단말기 부담금액
		/**
		        ds_mod.setColumn(0, "cus_04",  (       ToNumber(ds_mod.GetColumn(0, "cus_01"))
													 -
												   (   ToNumber(ds_pcm02.GetColumn(0,"POST_DCT_03_SET"))
													 +
													   ToNumber(ds_pcm02.GetColumn(0,"GNRL_CHARGE_DCT_AMT"))
												   )
		                                       )     * ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))
		        );
		 **/
		ds_mod.SetColumn(0, "cus_04",	ToNumber(ds_mod.GetColumn(0,"cus_01"))-ToNumber(ToNumber(ds_pcm02.GetColumn(0,"POST_DCT_03_SET"))+ToNumber(ds_pcm02.GetColumn(0,"GNRL_CHARGE_DCT_AMT"))));
				
		ds_mod.SetColumn(0, "cus_amt",	ToNumber(ds_mod.GetColumn(0,"mod_10_set"))+ToNumber(ds_mod.GetColumn(0,"cus_02")));
}

/*******************************************************************************
 * @description    :  ds_pcm02  데이터셋
*******************************************************************************/
function ds_pcm02_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{

    //일반요금제 
    if (strColumnID == "GNRL_CHARGE_02") {
        if (   ds_gnrlCharge01.getColumn(div_saleInfo.cmb_gnrlCharge01.index, "COMM_CD_VAL_NM") == "할인요금제" 
            && ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "SUPL_SVC_NM") == "스페셜요금제") {
			ds_pcm02.SetColumn(0,"GNRL_CHARGE_02_NM","스페셜요금제");
        } else {
			ds_pcm02.SetColumn(0,"GNRL_CHARGE_02_NM",ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "SUPL_SVC_NM"));
        }
        f_gnrlCharge02NmSet();
        
		ds_pcm02.SetColumn(0,"GNRL_CHARGE_CL",ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "SUPL_SVC_CL"));
		ds_pcm02.SetColumn(0,"GNRL_RMKS",ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "RMKS"));
		ds_pcm02.SetColumn(0,"MTH_USE_CHARGE",ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "BASIC_FARE_AMT"));
		ds_pcm02.SetColumn(0,"CALL_AMT",ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "CALL_PROOF"));
		//if (ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "CALL_PROOF") > 0) {
		//	ds_pcm02.SetColumn(0,"CALL_AMT_SET","(초당통화료 " + ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "CALL_PROOF") + "원)");
		//} else {
		//	ds_pcm02.SetColumn(0,"CALL_AMT_SET","");
		//}
		

		if (     div_saleInfo.cmb_dsNet.index == 1 
			 &&  SubStr(ds_pcm01.GetColumn(0,"EQP_CHRTIC_NM3"),0,1) == "S"
			 &&  ds_gnrlCharge01.GetColumn(div_saleInfo.cmb_gnrlCharge01.index,"COMM_CD_VAL") == "CS01"
			 &&  ToNumber(SubStr(ds_gnrlCharge.GetColumn(div_saleInfo.cmb_gnrlCharge.index,"SUPL_SVC_NM"),length(ds_gnrlCharge.GetColumn(div_saleInfo.cmb_gnrlCharge.index,"SUPL_SVC_NM"))-2,2)) >= 35
		   ) 
		{
		    //alert(ds_gnrlCharge.GetColumn(div_saleInfo.cmb_gnrlCharge.index,"SUPL_SVC_NM"));
			ds_pcm02.SetColumn(0,"SPECIAL_DISCOUNT_AMT",ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "SPECIAL_DISCOUNT_AMT"));
			ds_pcm02.SetColumn(0,"GNRL_DISCOUNT_AMT","0");				
		} else {
		    if ( div_saleInfo.cmb_dsNet.index == 2 ) {
				ds_pcm02.SetColumn(0,"SPECIAL_DISCOUNT_AMT","0");				
				ds_pcm02.SetColumn(0,"GNRL_DISCOUNT_AMT","0");				
		    } else {
				ds_pcm02.SetColumn(0,"SPECIAL_DISCOUNT_AMT","0");				
				ds_pcm02.SetColumn(0,"GNRL_DISCOUNT_AMT",ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "GNRL_DISCOUNT_AMT"));				
		    }
		}
			ds_pcm02.SetColumn(0,"MTH_DCT_SPT",ToNumber(ds_pcm02.GetColumn(0,"SPECIAL_DISCOUNT_AMT"))+ToNumber(ds_pcm02.GetColumn(0,"GNRL_DISCOUNT_AMT")));				

/**
		if (      ds_pcm01.getColumn(0,"EQP_TYP_CL") == "스마트폰"
		      &&  ds_pcm01.getColumn(0,"DS_NET_CD") == "1"    //t할부지원
		      &&  ds_pcm02.getColumn(0,"GNRL_CHARGE_CL") == "스페셜요금제"  ) {
			ds_pcm02.SetColumn(0,"MTH_DCT_SPT",ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "SPECIAL_DISCOUNT_AMT"));
		} else {
			ds_pcm02.SetColumn(0,"MTH_DCT_SPT",ds_gnrlCharge.getColumn(div_saleInfo.cmb_gnrlCharge.index, "GNRL_DISCOUNT_AMT"));
		}
**/		

		f_postDct04();   //4차할인금액 (요금제)     후할인
		//ds_pcm02.SetColumn(0,"POST_DCT_04",ToNumber(ds_pcm01.GetColumn(0,"AGRMT_PRD_CD"))*ToNumber(ds_pcm02.GetColumn(0,"MTH_DCT_SPT")));
    }


    //고객 총할인금액
    if (    
             strColumnID == "PRE_DCT_01"
          || strColumnID == "PRE_DCT_02"
          || strColumnID == "POST_DCT_03"
          || strColumnID == "POST_DCT_04"
          || strColumnID == "POST_DCT_05"
       ) {
            if ( ToNumber(ds_pcm02.GetColumn(0, "POST_DCT_05")) > ToNumber(ds_pcm02.GetColumn(0, "mod_02_tot")) ) {
                 alert("총마진금액 한도내로 입력하십시요.");
                 ds_pcm02.setColumn(0, "POST_DCT_05","0");
                 div_prcInfo.MaskEdit9.SetFocus();
                 div_prcInfo.MaskEdit9.BKColor = "yellow";
                 return;
            } else {
                 div_prcInfo.MaskEdit9.BKColor = "white";
            }
			f_totalDctAmt();   
    }

    //T약정(선)할인금액
    if (    
             strColumnID == "PRE_DCT_02"
       ) {
			ds_mod.SetColumn(0,"mod_05",   ds_pcm02.GetColumn(0,"PRE_DCT_02"));
    }

    //T할부(후)할인금액
    if (    
             strColumnID == "POST_DCT_03"
       ) {
            //월할인금액       
			if (ds_dsNet.getColumn(div_saleInfo.cmb_dsNet.index, "COMM_CD_VAL") == "1") {
				ds_pcm02.setColumn(0, "MTH_DCT_AMT", Floor(ToNumber(ds_pcm02.getColumn(0, "POST_DCT_03"))/ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))));
			} else {
				ds_pcm02.setColumn(0, "MTH_DCT_AMT", 0);
				//ds_pcm02.setColumn(0, "MTH_DCT_AMT", ds_sAmtInfo.getColumn(0, "MONTH_DC_AMT"));
			}

			ds_mod.SetColumn(0,"mod_06",   ds_pcm02.GetColumn(0,"POST_DCT_03"));
    }



    //할인혜택(월/최대 24개월간지원)  --> 요금제(후)할인금액
    if (    
             strColumnID == "MTH_DCT_SPT"
       ) {
			f_mod07(); 
    }



    //고객 최종 할부금
    if (    
             strColumnID == "POST_DCT_03"     //3차할인금액 (T할부)      후할인
          || strColumnID == "POST_DCT_04"      //4차할인금액 (요금제)     후할인
          || strColumnID == "POST_DCT_05"      //5차 판매자추가보너스 할인금액
          || strColumnID == "SUPL_AMT"         //부가항목 (+/-) 금액입력
          || strColumnID == "FINAL_AMT"        //고객 최종 부담금
       ) {       
			f_finalMthAmt();   
    }


	var aDsSupl = "";
    //부가서비스01 메시지계열
    if (    
             strColumnID == "SUPL_01"
       ) {

			if        ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
							aDsSupl = "ds_supl01";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB02" ) {   //TU계열
							aDsSupl = "ds_supl02";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB03" ) {   //메시지계열
							aDsSupl = "ds_supl03";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB04" ) {   //VAS계열
							aDsSupl = "ds_supl04";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB05" ) {   //통정계열
							aDsSupl = "ds_supl05";
			} else {
							aDsSupl = "ds_supl01";
			}

			ds_pcm02.SetColumn(0,"SUPL_01_NM",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl01.index,"SUPL_SVC_NM"));
			ds_pcm02.SetColumn(0,"SUPL_01_AMT",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl01.index,"MONTH_CHARGE_AMT"));
			ds_pcm02.SetColumn(0,"SUPL_01_RMKS",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl01.index,"RMKS"));
			f_suplSet();
    }

    //부가서비스02 통정계열
    if (    
             strColumnID == "SUPL_02"
       ) {

			if        ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
							aDsSupl = "ds_supl01";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB02" ) {   //TU계열
							aDsSupl = "ds_supl02";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB03" ) {   //메시지계열
							aDsSupl = "ds_supl03";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB04" ) {   //VAS계열
							aDsSupl = "ds_supl04";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB05" ) {   //통정계열
							aDsSupl = "ds_supl05";
			} else {
							aDsSupl = "ds_supl02";
			}			
			
			ds_pcm02.SetColumn(0,"SUPL_02_NM",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl02.index,"SUPL_SVC_NM"));
			ds_pcm02.SetColumn(0,"SUPL_02_AMT",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl02.index,"MONTH_CHARGE_AMT"));
			ds_pcm02.SetColumn(0,"SUPL_02_RMKS",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl02.index,"RMKS"));
			f_suplSet();
    }

    //부가서비스03 VAS계열
    if (    
             strColumnID == "SUPL_03"
       ) {

			if        ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
							aDsSupl = "ds_supl01";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB02" ) {   //TU계열
							aDsSupl = "ds_supl02";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB03" ) {   //메시지계열
							aDsSupl = "ds_supl03";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB04" ) {   //VAS계열
							aDsSupl = "ds_supl04";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB05" ) {   //통정계열
							aDsSupl = "ds_supl05";
			} else {
							aDsSupl = "ds_supl03";
			}			
			
			ds_pcm02.SetColumn(0,"SUPL_03_NM",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl03.index,"SUPL_SVC_NM"));
			ds_pcm02.SetColumn(0,"SUPL_03_AMT",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl03.index,"MONTH_CHARGE_AMT"));
			ds_pcm02.SetColumn(0,"SUPL_03_RMKS",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl03.index,"RMKS"));
			f_suplSet();
    }

    //부가서비스04 TㅡZONE계열
    if (    
             strColumnID == "SUPL_04"
       ) {

			if        ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
							aDsSupl = "ds_supl01";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB02" ) {   //TU계열
							aDsSupl = "ds_supl02";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB03" ) {   //메시지계열
							aDsSupl = "ds_supl03";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB04" ) {   //VAS계열
							aDsSupl = "ds_supl04";
			} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB05" ) {   //통정계열
							aDsSupl = "ds_supl05";
			} else {
							aDsSupl = "ds_supl04";
			}			
			
			ds_pcm02.SetColumn(0,"SUPL_04_NM",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl04.index,"SUPL_SVC_NM"));
			ds_pcm02.SetColumn(0,"SUPL_04_AMT",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl04.index,"MONTH_CHARGE_AMT"));
			ds_pcm02.SetColumn(0,"SUPL_04_RMKS",   object(aDsSupl).GetColumn(div_saleInfo.cmb_supl04.index,"RMKS"));
			f_suplSet();
    }
    
    
    //T할부 매월할인금액
    if (    
             strColumnID == "POST_DCT_03_SET"     //T할부 매월할인금액
          || strColumnID == "AGRMT_PRD_CD"      //할부개월수
       ) {
//          || strColumnID == "POST_DCT_05"      //5차 판매자추가보너스 할인금액
//          || strColumnID == "SUPL_AMT"         //부가항목 (+/-) 금액입력
//          || strColumnID == "FINAL_AMT"        //고객 최종 부담금

		//총할인금액
		        ds_mod.setColumn(0, "cus_03",  (   ToNumber(ds_pcm02.GetColumn(0, "POST_DCT_03_SET"))
		                                         * ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))
		                                       )+   
		                                       (   ToNumber(ds_pcm02.GetColumn(0,"GNRL_CHARGE_DCT_AMT"))
		                                         * ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))
		                                       )
		        );
		//매월할인금액
		        ds_mod.setColumn(0, "cus_03_set",  ToNumber(ds_mod.GetColumn(0, "cus_03"))
		                                         / ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL"))
		        );

			f_pcmGrid();
    }

}


/*******************************************************************************
 * @description    :  고객용 부가서비스 비고 
*******************************************************************************/
function f_suplSet()
{
		var aDsSupl01 = "";
		if        ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
						aDsSupl01 = "ds_supl01";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB02" ) {   //TU계열
						aDsSupl01 = "ds_supl02";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB03" ) {   //메시지계열
						aDsSupl01 = "ds_supl03";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB04" ) {   //VAS계열
						aDsSupl01 = "ds_supl04";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL") == "CB05" ) {   //통정계열
						aDsSupl01 = "ds_supl05";
		} else {
						aDsSupl01 = "ds_supl01";
		}			
		var aDsSupl02 = "";
		if        ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
						aDsSupl02 = "ds_supl01";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB02" ) {   //TU계열
						aDsSupl02 = "ds_supl02";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB03" ) {   //메시지계열
						aDsSupl02 = "ds_supl03";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB04" ) {   //VAS계열
						aDsSupl02 = "ds_supl04";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo1.Index,"COMM_CD_VAL") == "CB05" ) {   //통정계열
						aDsSupl02 = "ds_supl05";
		} else {
						aDsSupl02 = "ds_supl02";
		}			
		var aDsSupl03 = "";
		if        ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
						aDsSupl03 = "ds_supl01";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB02" ) {   //TU계열
						aDsSupl03 = "ds_supl02";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB03" ) {   //메시지계열
						aDsSupl03 = "ds_supl03";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB04" ) {   //VAS계열
						aDsSupl03 = "ds_supl04";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo2.Index,"COMM_CD_VAL") == "CB05" ) {   //통정계열
						aDsSupl03 = "ds_supl05";
		} else {
						aDsSupl03 = "ds_supl03";
		}			
		var aDsSupl04 = "";
		if        ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB01" ) {   //T-Zone계열
						aDsSupl04 = "ds_supl01";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB02" ) {   //TU계열
						aDsSupl04 = "ds_supl02";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB03" ) {   //메시지계열
						aDsSupl04 = "ds_supl03";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB04" ) {   //VAS계열
						aDsSupl04 = "ds_supl04";
		} else if ( ds_suplSet.GetColumn(div_saleInfo.Combo3.Index,"COMM_CD_VAL") == "CB05" ) {   //통정계열
						aDsSupl04 = "ds_supl05";
		} else {
						aDsSupl04 = "ds_supl04";
		}			
		


		ds_mod.SetColumn(0,"cus_05",   "[가입된 부가서비스 상세내용]"+chr(13)+chr(10)
									 + "[부가서비스01] "
									 + object(aDsSupl01).GetColumn(div_saleInfo.cmb_supl01.index,"SUPL_SVC_NM") + ": "
									 + object(aDsSupl01).GetColumn(div_saleInfo.cmb_supl01.index,"RMKS")
									 +chr(13)+chr(10)
									 + "[부가서비스02] "
									 + object(aDsSupl02).GetColumn(div_saleInfo.cmb_supl02.index,"SUPL_SVC_NM") + ": "
									 + object(aDsSupl02).GetColumn(div_saleInfo.cmb_supl02.index,"RMKS")
									 +chr(13)+chr(10)
									 + "[부가서비스03] "
									 + object(aDsSupl03).GetColumn(div_saleInfo.cmb_supl03.index,"SUPL_SVC_NM") + ": "
									 + object(aDsSupl03).GetColumn(div_saleInfo.cmb_supl03.index,"RMKS")
									 +chr(13)+chr(10)
									 + "[부가서비스04] "
									 + object(aDsSupl04).GetColumn(div_saleInfo.cmb_supl04.index,"SUPL_SVC_NM") + ": "
									 + object(aDsSupl04).GetColumn(div_saleInfo.cmb_supl04.index,"RMKS")
						  );

        ds_mod.SetColumn(0,"cus_06",   ToNumber(ds_pcm02.GetColumn(0,"SUPL_01_AMT"))
                                     + ToNumber(ds_pcm02.GetColumn(0,"SUPL_02_AMT"))
                                     + ToNumber(ds_pcm02.GetColumn(0,"SUPL_03_AMT"))
                                     + ToNumber(ds_pcm02.GetColumn(0,"SUPL_04_AMT"))
						  );


}



/*******************************************************************************
 * @description    :  고객용 요금제 명칭
*******************************************************************************/
function f_gnrlCharge02NmSet()
{
	if(uf_isNull(div_saleInfo.edt_ProdCd.Text) == false) {
	   if (div_saleInfo.cmb_gnrlCharge.Index != 0) {
	            /**
				if (     div_saleInfo.cmb_dsNet.index == 1 
					 &&  SubStr(ds_pcm01.GetColumn(0,"EQP_CHRTIC_NM3"),0,1) == "S"
					 &&  ds_gnrlCharge01.GetColumn(div_saleInfo.cmb_gnrlCharge01.index,"COMM_CD_VAL") == "CS01"
					 &&  ToNumber(SubStr(ds_gnrlCharge.GetColumn(div_saleInfo.cmb_gnrlCharge.index,"SUPL_SVC_NM"),length(ds_gnrlCharge.GetColumn(div_saleInfo.cmb_gnrlCharge.index,"SUPL_SVC_NM"))-2,2)) >= 35
				   ) 
				{
				
				} else {
				
				}
				**/
		
		
				ds_pcm02.SetColumn(0,"GNRL_CHARGE_02_NM_SET", div_saleInfo.cmb_dsNet.Text + " " + div_saleInfo.cmb_agrmtPrd.Text);
		
				if ( ToNumber(ds_pcm02.GetColumn(0,"GNRL_DISCOUNT_AMT") ) > 0  && div_saleInfo.cmb_dsNet.Text == "T기본약정" )  {
								ds_pcm02.SetColumn(0,"CALL_AMT_SET", "T더블약정");
				} else if ( ToNumber(ds_pcm02.GetColumn(0,"GNRL_DISCOUNT_AMT") ) > 0  && div_saleInfo.cmb_dsNet.Text == "T할부지원" )  {
								ds_pcm02.SetColumn(0,"CALL_AMT_SET", "더블할인");		
				}
				
				
				if(uf_isNull(ds_pcm02.GetColumn(0,"GNRL_DISCOUNT_AMT")) == true) {
					  ds_pcm02.SetColumn(0,"GNRL_DISCOUNT_AMT", "0");
				}
				if(uf_isNull(ds_pcm02.GetColumn(0,"SPECIAL_DISCOUNT_AMT")) == true) {
					  ds_pcm02.SetColumn(0,"SPECIAL_DISCOUNT_AMT", "0");
				}
				//alert(ds_pcm02.GetColumn(0,"GNRL_DISCOUNT_AMT") +" || "+ ds_pcm02.GetColumn(0,"SPECIAL_DISCOUNT_AMT"));
				if ( ToNumber(ds_pcm02.GetColumn(0,"GNRL_DISCOUNT_AMT") ) > 0 ) {
					  if (div_saleInfo.cmb_dsNet.Text == "T기본약정" )  {
								ds_pcm02.SetColumn(0,"CALL_AMT_SET", "T더블약정");
					  } else if (div_saleInfo.cmb_dsNet.Text == "T할부지원" )  {
								ds_pcm02.SetColumn(0,"CALL_AMT_SET", "더블할인");		
					  } else {
								ds_pcm02.SetColumn(0,"CALL_AMT_SET", "일반가입");
					  }

				} else if ( ToNumber(ds_pcm02.GetColumn(0,"SPECIAL_DISCOUNT_AMT") ) > 0 ) {
					  if (div_saleInfo.cmb_dsNet.Text == "무약정스페셜할인" )  {
								ds_pcm02.SetColumn(0,"CALL_AMT_SET", "스페셜할인");
					  } else if (div_saleInfo.cmb_dsNet.Text == "T할부지원" )  {
								ds_pcm02.SetColumn(0,"CALL_AMT_SET", "스페셜할인 ");		
					  } else {
								ds_pcm02.SetColumn(0,"CALL_AMT_SET", "일반가입");
					  }

				}
		
	   } else {
				ds_pcm02.SetColumn(0,"CALL_AMT_SET", "");
	   }
	} else {
				ds_pcm02.SetColumn(0,"CALL_AMT_SET", "");
	}

		
}


/*******************************************************************************
 * @description    :  최종 셋팅완료 R/B금액
*******************************************************************************/
function f_mod03()
{
		ds_mod.SetColumn(0,"mod_03",   ToNumber(ds_mod.GetColumn(0,"mod_01"))
									 - ToNumber(ds_mod.GetColumn(0,"mod_02"))
						  );
}

/*******************************************************************************
 * @description    :  기본 Net가 (출고가-최종셋팅완료R/B)
*******************************************************************************/
function f_mod04()
{

		ds_mod.SetColumn(0,"mod_04",   ToNumber(ds_pcm01.GetColumn(0,"FIX_CRDT_PRCHS_PRC"))
									 - ToNumber(ds_mod.GetColumn(0,"mod_03"))
						  );
		f_mod09(); 
		f_mod10(); 
		ds_pcm02.SetColumn(0,"FINAL_AMT",   ds_mod.GetColumn(0,"mod_10"));

}


/*******************************************************************************
 * @description    :  요금제(후)할인금액
*******************************************************************************/
function f_mod07()
{
		ds_mod.SetColumn(0,"mod_07",   ToNumber(ds_pcm01.GetColumn(0,"AGRMT_PRD_CD"))
									 * ToNumber(ds_pcm02.GetColumn(0,"MTH_DCT_SPT"))
						  );
}


/*******************************************************************************
 * @description    :  총할인금액(선할인+후할인+요금제할인)
*******************************************************************************/
function f_mod08()
{
		ds_mod.SetColumn(0,"mod_08",   ToNumber(ds_mod.GetColumn(0,"mod_06"))
									 + ToNumber(ds_pcm02.GetColumn(0,"GNRL_DISCOUNT_TOT_AMT"))
									 + ToNumber(ds_pcm02.GetColumn(0,"SPECIAL_DISCOUNT_TOT_AMT"))
						  );

		//할부원금계산
		//할부원금은 출고가를 넘지 않게함.
		if ( ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC")) < ToNumber(ds_mod.GetColumn(0,"mod_08")) ) {
				ds_mod.SetColumn(0,"mod_08_set",   ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))
											 - ToNumber(ds_mod.GetColumn(0,"pre_amt"))
											 - ToNumber(ds_mod.GetColumn(0,"POST_DCT_05"))
								  );
		} else {
				ds_mod.SetColumn(0,"mod_08_set",   ToNumber(ds_mod.GetColumn(0,"mod_08"))
											 - ToNumber(ds_mod.GetColumn(0,"pre_amt"))
											 - ToNumber(ds_mod.GetColumn(0,"POST_DCT_05"))
								  );
		}
						  
		ds_pcm02.SetColumn(0,"FINAL_MTH_AMT",  ds_mod.GetColumn(0, "mod_08_set") );

}


/*******************************************************************************
 * @description    :  총할인금액(선할인+후할인+요금제할인)
*******************************************************************************/
function f_mod09()
{

//alert(ds_mod.GetColumn(0,"mod_08"));
		ds_mod.SetColumn(0,"mod_09",   ToNumber(ds_prodInfo.getColumn(0, "FIX_CRDT_PRCHS_PRC"))
									 - ToNumber(ds_mod.GetColumn(0,"mod_01"))
									 - ToNumber(ds_mod.GetColumn(0,"mod_05"))
									 - ToNumber(ds_mod.GetColumn(0,"mod_06"))
									 - ToNumber(ds_mod.GetColumn(0,"GNRL_DISCOUNT_TOT_AMT"))
									 - ToNumber(ds_mod.GetColumn(0,"SPECIAL_DISCOUNT_TOT_AMT"))
									 - ToNumber(ds_pcm02.GetColumn(0,"SUPL_AMT"))
						  );
}


/*******************************************************************************
 * @description    :  고객 OPEN 판매가
*******************************************************************************/
function f_mod10()
{

    if (ToNumber(ds_mod.GetColumn(0,"mod_09")) > 0) {
		ds_mod.SetColumn(0,"mod_10",   ds_mod.GetColumn(0,"mod_09"));
		ds_mod.SetColumn(0,"mod_02_Set",   "0");
    } else {
		ds_mod.SetColumn(0,"mod_10",   "0");

		if ( ToNumber(ds_pcm01.GetColumn(0,"FIX_CRDT_PRCHS_PRC")) < -1*ToNumber(ds_mod.GetColumn(0,"mod_09")) ) {
			ds_mod.SetColumn(0,"mod_02_set",   ds_pcm01.GetColumn(0,"FIX_CRDT_PRCHS_PRC"));
		} else {
			ds_mod.SetColumn(0,"mod_02_set",   -1*ToNumber(ds_mod.GetColumn(0,"mod_09")));
		}
    
    }

		ds_mod.SetColumn(0,"mod_02_tot",   ToNumber(ds_mod.GetColumn(0,"mod_02"))+ToNumber(ds_mod.GetColumn(0,"mod_02_set")));

		ds_mod.SetColumn(0,"mod_10_set",   ToNumber(ds_mod.GetColumn(0,"mod_10"))-ToNumber(ds_pcm02.GetColumn(0,"POST_DCT_05")));

}


/*******************************************************************************
 * @description    :  마진셋팅금액+추가마진 금액사용가능 한도 금액
*******************************************************************************/
function f_mod11()
{
		ds_mod.SetColumn(0,"mod_11",   ToNumber(ds_mod.GetColumn(0,"mod_02"))
									 + ToNumber(ds_mod.GetColumn(0,"mod_09"))
						  );

}

/*******************************************************************************
 * @description    :  요금제매월 할인금액
*******************************************************************************/
function f_gnrlChargeDctAmt()
{
        if (ToNumber(ds_mod.GetColumn(0,"mod_07")) > 0) {
			ds_pcm02.SetColumn(0,"GNRL_CHARGE_DCT_AMT", ToNumber(ds_mod.GetColumn(0,"mod_07"))/ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL")));
        } else {
			ds_pcm02.SetColumn(0,"GNRL_CHARGE_DCT_AMT", "0");
        }

}


/*******************************************************************************
 * @description    :  ds_mod  데이터셋
*******************************************************************************/
function ds_mod_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
    //최종 셋팅완료 R/B금액
    if (    
             strColumnID == "mod_01"
          || strColumnID == "mod_02"
       ) {
			f_mod03(); 
    }
	

    //기본 Net가 (출고가-최종셋팅완료R/B)
    if (    
             strColumnID == "mod_03"
       ) {
			ds_pcm02.SetColumn(0,"PRE_DCT_01",   ds_mod.GetColumn(0,"mod_03"));
			f_mod04(); 
    }



    //총할인금액(선할인+후할인+요금제할인)
    if (    
             strColumnID == "mod_05"
          || strColumnID == "mod_06"
          || strColumnID == "mod_07"
       ) {
            if (strColumnID == "mod_07") {
                f_gnrlChargeDctAmt();
				f_mod08(); 
            } else {
				f_mod08(); 
            }
    }


    //최종고객 실Net가 (Hidden)(출고가-최종셋팅완료R/B-할인금액)
    if (    
             strColumnID == "mod_04"
          || strColumnID == "mod_08"
       ) {

			f_mod09(); 
    }


    //고객 OPEN 판매가
    if (    
             strColumnID == "mod_09"
       ) {
			f_mod10(); 
    }

    //마진셋팅금액+추가마진 금액사용가능 한도 금액
    if (    
             strColumnID == "mod_02"
          || strColumnID == "mod_09"
       ) {
			f_mod11(); 
    }


    //고객 OPEN 판매가
    if (    
             strColumnID == "mod_10"
       ) {

			ds_pcm02.SetColumn(0,"FINAL_AMT",   ds_mod.GetColumn(0,"mod_10"));
    }


    //고객 OPEN 판매가
    if (    
             strColumnID == "pre_amt"
       ) {

            f_mod08();
    }



		f_pcmGrid();
}

/*******************************************************************************
 * @description    :  고객용화면 하단 그리드 
*******************************************************************************/
function f_pcmGrid()
{
	ds_pcm01.SetColumn(0,"IRATE_CD",ds_irate.GetColumn(0,"COMM_CD_VAL"));  //이율
	ds_pcm01.SetColumn(0,"IRATE_NM",ds_irate.GetColumn(0,"COMM_CD_VAL_NM"));

	var sRowCnt = ds_preMth.getColumn(div_prcInfo.cmb_preMth.index, "COMM_CD_VAL");
	var sPCet = 0;

    if ( sRowCnt != ds_pcmGrid.rowcount) {
			ds_pcmGrid.DeleteAll();
		
			if(uf_isNull(sRowCnt) == false && sRowCnt > 0) {
				for( var idx =0 ; idx<ToNumber(sRowCnt); idx++ ){
						ds_pcmGrid.AddRow();
				}
			}
    }

	if(uf_isNull(sRowCnt) == false && sRowCnt > 0) {
		//alert(sRowCnt);
		//Grid2.Redraw = false;
		for( var idx =0 ; idx<ToNumber(sRowCnt); idx++ ){
		    if ( idx == 0 ) {
		        sPCet  = Round((ToNumber(ds_pcm02.GetColumn(0,"FINAL_MTH_AMT"))*(ToNumber(ds_pcm01.GetColumn(0,"IRATE_CD"))/100))/12);
		    } else {
		        sPCet  = Round((ToNumber(ds_pcmGrid.GetColumn(idx-1,"col_04"))*(ToNumber(ds_pcm01.GetColumn(0,"IRATE_CD"))/100))/12);
		        //sPCet  = ds_pcmGrid.GetColumn(idx-1, "col_02");
		    }
		
		
				ds_pcmGrid.SetColumn(idx, "col_00",	ToNumber(idx)+1);
				ds_pcmGrid.SetColumn(idx, "col_03",	ds_mod.GetColumn(0,"cus_01"));

			if ( ToNumber(ds_preMth.getColumn(div_prcInfo.cmb_preMth.index, "COMM_CD_VAL")) < 11) {
				ds_pcmGrid.SetColumn(idx, "col_01",	ToNumber(ds_pcmGrid.GetColumn(0,"col_03"))-0);
			} else {
				ds_pcmGrid.SetColumn(idx, "col_01",	 ToNumber(ds_pcmGrid.GetColumn(0,"col_03")) - ToNumber(sPCet) );
			}
				
			if ( ToNumber(ds_preMth.getColumn(div_prcInfo.cmb_preMth.index, "COMM_CD_VAL")) < 11) {
				ds_pcmGrid.SetColumn(idx, "col_02",	"0");
			} else {
				ds_pcmGrid.SetColumn(idx, "col_02",	ToNumber(sPCet));
			}
				
			//if ( ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL")) < 11) {
			//	ds_pcmGrid.SetColumn(idx, "col_03",	"0");
			//} else {
			//	ds_pcmGrid.SetColumn(idx, "col_03",	sPCet);
			//}
				//ds_pcmGrid.SetColumn(idx, "col_03",	ToNumber(ds_pcm02.GetColumn(0,"FINAL_MTH_AMT"))-ToNumber(ds_pcmGrid.GetColumn(idx,"col_01")));

		    if ( idx == 0 ) {
				ds_pcmGrid.SetColumn(idx, "col_04",	ToNumber(ds_pcm02.GetColumn(0,"FINAL_MTH_AMT"))-ToNumber(ds_pcmGrid.GetColumn(idx, "col_01")));
		    } else {
				ds_pcmGrid.SetColumn(idx, "col_04",	ToNumber(ds_pcmGrid.GetColumn(idx-1,"col_04"))-ToNumber(ds_pcmGrid.GetColumn(idx, "col_01")));
		        //sPCet  = ds_pcmGrid.GetColumn(idx-1, "col_02");
		    }
				
				if ( ToNumber(idx)+1 > ToNumber(ds_agrmtPrd.getColumn(div_saleInfo.cmb_agrmtPrd.index, "COMM_CD_VAL")) ) {
					ds_pcmGrid.SetColumn(idx, "col_05",	"0");
				} else {
					ds_pcmGrid.SetColumn(idx, "col_05",	ds_pcm02.GetColumn(0,"POST_DCT_03_SET"));
				}
				ds_pcmGrid.SetColumn(idx, "col_06",	ds_pcm02.GetColumn(0,"GNRL_CHARGE_DCT_AMT"));
				ds_pcmGrid.SetColumn(idx, "col_07",	ToNumber(ds_pcmGrid.GetColumn(idx, "col_05"))+ToNumber(ds_pcmGrid.GetColumn(idx, "col_06")));
				ds_pcmGrid.SetColumn(idx, "col_08",	ToNumber(ds_pcmGrid.GetColumn(idx,"col_03"))-ToNumber(ds_pcmGrid.GetColumn(idx,"col_07")));
				ds_pcmGrid.SetColumn(idx, "col_09",	ds_pcm02.GetColumn(0,"MTH_USE_CHARGE"));
				ds_pcmGrid.SetColumn(idx, "col_10",	ToNumber(ds_pcmGrid.GetColumn(idx,"col_08"))+ToNumber(ds_pcmGrid.GetColumn(idx,"col_09")));
		}
				//ds_pcmGrid.SetColumn(0, "col_01",	ToNumber(ds_pcmGrid.GetColumn(0,"col_03"))-ToNumber(ds_pcmGrid.GetColumn(0,"col_02")));
				//ds_pcmGrid.SetColumn(0, "col_03",	ToNumber(ds_pcm02.GetColumn(0,"FINAL_MTH_AMT"))-ToNumber(ds_pcmGrid.GetColumn(0,"col_01")));
		//Grid2.Redraw = true;
	}


}


function df_save(obj)
{

		if(uf_IsNull(ds_pcm01.GetColumn(0, "ORG_ID"))){
		
			alert(cf_getMessage(MSG_00121, "대리점;저장"));
			div_search_btn_agency_OnClick();
			return;
		}		
		if(uf_IsNull(div_saleInfo.Edit0.Text)){
		
			alert("고객명을 작성한 후 저장하십시요.");
			div_saleInfo.Edit0.SetFocus();
			return;
		}		
		if(uf_IsNull(div_saleInfo.Edit3.Text)){
		
			alert("판매담당을 작성한 후 저장하십시요.");
			div_saleInfo.Edit3.SetFocus();
			return;
		}	
		//alert(div_saleInfo.cmb_gnrlCharge.index);
		if(div_saleInfo.cmb_gnrlCharge.index < 1){
		
			alert("요금제를 선택한 후 저장하십시요.");
			div_saleInfo.cmb_gnrlCharge.SetFocus();
			return;
		}		
		if(uf_IsNull(div_saleInfo.edt_ProdCd.Text)){
		
			alert(cf_getMessage(MSG_00121, "모델;저장"));
			div_saleInfo.edt_ProdCd.SetFocus();
			return;
		}		

        if(uf_IsNull(ds_condition.GetColumn(0, "UPD_CNT"))){
            ds_condition.SetColumn(0, "UPD_CNT","0");
        }


		ds_pcm01.setColumn(0, "SALE_PLC_NM", ds_condition.GetColumn(0, "SALE_PLC_NM"));	
		ds_pcm01.setColumn(0, "SALE_PLC_CD", ds_condition.GetColumn(0, "SALE_PLC_CD"));	

	    //저장하시겠습니까?
		if(confirm(cf_getMessage(MSG_00063, "")) == 1){


				if (uf_isNull(PSM_ID)== true) {
					sSvcID = "svcAdd";		
					sInDs  = " ds_pcm01=ds_pcm01 ";      
					sInDs += " ds_pcm02=ds_pcm02 ";      
					sInDs += " ds_mod=ds_mod ";          
					sInDs += " ds_condition=ds_condition ";          
		
					sOutDs = "";
		
					sArg = "sktst.sal.PCM#addPcm";
					cf_Transaction(sSvcID, sInDs, sOutDs, sArg);

				} else {
					
					sSvcID = "svcSave";
		
					sInDs  = " ds_pcm01=ds_pcm01 ";      
					sInDs += " ds_pcm02=ds_pcm02 ";      
					sInDs += " ds_mod=ds_mod ";          
					sInDs += " ds_condition=ds_condition ";          
		
					sOutDs = "";
		
					sArg = "sktst.sal.PCM#savePcm";
					cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
				}
		}
	
}




function df_delete(obj)
{
	
	if(confirm(cf_getMessage(MSG_00136, "삭제")) == 1){ //삭제 하시겠습니까?	
		var sSvcID = "svcDelete";
		var sInDs = "nc_input_fieldDs=ds_condition";
		var sOutDs = "";
		var sArg = "sktst.sal.PCM#deletePcm";
		
		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	}
	
}



/*******************************************************************************
 * @description    :  부가서비스계열 선택시 
*******************************************************************************/
function div_saleInfo_Combo0_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
     //alert(ds_suplSet.GetColumn(div_saleInfo.Combo0.Index,"COMM_CD_VAL"));
	//alert(strText+ "||" + strCode);
    //trace(ds_supl01.SaveXML());

	if        ( strCode == "CB01" ) {   //T-Zone계열
					div_saleInfo.cmb_supl01.InnerDataset = "ds_supl01";
	} else if ( strCode == "CB02" ) {   //TU계열
					div_saleInfo.cmb_supl01.InnerDataset = "ds_supl02";
	} else if ( strCode == "CB03" ) {   //메시지계열
					div_saleInfo.cmb_supl01.InnerDataset = "ds_supl03";
	} else if ( strCode == "CB04" ) {   //VAS계열
					div_saleInfo.cmb_supl01.InnerDataset = "ds_supl04";
	} else if ( strCode == "CB05" ) {   //통정계열
					div_saleInfo.cmb_supl01.InnerDataset = "ds_supl05";
	} else {
					div_saleInfo.cmb_supl01.InnerDataset = "ds_supl05";
					div_saleInfo.Combo0.Index = 4;
	}

	if (div_saleInfo.cmb_supl01.index < 0) {
		div_saleInfo.cmb_supl01.index = 0;   
	}
	
}

function div_saleInfo_Combo1_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	//alert(strText);
	if        ( strCode == "CB01" ) {   //T-Zone계열
					div_saleInfo.cmb_supl02.InnerDataset = "ds_supl01";
	} else if ( strCode == "CB02" ) {   //TU계열
					div_saleInfo.cmb_supl02.InnerDataset = "ds_supl02";
	} else if ( strCode == "CB03" ) {   //메시지계열
					div_saleInfo.cmb_supl02.InnerDataset = "ds_supl03";
	} else if ( strCode == "CB04" ) {   //VAS계열
					div_saleInfo.cmb_supl02.InnerDataset = "ds_supl04";
	} else if ( strCode == "CB05" ) {   //통정계열
					div_saleInfo.cmb_supl02.InnerDataset = "ds_supl05";
	} else {
					div_saleInfo.cmb_supl02.InnerDataset = "ds_supl03";
					div_saleInfo.Combo1.Index = 2;
	}

	if (div_saleInfo.cmb_supl02.index < 0) {
		div_saleInfo.cmb_supl02.index = 0;   
	}
	
}

function div_saleInfo_Combo2_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	//alert(strText);
	if        ( strCode == "CB01" ) {   //T-Zone계열
					div_saleInfo.cmb_supl03.InnerDataset = "ds_supl01";
	} else if ( strCode == "CB02" ) {   //TU계열
					div_saleInfo.cmb_supl03.InnerDataset = "ds_supl02";
	} else if ( strCode == "CB03" ) {   //메시지계열
					div_saleInfo.cmb_supl03.InnerDataset = "ds_supl03";
	} else if ( strCode == "CB04" ) {   //VAS계열
					div_saleInfo.cmb_supl03.InnerDataset = "ds_supl04";
	} else if ( strCode == "CB05" ) {   //통정계열
					div_saleInfo.cmb_supl03.InnerDataset = "ds_supl05";
	} else {
					div_saleInfo.cmb_supl03.InnerDataset = "ds_supl04";
					div_saleInfo.Combo2.Index = 3;
	}

	if (div_saleInfo.cmb_supl03.index < 0) {
		div_saleInfo.cmb_supl03.index = 0;   
	}
	
}

function div_saleInfo_Combo3_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	//alert(strText);
	if        ( strCode == "CB01" ) {   //T-Zone계열
					div_saleInfo.cmb_supl04.InnerDataset = "ds_supl01";
	} else if ( strCode == "CB02" ) {   //TU계열
					div_saleInfo.cmb_supl04.InnerDataset = "ds_supl02";
	} else if ( strCode == "CB03" ) {   //메시지계열
					div_saleInfo.cmb_supl04.InnerDataset = "ds_supl03";
	} else if ( strCode == "CB04" ) {   //VAS계열
					div_saleInfo.cmb_supl04.InnerDataset = "ds_supl04";
	} else if ( strCode == "CB05" ) {   //통정계열
					div_saleInfo.cmb_supl04.InnerDataset = "ds_supl05";
	} else {
					div_saleInfo.cmb_supl04.InnerDataset = "ds_supl01";
					div_saleInfo.Combo3.Index = 0;
	}

	if (div_saleInfo.cmb_supl04.index < 0) {
		div_saleInfo.cmb_supl04.index = 0;   
	}
	
}





function div_saleInfo_cmb_postDct03_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	
}

function div_saleInfo_cmb_supl01_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	df_suplSet();
}

function div_saleInfo_cmb_supl02_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	df_suplSet();	
}

function div_saleInfo_cmb_supl03_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	df_suplSet();
}

function div_saleInfo_cmb_supl04_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	df_suplSet();
}

/*******************************************************************************
* 함수명 : df_suplSet
* 기능명 : 부가+,-금액 계산
*******************************************************************************/
function df_suplSet()
{

	ds_pcm02.SetColumn(0,"SUPL_P_AMT",   ToNumber(object(div_saleInfo.cmb_supl01.InnerDataset).GetColumn(div_saleInfo.cmb_supl01.Index, "ADD_IC_AMT"))
	                                   + ToNumber(object(div_saleInfo.cmb_supl02.InnerDataset).GetColumn(div_saleInfo.cmb_supl02.Index, "ADD_IC_AMT"))
	                                   + ToNumber(object(div_saleInfo.cmb_supl03.InnerDataset).GetColumn(div_saleInfo.cmb_supl03.Index, "ADD_IC_AMT"))
	                                   + ToNumber(object(div_saleInfo.cmb_supl04.InnerDataset).GetColumn(div_saleInfo.cmb_supl04.Index, "ADD_IC_AMT"))
	                  );

	ds_pcm02.SetColumn(0,"SUPL_M_AMT",   ToNumber(object(div_saleInfo.cmb_supl01.InnerDataset).GetColumn(div_saleInfo.cmb_supl01.Index, "PENALTY_AMT"))
	                                   + ToNumber(object(div_saleInfo.cmb_supl02.InnerDataset).GetColumn(div_saleInfo.cmb_supl02.Index, "PENALTY_AMT"))
	                                   + ToNumber(object(div_saleInfo.cmb_supl03.InnerDataset).GetColumn(div_saleInfo.cmb_supl03.Index, "PENALTY_AMT"))
	                                   + ToNumber(object(div_saleInfo.cmb_supl04.InnerDataset).GetColumn(div_saleInfo.cmb_supl04.Index, "PENALTY_AMT"))
	                  );

	ds_pcm02.SetColumn(0,"SUPL_AMT",   ToNumber(ds_pcm02.GetColumn(0,"SUPL_P_AMT"))
	                                 - ToNumber(ds_pcm02.GetColumn(0,"SUPL_M_AMT"))
	                  );
}

]]></Script>
</Window>
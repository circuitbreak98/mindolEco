<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="600" Id="SALAGS00100" Left="8" OnLoadCompleted="SALAGS00100_OnLoadCompleted" PidAttrib="7" Title="일반판매_도매" Top="8" Ver="1.0" Width="1024" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_agreementAstamt">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_add_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="add_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_excel_cust_prom_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="excel_cust_prom_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbAddSuptCd">
				<Contents>
					<colinfo id="add_supt_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="add_supt_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="add_supt_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbBondPrem">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbChgrgId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbDsNetCd">
				<Contents>
					<colinfo id="ds_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbFrgGrtInsuCl">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbInsUserId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbMnpCmmsCl">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSaleChgrgId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSaleDtlTyp">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbScrbFeeCl">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSvcChgrgId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbTAgrmtPrdCd">
				<Contents>
					<colinfo id="agrmt_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbTuScrbFeeCl">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commDsNetCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commSaleDtlTyp">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commTAgrmtPrdCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disEqpInfo">
				<Contents>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_nm" size="256" summ="default" type="STRING"/>
					<record>
						<color_cd></color_cd>
						<color_nm></color_nm>
						<dis_hld_plc_id></dis_hld_plc_id>
						<dis_hld_plc_nm></dis_hld_plc_nm>
						<dis_st></dis_st>
						<dis_upd_cnt></dis_upd_cnt>
						<eqp_mdl_cd></eqp_mdl_cd>
						<eqp_mdl_nm></eqp_mdl_nm>
						<eqp_old_sale_yn></eqp_old_sale_yn>
						<eqp_ser_num></eqp_ser_num>
						<errcode></errcode>
						<errmsg></errmsg>
						<hld_plc_id></hld_plc_id>
						<hld_plc_nm></hld_plc_nm>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disEqpStatus">
				<Contents>
					<colinfo id="err_code" size="256" summ="default" type="STRING"/>
					<colinfo id="err_msg" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disOutEqpInfo"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disOutUsimInfo"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disUsimInfo">
				<Contents>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_nm" size="256" summ="default" type="STRING"/>
					<record>
						<color_cd></color_cd>
						<color_nm></color_nm>
						<dis_hld_plc_id></dis_hld_plc_id>
						<dis_hld_plc_nm></dis_hld_plc_nm>
						<dis_st></dis_st>
						<dis_upd_cnt></dis_upd_cnt>
						<errcode></errcode>
						<errmsg></errmsg>
						<hld_plc_id></hld_plc_id>
						<hld_plc_nm></hld_plc_nm>
						<usim_mdl_cd></usim_mdl_cd>
						<usim_mdl_nm></usim_mdl_nm>
						<usim_old_sale_yn></usim_old_sale_yn>
						<usim_ser_num></usim_ser_num>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disUsimStatus">
				<Contents>
					<colinfo id="err_code" size="256" summ="default" type="STRING"/>
					<colinfo id="err_msg" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_equipmentSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<record>
						<dis_upd_cnt></dis_upd_cnt>
						<eqp_color_cd></eqp_color_cd>
						<eqp_mdl_cd></eqp_mdl_cd>
						<eqp_mdl_nm></eqp_mdl_nm>
						<eqp_old_sale_yn></eqp_old_sale_yn>
						<eqp_ser_num></eqp_ser_num>
						<gnrl_sale_chg_seq></gnrl_sale_chg_seq>
						<gnrl_sale_no></gnrl_sale_no>
						<hld_plc_id></hld_plc_id>
						<hld_plc_nm></hld_plc_nm>
						<ins_dtm></ins_dtm>
						<ins_user_id></ins_user_id>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_generalSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_hst_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_mod_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="stl_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="stl_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_mgmt_num" size="256" summ="default" type="STRING"/>
					<colinfo id="inden_num" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_aprv_num" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_biz_num" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_birth_year" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_num" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="settl_cond" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="add_suprt_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_bond_corp" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_bond_corp" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="online_payment_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="excel_cust_prom_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="tgate_recv_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_generalSaleIfInfo">
				<Contents>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
					<colinfo id="if_rec_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="if_rec_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="pos_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="pos_agency_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="channel_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_mgmt_num" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_chgrg_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_com" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl_ps" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl_ps_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="column0" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_biz_num" size="256" summ="default" type="STRING"/>
					<colinfo id="inden_num" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_aprv_num" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tgate_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="online_deal_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_settl_cond" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_settl_cond_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="free_allot_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_rsn_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="fst_svc_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_chg_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="term_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_hst_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_hst_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_apnd_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="error_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_nm_view" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_num_view" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_biz_num_view" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num_view" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num_view" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_int_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="excel_cust_prom_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="excel_cust_prom_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="tgate_recv_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ukey_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="reserv_sale_yn" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_gnrlSaleNo">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_input"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_oldrtnEquipment">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_mdl" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_cust_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_cust_rtn_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_output"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_param">
				<Contents>
					<colinfo id="old_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_cust_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_cust_rtn_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_mdl" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_ser_num" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_payment">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_phone_safe_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_dpst_acc_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_dpst_acc_cmms1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_dpst_acc_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_dpst_acc_cmms2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_skt_prprc_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_skt_prprc_prxpay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_sum_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_pay_sum_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_prxpay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_procInput">
				<Contents>
					<colinfo id="iv_act_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_proc_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_mgmt_no" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_prod_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_bad_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_promotionMoney">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_gnrl_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_supl_svc_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_sale_suprt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_add_sale_suprt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_suprt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="add_sale_suprt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_saleCmms">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_supl_svc_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_add_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cmms_adj" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="add_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="cmms_adj" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_sktPrprc">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_tu_scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_frg_grt_insu_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="bond_prem" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_splstMdl">
				<Contents>
					<colinfo id="allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_yn" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_temp">
				<Contents>
					<colinfo id="supl_svc_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="chk" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ukeySaleInfo">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_hst_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_mod_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="stl_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="stl_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_mgmt_num" size="256" summ="default" type="STRING"/>
					<colinfo id="inden_num" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_biz_num" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_birth_year" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_num" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="settl_cond" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="add_suprt_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_bond_corp" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_bond_corp" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_mdl" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_cust_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="add_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrdcorp1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrdcorp2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="mer_bond_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bamt_cash_rfnd" size="256" summ="default" type="STRING"/>
					<colinfo id="bamt_mer_bond_rfnd" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_prxpay_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_uplst">
				<Contents>
					<colinfo id="exit_cash_prchs_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="exit_crdt_prchs_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="exit_strd_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="fix_cash_prchs_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="fix_crdt_prchs_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="fix_strd_sale_prc" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_usimSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<record>
						<dis_upd_cnt></dis_upd_cnt>
						<gnrl_sale_chg_seq></gnrl_sale_chg_seq>
						<gnrl_sale_no></gnrl_sale_no>
						<ins_dtm></ins_dtm>
						<ins_user_id></ins_user_id>
						<usim_color_cd></usim_color_cd>
						<usim_mdl_cd></usim_mdl_cd>
						<usim_old_sale_yn></usim_old_sale_yn>
						<usim_ser_num></usim_ser_num>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_eqpOldSaleBackup">
				<Contents>
					<colinfo id="status" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_settl_cond" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_settl_cond_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_usimOldSaleBackup">
				<Contents>
					<colinfo id="status" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_onlinePayment">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="online_stl_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_allot_pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_acc_trnsf_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_acc_trnsf_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_virtl_acc_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_virtl_acc_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_foi_cl1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_foi_cl2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_foi_cl1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_foi_cl2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rtnDisDtr">
				<Contents>
					<colinfo id="eqp_errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_errmsg" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disDtrUsimInfo">
				<Contents>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="act_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="out_mgmt_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="out_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="out_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="in_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="out_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bad_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_out_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disDtrEqpInfo">
				<Contents>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="act_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="out_mgmt_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="out_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="out_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="in_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="out_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bad_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_out_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commIdmLmtCd">
				<Contents>
					<colinfo id="comm_cd_val" size="255" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="255" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commSupCl">
				<Contents>
					<colinfo id="comm_cd_val" size="255" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="255" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_generalSuplIfList">
				<Contents>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="idm_lmt_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ends_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="pr_mny_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_sta_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_end_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="status_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rgst_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="chk" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_suplservice">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="st_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_sta_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_end_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="idm_lmt_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ends_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="pr_mny_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_cmms_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="rgst_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="status_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="chk" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_allotSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cashSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_etc_prod_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_etc_prod_org_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_org_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ocbMcard">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_ocb_mcard" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_oldSaleInfo">
				<Contents>
					<colinfo id="old_rtn_yn" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_prodExchange">
				<Contents>
					<colinfo id="exchg_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="exchg_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="diff_eqp_chg_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_exchg_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_bad_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_bad_dtl_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_exchg_rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_exchg_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_bad_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_bad_dtl_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_exchg_rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="af_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="af_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="af_eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="af_eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="af_usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="af_usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_onlineCmms">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cash_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_allot_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_settl_crdtcrd_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cmms_adj" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_acc_trnsf_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_virtl_acc_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="online_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="online_stl_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="settl_crdtcrd_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="cmms_adj" size="256" summ="default" type="STRING"/>
					<colinfo id="cmms_rpay" size="256" summ="default" type="STRING"/>
					<colinfo id="asmpt_close_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="asmpt_close_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_channelExchange">
				<Contents>
					<colinfo id="exchg_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="exchg_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_mgmt_num" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_stl_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_dis_hld_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_sl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_sl_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="af_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="af_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="af_sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="af_stl_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="af_dis_hld_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="af_sl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="af_sl_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="del_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="mod_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_TGateInfo">
				<Contents>
					<colinfo id="comm_req_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Image Align="Left" Height="25" Id="Image7" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="5" Text="단말기&#32;정보" Top="156" Width="192"></Image>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_save" ImageID="btn_c_2" Left="886" LeftMargin="5" OnClick="btn_save_OnClick" Style="sty_btn_c" TabOrder="1" Text="저장" Top="565" Visible="FALSE" Width="60"></Button>
		<Image Align="Left" Height="25" Id="Image5" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="2" Text="부가상품" Top="399" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image3" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="3" Text="거래처정보" Top="10" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image4" ImageID="bul_tit" Left="692" LeftMargin="15" Style="sty_img_tit" TabOrder="4" Text="고객정보" Top="10" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image9" ImageID="bul_tit" Left="517" LeftMargin="15" Style="sty_img_tit" TabOrder="6" Text="USIM&#32;정보" Top="156" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image1" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="7" Text="판매정보" Top="254" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image10" ImageID="bul_tit" Left="544" LeftMargin="15" Style="sty_img_tit" TabOrder="9" Text="판매정보" Top="254" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image8" ImageID="bul_tit" Left="766" LeftMargin="15" Style="sty_img_tit" TabOrder="8" Text="SKT&#32;예수금" Top="254" Width="192"></Image>
		<Div Border="Raised" Height="111" Id="div_dealCoInfo" Left="10" Style="sty_div_input" TabOrder="10" Text="Div0" Top="35" Width="673">
			<Contents>
				<Static Align="Right" Height="20" Id="Static0" Left="338" Style="sty_lb_Basic" TabOrder="16" Text="개통처" Top="30" VAlign="Middle" Width="60"></Static>
				<Calendar Border="Flat" ButtonImageID="btn_i_calendar" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_saleDtm" Left="87" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" OnChanged="div_dealCoInfo_cal_saleDtm_OnChanged" OnKeyDown="div_dealCoInfo_cal_saleDtm_OnKeyDown" OnKillFocus="div_dealCoInfo_cal_saleDtm_OnKillFocus" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="1" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="109"></Calendar>
				<Static Align="Right" Height="20" Id="Static6" Left="24" Style="sty_lb_Basic" TabOrder="2" Text="판매일시" Top="9" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="sale_plc_nm" Enable="FALSE" Height="20" Id="edt_salePlcNm" Left="87" LeftMargin="2" OnCharChanged="div_dealCoInfo_edt_salePlcNm_OnCharChanged" OnKeyDown="div_dealCoInfo_edt_salePlcNm_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="53" Width="92"></Edit>
				<Button Enable="FALSE" Height="21" Id="btn_salePlc" ImageID="btn_i_detail" Left="178" OnClick="div_dealCoInfo_btn_salePlc_OnClick" OnKeyDown="div_dealCoInfo_btn_salePlc_OnKeyDown" TabOrder="4" Text="Button0" Top="53" Width="19"></Button>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcUkeyCd" Left="197" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="53" Width="46"></Edit>
				<Static Align="Right" Height="20" Id="Static1" Left="24" Style="sty_lb_Basic" TabOrder="6" Text="판매처" Top="54" VAlign="Middle" Width="60"></Static>
				<Calendar BindDataset="ds_generalSaleIfInfo" Border="Flat" ButtonImageID="btn_i_calendar" Column="proc_dt" DayFont="Default,-1" Enable="FALSE" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_svcDtm" Left="400" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" OnChanged="div_dealCoInfo_cal_svcDtm_OnChanged" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="7" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="109"></Calendar>
				<Static Align="Right" Height="20" Id="Static5" Left="337" Style="sty_lb_Basic" TabOrder="8" Text="개통일시" Top="7" VAlign="Middle" Width="60"></Static>
				<Static Align="Right" Height="20" Id="Static7" Left="329" Style="sty_lb_Basic" TabOrder="9" Text="개통담당" Top="53" VAlign="Middle" Width="68"></Static>
				<Edit Align="CENTER" Border="Flat" Height="20" Id="edt_saleDtmHh" ImeMode="none" Left="197" LeftMargin="2" MaxLength="2" Number="TRUE" OnChanged="div_dealCoInfo_edt_saleDtmHh_OnChanged" OnKillFocus="div_dealCoInfo_edt_saleDtmHh_OnKillFocus" RightMargin="2" Style="sty_ipt_form" TabOrder="10" Top="7" Width="38"></Edit>
				<Edit Align="CENTER" Border="Flat" Height="20" Id="edt_saleDtmMm" ImeMode="none" Left="236" LeftMargin="2" MaxLength="2" Number="TRUE" OnChanged="div_dealCoInfo_edt_saleDtmMm_OnChanged" OnKillFocus="div_dealCoInfo_edt_saleDtmMm_OnKillFocus" RightMargin="2" Style="sty_ipt_form" TabOrder="11" Top="7" Width="39"></Edit>
				<Edit Align="CENTER" Border="Flat" Enable="FALSE" Height="20" Id="edt_svcDtmHh" ImeMode="none" Left="510" LeftMargin="2" MaxLength="2" Number="TRUE" OnChanged="div_general_edt_svcDtmHh_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="12" Top="7" Width="38"></Edit>
				<Edit Align="CENTER" Border="Flat" Enable="FALSE" Height="20" Id="edt_svcDtmMm" ImeMode="none" Left="549" LeftMargin="2" MaxLength="2" Number="TRUE" OnChanged="div_general_edt_svcDtmMm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="13" Top="7" Width="39"></Edit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="svc_plc_nm" Enable="FALSE" Height="20" Id="edt_svcPlcNm" Left="400" LeftMargin="2" OnChanged="div_dealCoInfo_edt_svcPlcNm_OnChanged" OnKeyDown="div_dealCoInfo_edt_svcPlcNm_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="14" Top="30" Width="92"></Edit>
				<Button Enable="FALSE" Height="21" Id="btn_svcPlc" ImageID="btn_i_detail" Left="491" OnClick="div_dealCoInfo_btn_svcPlc_OnClick" OnKeyDown="div_dealCoInfo_btn_svcPlc_OnKeyDown" TabOrder="15" Text="Button0" Top="30" Width="19"></Button>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcSubCd" Left="244" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="17" Top="53" Width="31"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcChannelCd" Left="276" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="18" Top="53" Width="68"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_svcPlcUkeyCd" Left="510" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="19" Top="30" Width="46"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_svcPlcSubCd" Left="557" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="20" Top="30" Width="31"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_svcPlcChannelCd" Left="589" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="21" Top="30" Width="68"></Edit>
				<Static Align="Right" Height="20" Id="Static4" Left="329" Style="sty_lb_Basic" TabOrder="22" Text="처리자" Top="76" VAlign="Middle" Width="68"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="sale_plc" Height="20" Id="edt_salePlc" Left="292" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="23" Top="83" Visible="FALSE" Width="24"></Edit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="svc_plc" Height="20" Id="edt_svcPlc" Left="640" LeftMargin="2" OnKeyDown="div_general_edt_svcPlc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="24" Top="53" Visible="FALSE" Width="16"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_stlPlc" Left="118" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="25" Top="84" Visible="FALSE" Width="48"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_stlPlcNm" Left="172" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="26" Top="83" Visible="FALSE" Width="110"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_insUserNm" Left="400" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="27" Top="76" Width="110"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_insUserId" Left="512" LeftMargin="2" OnKeyDown="div_general_edt_svcPlc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="28" Top="76" Visible="FALSE" Width="16"></Edit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="proc_chgrg_nm" Enable="FALSE" Height="20" Id="edt_svcChgrgNm" Left="400" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="29" Top="53" Width="110"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_disHldPlc" Left="62" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="30" Top="84" Visible="FALSE" Width="48"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_posAgencyCd" Left="6" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="31" Top="84" Visible="FALSE" Width="48"></Edit>
				<Static Align="Right" Height="20" Id="Static8" Left="24" Style="sty_lb_Basic" TabOrder="37" Text="접수일시" Top="30" VAlign="Middle" Width="60"></Static>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_RecvDtm" Left="87" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="39" Top="30" Width="188"></Edit>
				<MaskEdit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="tgate_recv_dtm" DecimalLen="0" DigitLen="0" DisplayComma="FALSE" Enable="FALSE" Height="20" Id="msk_RecvDtm" Left="167" LeftMargin="2" Mask="####-##-##&#32;##:##:##" NullValue="0" Readonly="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="38" TabStop="FALSE" Top="30" Type="STRING" Visible="FALSE" Width="188"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static2" Left="-9" Style="sty_lb_dataview" TabOrder="36" Text="영업승인번호" Top="75" VAlign="Middle" Width="92"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="sale_aprv_num" Enable="FALSE" Height="20" Id="edt_saleAprvNum" Left="87" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="35" Top="76" Width="189"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="111" Id="div_custInfo" Left="693" Style="sty_div_input" TabOrder="11" Text="Div0" Top="35" Width="321">
			<Contents>
				<Static Align="Right" Height="20" Id="Static4" Left="121" Style="sty_lb_Basic" TabOrder="1" Text="서비스관리번호" Top="52" VAlign="Middle" Width="92"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="svc_mgmt_num" Enable="FALSE" Height="20" Id="edt_svcMgmtNum" Left="216" LeftMargin="2" MaxLength="10" RightMargin="2" Style="sty_ipt_form" TabOrder="2" Top="52" Width="92"></Edit>
				<Static Align="Right" Height="20" Id="Static1" Left="-7" Style="sty_lb_Basic" TabOrder="3" Text="고객명" Top="7" VAlign="Middle" Width="68"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="cust_nm_view" Enable="FALSE" Height="20" Id="edt_custNm" Left="65" LeftMargin="2" MaxLength="10" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Width="73"></Edit>
				<Static Align="Right" Height="20" Id="Static2" Left="137" Style="sty_lb_Basic" TabOrder="5" Text="주민번호" Top="29" VAlign="Middle" Width="76"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="cust_biz_num_view" Enable="FALSE" Height="20" Id="edt_custBizNum" Left="216" LeftMargin="2" MaxLength="13" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="29" Width="92"></Edit>
				<Static Align="Right" Height="20" Id="Static3" Left="153" Style="sty_lb_Basic" TabOrder="7" Text="개통번호" Top="6" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="svc_num_view" Enable="FALSE" Height="20" Id="edt_svcNum" Left="216" LeftMargin="2" MaxLength="14" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="6" Width="92"></Edit>
				<Static Align="Right" Height="20" Id="Static0" Left="-7" Style="sty_lb_Basic" TabOrder="9" Text="고객구분" Top="30" VAlign="Middle" Width="68"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="cust_cl_ps_nm" Enable="FALSE" Height="20" Id="edt_custClNm" Left="65" LeftMargin="2" MaxLength="10" RightMargin="2" Style="sty_ipt_form" TabOrder="10" Top="30" Width="73"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="64" Id="div_eqpInfo" Left="10" Style="sty_div_input" TabOrder="12" Text="Div0" Top="181" Width="497">
			<Contents>
				<Static Align="Right" Height="20" Id="Static1" Left="-26" Style="sty_lb_Basic" TabOrder="1" Text="일련번호" Top="7" VAlign="Middle" Width="92"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="eqp_mdl_nm" Enable="FALSE" Height="20" Id="edt_eqpMdlCd" Left="177" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="2" Top="7" Width="76"></Edit>
				<Edit BindDataset="ds_disEqpInfo" Border="Flat" Column="dis_hld_plc_nm" Enable="FALSE" Height="20" Id="edt_eqpHldPlcNm" Left="254" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="7" Width="135"></Edit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="eqp_ser_num" Enable="FALSE" Height="20" Id="edt_eqpSerNum" Left="71" LeftMargin="2" MaxLength="30" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Width="105"></Edit>
				<Checkbox Enable="FALSE" FalseValue="N" Height="20" Id="chk_eqpOldSaleYn" Left="396" LeftMargin="5" Style="sty_opt_input" TabOrder="5" Text="중고판매" Top="7" TrueValue="Y" Value="FALSE" Width="86"></Checkbox>
				<Static Align="Right" Height="20" Id="Static20" Left="-3" Style="sty_lb_Basic" TabOrder="6" Text="결제조건" Top="29" VAlign="Middle" Width="68"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="eqp_settl_cond_nm" Enable="FALSE" Height="20" Id="edt_settlCondNm" Left="71" LeftMargin="2" MaxLength="7" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="30" Width="73"></Edit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="allot_prd_nm" Enable="FALSE" Height="20" Id="edt_allotPrdNm" Left="145" LeftMargin="2" MaxLength="7" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="30" Width="73"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="64" Id="div_usimInfo" Left="517" Style="sty_div_input" TabOrder="13" Text="Div0" Top="181" Width="497">
			<Contents>
				<MaskEdit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="usim_allot_prc" Enable="FALSE" Height="20" Id="msk_usimSalePrc" Left="145" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="30" Width="65"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static3" Left="-1" Style="sty_lb_Basic" TabOrder="1" Text="일련번호" Top="7" VAlign="Middle" Width="68"></Static>
				<Checkbox Enable="FALSE" FalseValue="N" Height="20" Id="chk_UsimOldSaleYn" Left="398" LeftMargin="5" Style="sty_opt_input" TabOrder="2" Text="중고판매" Top="7" TrueValue="Y" Value="FALSE" Width="86"></Checkbox>
				<Static Align="Right" Height="20" Id="Static5" Left="-25" Style="sty_lb_Basic" TabOrder="3" Text="결제조건" Top="30" VAlign="Middle" Width="92"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="usim_mdl_nm" Enable="FALSE" Height="20" Id="edt_usimMdlCd" Left="177" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="7" Width="76"></Edit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="usim_ser_num" Enable="FALSE" Height="20" Id="edt_usimSerNum" Left="71" LeftMargin="2" MaxLength="30" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="7" Width="105"></Edit>
				<Edit BindDataset="ds_disUsimInfo" Border="Flat" Column="dis_hld_plc_nm" Enable="FALSE" Height="20" Id="edt_usimHldPlcNm" Left="254" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="7" Width="135"></Edit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="usim_allot_cl_nm" Enable="FALSE" Height="20" Id="edt_usimAllotClNm" Left="71" LeftMargin="2" MaxLength="8" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="30" Width="73"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="111" Id="div_saleInfo" Left="10" Style="sty_div_input" TabOrder="14" Text="Div0" Top="279" Width="524">
			<Contents>
				<Static Align="Right" Height="20" Id="Static16" Left="213" Style="sty_lb_Basic" TabOrder="3" Text="약정기간" Top="7" VAlign="Middle" Width="92"></Static>
				<Static Align="Right" Height="20" Id="Static17" Left="-2" Style="sty_lb_Basic" TabOrder="2" Text="유통망" Top="55" VAlign="Middle" Width="68"></Static>
				<Static Align="Right" Height="20" Id="Static1" Left="-26" Style="sty_lb_Basic" TabOrder="1" Text="판매유형" Top="30" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="ocb_mcard_prc" Enable="FALSE" Height="20" Id="msk_ocbMcardPrc" Left="428" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" OnChanged="div_saleInfo_msk_ocbMcardPrc_OnChanged" OnKeyDown="div_saleInfo_msk_ocbMcardPrc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="76" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static9" Left="214" Style="sty_lb_Basic" TabOrder="5" Text="OCB/M카드" Top="77" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="agrmt_amt" Enable="FALSE" Height="20" Id="msk_agrmtPrdCdAmt" Left="428" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="7" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static3" Left="-26" Style="sty_lb_Basic" TabOrder="9" Text="중고반납" Top="76" VAlign="Middle" Width="92"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Enable="FALSE" Height="20" Id="edt_oldRtnTypNm" Left="70" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="76" Width="132"></Edit>
				<Button Enable="FALSE" Height="21" Id="btn_oldRtn" ImageID="btn_i_detail" Left="201" OnClick="div_saleInfo_btn_oldRtn_OnClick" TabOrder="7" Top="76" Width="19"></Button>
				<Static Align="Right" Height="20" Id="Static0" Left="-26" Style="sty_lb_Basic" TabOrder="10" Text="영업망" Top="6" VAlign="Middle" Width="92"></Static>
				<Combo Border="Flat" Height="20" Id="cmb_slNetCd" Left="69" OnChanged="div_saleInfo_cmb_slNetCd_OnChanged" Style="sty_ipt_form" TabOrder="11" Top="6" Width="151"></Combo>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="agrmt_prd_nm" Enable="FALSE" Height="20" Id="edt_agrmtPrdNm" Left="309" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="12" Top="7" Width="118"></Edit>
				<MaskEdit Border="Flat" Enable="FALSE" Height="20" Id="msk_addSuptCdAmt" Left="428" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="13" Top="53" Value="0" Width="81"></MaskEdit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_addSuptNm" Left="309" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="14" Top="53" Width="118"></Edit>
				<Static Align="Right" Height="20" Id="Static19" Left="238" Style="sty_lb_Basic" TabOrder="15" Text="추가지원금" Top="55" VAlign="Middle" Width="68"></Static>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Enable="FALSE" Height="20" Id="edt_ocbMcard" Left="309" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="16" Top="76" Width="118"></Edit>
				<Combo BindDataset="ds_generalSaleIfInfo" Border="Flat" CodeColumn="comm_cd_val" Column="sale_dtl_typ" DataColumn="comm_cd_val_nm" Enable="FALSE" Height="20" Id="cmb_saleDtlTyp" InnerDataset="ds_commSaleDtlTyp" Left="69" OnChanged="div_saleInfo_cmb_saleDtlTyp_OnChanged" Style="sty_ipt_form" TabOrder="17" Top="29" Width="151"></Combo>
				<Combo BindDataset="ds_generalSaleIfInfo" Border="Flat" CodeColumn="comm_cd_val" Column="ds_net_cd" DataColumn="comm_cd_val_nm" Enable="FALSE" Height="20" Id="cmb_DsNetCd" InnerDataset="ds_commDsNetCd" Left="69" OnChanged="div_saleInfo_cmb_DsNetCd_OnChanged" Style="sty_ipt_form" TabOrder="18" Top="52" Width="151"></Combo>
				<Static Align="Right" Height="20" Id="Static2" Left="213" Style="sty_lb_Basic" TabOrder="19" Text="대리점밴드2" Top="30" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="retention_agrmt_astamt" Enable="FALSE" Height="20" Id="msk_rtn_agrmtastamt" Left="428" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="20" Top="30" Value="0" Width="81"></MaskEdit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="111" Id="div_sktPrprc" Left="766" Style="sty_div_input" TabOrder="15" Text="Div0" Top="279" Width="248">
			<Contents>
				<MaskEdit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="frg_grt_insu_fee" Enable="FALSE" Height="20" Id="msk_frgGrtInsuFee" Left="160" LeftMargin="2" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="53" Value="0" Visible="FALSE" Width="74"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static1" Left="9" Style="sty_lb_Basic" TabOrder="1" Text="가입비" Top="7" VAlign="Middle" Width="84"></Static>
				<Static Align="Right" Height="20" Id="Static3" Left="17" Style="sty_lb_Basic" TabOrder="2" Text="보증보험료" Top="53" VAlign="Middle" Visible="FALSE" Width="76"></Static>
				<Static Align="Right" Height="20" Id="Static5" Left="1" Style="sty_lb_Basic" TabOrder="3" Text="MNP수수료" Top="30" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="scrb_fee" Enable="FALSE" Height="20" Id="msk_scrbFee" Left="160" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="7" Value="0" Width="74"></MaskEdit>
				<MaskEdit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="mnp_cmms" Enable="FALSE" Height="20" Id="msk_mnpCmms" Left="160" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="30" Value="0" Width="74"></MaskEdit>
				<MaskEdit Border="Flat" Enable="FALSE" Height="20" Id="msk_sktTotSaleAmt" Left="160" LeftMargin="2" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="76" Value="0" Visible="FALSE" Width="74"></MaskEdit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="scrb_fee_cl_nm" Enable="FALSE" Height="20" Id="edt_scrbFeeClNm" Left="96" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="7" Width="63"></Edit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="mnp_cmms_cl_nm" Enable="FALSE" Height="20" Id="edt_mnpCmmsClNm" Left="96" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="9" Top="30" Width="63"></Edit>
				<Edit BindDataset="ds_generalSaleIfInfo" Border="Flat" Column="frg_grt_insu_cl_nm" Enable="FALSE" Height="20" Id="edt_frgGrtInsuClNm" Left="96" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="10" Top="53" Visible="FALSE" Width="63"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="111" Id="div_prcInfo" Left="544" Style="sty_div_input" TabOrder="16" Text="Div0" Top="279" Width="212">
			<Contents>
				<Static Align="Right" Height="20" Id="Static12" Left="5" Style="sty_lb_Basic" TabOrder="2" Text="할부판매가" Top="7" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_generalSaleIfInfo" Border="Flat" Enable="FALSE" Height="20" Id="msk_eqpAllotSalePrc" Left="102" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="1" Top="7" Value="0" Width="97"></MaskEdit>
				<MaskEdit Border="Flat" Enable="FALSE" Height="20" Id="msk_eqpCashSalePrc" Left="102" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="30" Value="0" Width="97"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static15" Left="13" Style="sty_lb_Basic" TabOrder="4" Text="현금판매가" Top="30" VAlign="Middle" Width="84"></Static>
			</Contents>
		</Div>
		<Div Border="Raised" Height="128" Id="div_rmks" Left="767" Style="sty_div_input" TabOrder="17" Text="Div0" Top="425" Width="247">
			<Contents>
				<TextArea BindDataset="ds_generalSaleIfInfo" Border="Flat" Height="110" Id="txa_rmks" Left="7" Style="sty_ipt_form" TabOrder="1" Top="6" VScroll="TRUE" Width="228"></TextArea>
			</Contents>
		</Div>
		<Image Align="Left" Height="25" Id="Image6" ImageID="bul_tit" Left="767" LeftMargin="15" Style="sty_img_tit" TabOrder="18" Text="비고" Top="400" Width="192"></Image>
		<Button ButtonStyle="TRUE" Cursor="HAND" Height="21" Id="btn_supservice" ImageID="btn_b_2" Left="706" OnClick="btn_supservice_OnClick" Style="sty_btn_b" TabOrder="19" Text="등록" Top="401" Width="50"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_disDtr" ImageID="btn_e_6" Left="10" LeftMargin="15" OnClick="btn_disDtr_OnClick" Style="sty_btn_e" TabOrder="20" Text="재고조정이동" Top="565" Width="110"></Button>
		<Grid AutoFit="TRUE" BindDataset="ds_suplservice" BkColor2="user32" BoldHead="true" Border="Flat" Bottom="553" Enable="true" EndLineColor="default" FillArea="TRUE" FillAreaType="Control" HeadBorder="Flat" HeadHeight="22" Height="128" Id="grd_suplservice" InputPanel="FALSE" Left="10" LineColor="user33" MinWidth="100" Right="756" RowHeight="21" Style="sty_Grid" TabOrder="21" TabStop="true" Top="425" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="user33" WheelScrollRow="1" Width="746">
			<contents>
				<format id="Default">
					<columns>
						<col width="34"/>
						<col width="83"/>
						<col width="113"/>
						<col width="66"/>
						<col width="80"/>
						<col width="71"/>
						<col width="78"/>
					</columns>
					<head>
						<cell bkcolor="user34" col="0" color="user35" display="text" text="번호"/>
						<cell bkcolor="user34" col="1" color="user35" display="text" text="상품구분"/>
						<cell bkcolor="user34" col="2" color="user35" display="text" text="부가상품"/>
						<cell bkcolor="user34" col="3" color="user35" display="text" text="유치기한"/>
						<cell bkcolor="user34" col="4" color="user35" display="text" text="가입일"/>
						<cell bkcolor="user34" col="5" color="user35" display="text" text="가입해지일"/>
						<cell bkcolor="user34" col="6" color="user35" display="text" text="장려금"/>
					</head>
					<body>
						<cell align="center" col="0" display="text" expr="row&#32;+&#32;1"/>
						<cell align="left" col="1" colid="prod_cl" combocol="comm_cd_val" combodataset="ds_commSupCl" combotext="comm_cd_val_nm" display="combo" edit="combo"/>
						<cell align="left" col="2" colid="supl_svc_nm" display="text"/>
						<cell align="center" col="3" colid="idm_lmt_cd" combocol="comm_cd_val" combodataset="ds_commIdmLmtCd" combotext="comm_cd_val_nm" display="combo" edit="combo"/>
						<cell col="4" colid="svc_sta_dt" display="date"/>
						<cell col="5" colid="svc_end_dt" display="date"/>
						<cell col="6" colid="pr_mny_yn" display="checkbox" expr="decode(pr_mny_yn,&apos;Y&apos;,&apos;1&apos;,&apos;1&apos;,&apos;1&apos;,&apos;0&apos;)"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_close" ImageID="btn_d_2" Left="952" LeftMargin="5" OnClick="btn_close_OnClick" Style="sty_btn_d" TabOrder="22" Text="닫기" Top="565" Width="60"></Button>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* 프로그램ID : SALAGS00100
* 업무명      : 일반판매 - 도매
* 프로그램명  :
--------------------------------------------------------------------------------
* 작성자      : 이문규
* 작성일      : 2009.02.09
--------------------------------------------------------------------------------
* 1. 변경이력
수정자    :
수정일    :
수정 내역 :
*******************************************************************************/

//==============================================================================
// 공통 스크립트 로딩
//==============================================================================
#include "lib::lib_commF.js"
#include "lib::lib_commPopup.js"
#include "lib::lib_commMsg.js"
#include "lib::lib_SAL.js"

//==============================================================================
// 폼 변수 정의
//==============================================================================
var FV_SL_CL;                      //영업구분 - 도매

var FV_DIS_FIRST_SEARCH_YN;        //재고-단말기 상태 조회 구분  onload : 01 , 판매처,판매일자 : 02
var FV_GET_SPLST_MDL_YN;           //모델별 판매가격표 조회 여부

var FV_DIS_EQP_ERR_STATUS  = "0";  //단말기오류상태 ( 0:정상, 1:오류)
var FV_DIS_USIM_ERR_STATUS = "0";  //USIM  오류상태 ( 0:정상, 1:오류)
var FV_EQP_ERR_CODE;               //단말기 오류 코드
var FV_USIM_ERR_CODE;              //USIM 오류 코드
var FV_EQP_ERR_MSG;                //단말기 오류 메세지
var FV_USIM_ERR_MSG;               //USIM 오류 메세지

var FV_EQP_POL_ERR_CODE;           //단말기 정책 오류코드
var FV_EQP_POL_ERR_MSG;            //단말기 정책 오류메세지
var FV_USIM_POL_ERR_CODE;          //USIM 정책 오류코드
var FV_USIM_POL_ERR_MSG;           //USIM 정책 오류메세지

var FV_IF_PROC_CL;                 //처리구분  1:Ukey if     2:PS   3 : DUMMY   4 : 판매처변경    5 : 가입비분납전환   6: 약정변경
var FV_OP_DT;                      //IF 처리일자
var FV_OP_TM;                      //IF 처리시간
var FV_SEQ;                        //IF 처리순번
var FV_UPD_CNT;                    //UPDATE COUNT

var FV_LOGIN_USER_ID;              //로그인 유저 아이디
var FV_LOGIN_USER_NM;              //로그인 유저 명
var FV_LOGIN_DUTY;                 //권한구분

var FV_OLD_RTN_YN;

var FV_SALE_DT_KEY_YN;            // cal_saleDtm : onKeyDown 이벤트 적용여부
var FV_DIS_ERR_YN;                // 단말기/USIM 재고 조회시 ERROR 상태
var FV_POL_ERR_YN;                // 판매가격 조회시 ERROR 상태

/*******************************************************************************
 * @description    : 최초 폼 로드시 발생 - 이벤트
*******************************************************************************/
function SALAGS00100_OnLoadCompleted(obj)
{
	cf_setAuth(pFrmNum);	   // 권한 공통

    lf_formVarInit();          //로컬변수 초기화
	lf_combomInit();           //콤보박스 초기화
	lf_formInit();             //폼 초기화
	lf_getSaleInfo();
}

/*******************************************************************************
 * @description         : 로컬 변수 초기화 초기화
*******************************************************************************/
function lf_formVarInit()
{
    FV_SL_CL = "02";                  //도매

    //영업관리 U.Key I/F 현황 화면 param
    FV_IF_PROC_CL    = p_if_proc_cl;  //처리구분  1:Ukey if     2:PS   3 : DUMMY   4 : 판매처변경    5 : 가입비분납전환   6: 약정변경
    FV_OP_DT         = p_op_dt;       //전송일자
    FV_OP_TM         = p_op_tm;       //전송시각
    FV_SEQ           = p_seq;         //순번

    //global 변수
    FV_LOGIN_USER_ID = gds_session.GetColumn(0,"loginId"); //로그인 유저 아이디
    FV_LOGIN_USER_NM = gds_session.GetColumn(0,"userNm");  //로그인 유저 명
    FV_LOGIN_DUTY    = gds_session.GetColumn(0,"duty");    //권한

    //local 처리 변수
    FV_DIS_FIRST_SEARCH_YN = "Y";
    FV_OLD_RTN_YN          = "N";

    FV_SALE_DT_KEY_YN      = "N";
    FV_DIS_ERR_YN          = "N";
    FV_POL_ERR_YN          = "N";
}

/*******************************************************************************
 * @description         : 콤보박스 초기화
*******************************************************************************/
function lf_combomInit()
{
	http.Sync = true;
	cf_setCommonCodeDsEnv();
	cf_setCommonCode("div_saleInfo.cmb_slNetCd" , "ZPOL_C_00102" , "선택");    //영업망
	cf_setCommonCode("ds_commSaleDtlTyp"        , "ZPOL_C_00040" , "선택");    //판매세부유형
	cf_setCommonCode("ds_commDsNetCd"           , "ZPOL_C_00110" );            // 유통망

	cf_setCommonCode("ds_commSupCl"             , "ZBAS_C_00320");            // 부가상품
	cf_setCommonCode("ds_commIdmLmtCd"          , "ZBAS_C_00330");   	      // 유치기한
	cf_checkCommonCode();
	http.Sync = false;
}

/*******************************************************************************
 * @description         : 폼 초기화
*******************************************************************************/
function lf_formInit()
{
    //처리자
    div_dealCoInfo.edt_insUserId.Text = FV_LOGIN_USER_ID;
    div_dealCoInfo.edt_insUserNm.Text = FV_LOGIN_USER_NM;

    //combo index 지정
    div_saleInfo.cmb_slNetCd.Index    = 0;
    div_saleInfo.cmb_saleDtlTyp.Index = 0;
}

/*******************************************************************************
 * @description         : 판매정보 조회 - Ukey 전문, Ps 처리 구분
*******************************************************************************/
function lf_getSaleInfo()
{
   if ( FV_IF_PROC_CL == "1" )
   {
       //Ukey Interface
       lf_getGeneralSaleIfInfo();
   }
   else
   {
       //Ps system (판매처변경)
       lf_getGeneralSaleInfo();
   }
}

/*******************************************************************************
 * @description         : 일반판매 인터페이스 정보 조회
 *                        일반판매 인터페이스에 있는 정보만을 조회한다.
 *                        -부가 상품은 판매유형 선택시 조회
*******************************************************************************/
function lf_getGeneralSaleIfInfo()
{
    //조회 조건
    cf_setParam(ds_input, "op_dt" , FV_OP_DT );  //전송일자
    cf_setParam(ds_input, "op_tm" , FV_OP_TM );  //전송시각
    cf_setParam(ds_input, "seq"   , FV_SEQ   );  //순번

    //부가상품은 정책 테이블에 있는 Data만을 가져온다.
 	var sSvcID = "getGeneralSaleIfInfo";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_generalSaleIfInfo=ds_generalSaleIfInfo ds_TGateInfo=ds_TGateInfo";
	var sArg   = "sktst.sal.SUI#getGeneralSaleIfInfo";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}


/*******************************************************************************
 * @description         : 일반판매정보 조회
*******************************************************************************/
function lf_getGeneralSaleInfo()
{
    //조회 조건
    cf_setParam(ds_input, "op_dt"            , parent.FV_IF_OP_DT);          //인터페이스일자
    cf_setParam(ds_input, "op_tm"            , parent.FV_IF_OP_TM);          //인터페이스시각
    cf_setParam(ds_input, "seq"              , parent.FV_IF_SEQ);            //인터페이스순번
    cf_setParam(ds_input, "if_rec_typ"       , parent.ds_channelChgIfInfo.getcolumn(0,"if_rec_typ") );     //전문유형
    cf_setParam(ds_input, "proc_chgrg_id"    , parent.ds_channelChgIfInfo.getcolumn(0,"proc_chgrg_id"));  //처리담당자
    cf_setParam(ds_input, "sale_plc"         , parent.ds_channelChgIfInfo.getcolumn(0,"sale_plc"));       //변경후 판매처
    cf_setParam(ds_input, "sl_cl"            , parent.ds_channelChgIfInfo.getcolumn(0,"sl_cl"));          //영업구분
    cf_setParam(ds_input, "sl_net_cd"        , parent.ds_channelChgIfInfo.getcolumn(0,"sl_net_cd"));      //영업망
    cf_setParam(ds_input, "gnrl_sale_no"     , parent.p_gnrl_sale_no);       //일반판매번호
    cf_setParam(ds_input, "gnrl_sale_chg_seq", parent.p_gnrl_sale_chg_seq);  //일반판매변경순번

 	var sSvcID = "getGeneralSaleIfInfo";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_generalSaleIfInfo=ds_generalSale";
	var sArg   = "sktst.sal.SCO#getSalePlcChgInfo";

	http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;

    cf_setParam(ds_input, "gnrl_sale_no"     , parent.p_gnrl_sale_no);       //일반판매번호
    cf_setParam(ds_input, "gnrl_sale_chg_seq", parent.p_gnrl_sale_chg_seq);  //일반판매변경순번

 	var sSvcID = "getSaleInfo";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_generalSale=ds_generalSale   ds_equipmentSale=ds_equipmentSale     ds_usimSale=ds_usimSale";
	    sOutDs += " ds_suplservice=ds_suplservice ds_oldrtnEquipment=ds_oldrtnEquipment ds_allotSale=ds_allotSale";
	    sOutDs += " ds_sktPrprc=ds_sktPrprc       ds_agreementAstamt=ds_agreementAstamt ds_cashSale=ds_cashSale";
	    sOutDs += " ds_payment=ds_payment         ds_ocbMcard=ds_ocbMcard               ds_splstMdl=ds_splstMdl";
	    sOutDs += " ds_prodExchange=ds_prodExchange";
	    sOutDs += " ds_onlinePayment=ds_onlinePayment";
	    sOutDs += " ds_onlineCmms=ds_onlineCmms";
	    sOutDs += " ds_saleCmms=ds_saleCmms ds_promotionMoney=ds_promotionMoney";
	var sArg   = "sktst.sal.SCO#getSaleInfo";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description         : 재고 호출 시점 구분
 *                        인터페이스 Data 조회 후 callback, 판매처 셋팅 시 2번 조회 할 수
 *                        있기 때문에 FV_DIS_FIRST_SEARCH_YN로 구분
*******************************************************************************/
function lf_getDisInfo()
{
    var sFlag = "true";

    if ( uf_IsNull(div_dealCoInfo.cal_svcDtm.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcDtmHh.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcDtmMm.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_salePlc.Text ) )
    {
        sFlag = "false";
    }

    if (sFlag == "true")
    {
		if( FV_DIS_FIRST_SEARCH_YN == "Y" )
		{
			//단말기 재고
			lf_getDisEqpInfo();
			//USIM 재고
			lf_getDisUsimInfo();
		}
		else
		{
			//단말기 재고
			lf_getDisEqpInfo();
			//USIM 재고
			lf_getDisUsimInfo();
		}

        var sCompareValue = lf_compareDis(FV_DIS_EQP_ERR_STATUS, FV_DIS_USIM_ERR_STATUS);

        if ( sCompareValue  == "0" )
        {
            //단말기 모델별판매가격표 조회
            f_getSplstMdlInfo();

            //USIM 운영단가표 조회
            f_getUplst();

            FV_DIS_ERR_YN = "N";

            lf_prodErrMsg("2", FV_EQP_POL_ERR_CODE, FV_EQP_POL_ERR_MSG, FV_USIM_POL_ERR_CODE, FV_USIM_POL_ERR_MSG);
        }
        else
        {
            lf_enableBtnSave(sCompareValue);
        }
	}
}

/*******************************************************************************
 * @description         : 재고 - 단말기 재고 상태 조회
 *                               인터페이스 전문 Data에 단말기 모델과 일련번호가 있으면 조회
*******************************************************************************/
function lf_getDisEqpInfo()
{
	var sSerNum  = trim(ds_generalSaleIfInfo.GetColumn(0,"eqp_ser_num"));       //일련번호
	var sMdlCd   = trim(ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd" ));       //모델코드
	var sColorCd = trim(ds_generalSaleIfInfo.GetColumn(0,"color_cd" ));         //색상코드
	var sIfRecTyp = ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ");

	//전문이 USIM 판매일때는 처리 하지 않음.
    if (sIfRecTyp == "91" || sIfRecTyp == "92" || sIfRecTyp == "93" || sIfRecTyp == "94")
    {
        return;
    }

    if ( !uf_IsNull(sSerNum) || !uf_IsNull(sMdlCd) || !uf_IsNull(sColorCd) )
    {
	    var sSvcId   = "getDisEqpInfo";  //callback svcId
	    var sColorCd = sColorCd;         //색상코드
	    var sProdCl  = "1";              //상품구분

	    lf_getDisProdInfo(sSvcId, sProdCl, sSerNum, sMdlCd, sColorCd);
	}
}

/*******************************************************************************
 * @description         : 재고 - USIM 재고 상태 조회
 *                               인터페이스 전문 Data에 USIM 모델과 일련번호가 있으면 조회
********************************************************************************/
function lf_getDisUsimInfo()
{
    var sSerNum = trim(ds_generalSaleIfInfo.GetColumn(0,"usim_ser_num"));
    var sMdlCd  = trim(ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_cd" ));
    var sColorCd = "99";

    if ( !uf_IsNull(sSerNum) || !uf_IsNull(sMdlCd) )
    {
        var sSvcId   = "getDisUsimInfo";     //callback svcId
	    var sColorCd = sColorCd;             //색상코드 99:공통색상
        var sProdCl  = "2";                  //상품구분

        lf_getDisProdInfo(sSvcId, sProdCl, sSerNum, sMdlCd, sColorCd);
    }
}

/*******************************************************************************
 * @description    : 단말기/USIM 상품 정보 및 재고 상태 조회
 *                   sSvcId : callBack svcID
 *                   sProdCl : 단말기/USIM 구분 (1:단말기,2:USIM,9:기타)
 *                   sSerNum : 단말기/USIM 일련번호
 *                   sMdlCd  : 모델코드
 *                   sColorCd: 색상코드
 ******************************************************************************/
function lf_getDisProdInfo(sSvcId, sProdCl, sSerNum, sMdlCd, sColorCd)
{
    //판매일시(14자리)
    var sSvcDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00";

    //판매처 변경 이면 채널변경 I/F의 처리일시 사용
    if (FV_IF_PROC_CL == "4")
    {
        sSvcDtm = parent.ds_channelChgIfInfo.getcolumn(0,"proc_dt") || parent.ds_channelChgIfInfo.getcolumn(0,"proc_tm");
    }

    //처리 조건
    ds_input.clear();
    cf_setParam(ds_input, "sale_dtm"  , sSvcDtm);                            //판매일시
    cf_setParam(ds_input, "sale_plc"  , div_dealCoInfo.edt_disHldPlc.Text );  //판매처 - 재고보유처
    cf_setParam(ds_input, "prod_cl"   , sProdCl );                            //상품구분 1:단말기,2:USIM,9:기타
    cf_setParam(ds_input, "ser_num"   , sSerNum );                            //일련번호
    cf_setParam(ds_input, "prod_cd"   , sMdlCd  );                            //상품코드
    cf_setParam(ds_input, "color_cd"  , sColorCd);                            //상품색상코드
    cf_setParam(ds_input, "sale_qty"  , "1");                                 //상품판매수량

	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_output=DisProdList";
	var sArg   = "sktst.sal.SCO#getDisProdList";

	http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}

/*******************************************************************************
 * @description    : 판매처 변경시 정산처 조회
*******************************************************************************/
function lf_getStlPlc()
{
	if ( !uf_IsNull(div_dealCoInfo.edt_salePlc.Text) && !uf_IsNull(div_dealCoInfo.edt_salePlcNm.Text) )
	{
        var sSvcDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00";

        cf_setParam(ds_input, "deal_dtm"   , sSvcDtm );
        cf_setParam(ds_input, "deal_co_cd" , div_dealCoInfo.edt_salePlc.Text );

        var sSvcID = "getStlPlcByDealCoCd";
	    var sInDs  = "nc_input_fieldDs=ds_input";
	    var sOutDs = "ds_output=List";
	    var sArg   = "sktst.sal.SCO#getStlPlcByDealCoCd";

	    http.Sync = true;
	    cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	    http.sync = false;
	}
}

/*******************************************************************************
 * @description    : 재고 보유처명 조회
*******************************************************************************/
function lf_getHldPlc(sProdCl, sHldPlc)
{
    var sSvcDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00";

    cf_setParam(ds_input, "deal_dtm"   , sSvcDtm );
    cf_setParam(ds_input, "deal_co_cd" , sHldPlc );

    var sSvcID = "";
    var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_output=List";
	var sArg   = "sktst.sal.SCO#getDealCoNmByDealCoCd";

    if (sProdCl == "1")
    {
        sSvcID = "getEqpHldPlcByDealCoCd";
    }
    else
    {
        sSvcID = "getUsimHldPlcByDealCoCd";
    }
    http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}

/*******************************************************************************
 * @description   : 파라미터값(0,1) 받아서 비교연산 0:정상, 1:오류
 *                  0 == 0 -> 0
 *                  0 == 1 -> 1
 *                  1 == 0 -> 1
 *                  1 == 1 -> 1
 *                  단말기/USIM 오류 비교에 사용
*******************************************************************************/
function lf_compareDis(param1, param2)
{
    var sRtn = "";

    if (param1 != param2)
    {
        sRtn = "1";
    }
    else
    {
        if ( param1 == "0" )
        {
            sRtn = "0";
        }
        else
        {
            sRtn = "1";
        }
    }

    if ( sRtn == "1" )
    {
        lf_prodErrMsg("1", FV_EQP_ERR_CODE, FV_EQP_ERR_MSG, FV_USIM_ERR_CODE, FV_USIM_ERR_MSG);
    }


    //재고보유처가 다를경우 재고조정이동 버튼 활성화
    if ( FV_EQP_ERR_CODE  == "F004" || FV_EQP_ERR_CODE  == "F009" ||
         FV_USIM_ERR_CODE == "F004" || FV_USIM_ERR_CODE == "F009" )
    {
        btn_disDtr.Enable = true;
    }
    else
    {
        btn_disDtr.Enable = false;
    }

    return sRtn;
}

/*******************************************************************************
 * @description   : 단말기,USIM 재고 메세지 및 가격정책 메세지 alert 처리
*******************************************************************************/
function lf_prodErrMsg(sCl,sEqpErrCd,sEqpErrMsg,sUsimErrCd,sUsimErrMsg)
{
    var sOutMsg = "";

	if ( uf_IsNull(sEqpErrMsg) )
	{
		sOutMsg = "";
	}
	else
	{
	    //if ( !uf_IsNull(sEqpErrCd) || sEqpErrCd != "20" )
	    if ( sEqpErrCd != "20" )
	    {
		    sOutMsg =  "단말기 : " + sEqpErrMsg;
		}
	}

	if ( uf_IsNull(sUsimErrMsg) )
	{
		sOutMsg = sOutMsg + "";
	}
	else
	{
	    //if( !uf_IsNull(sUsimErrCd) )
	    if( sUsimErrCd != "20" )
	    {
		    sOutMsg = sOutMsg + "\n" + "USIM : " + sUsimErrMsg;
		}
	}

	if ( !uf_IsNull(sOutMsg) )
	{
	    alert( sOutMsg );

	    if ( sCl == "1" )
	    {
	        FV_DIS_ERR_YN = "Y";
	    }
	    else
	    {
	        FV_POL_ERR_YN = "Y";
	    }
    }
    else
    {
	    if ( sCl == "1" )
	    {
	        FV_DIS_ERR_YN = "N";
	    }
	    else
	    {
	        FV_POL_ERR_YN = "N";
	    }
    }

    lf_enableBtnSave("1");

	return;
}

/*******************************************************************************
 * @description   : 저장버튼 0:할성화 ,  1:비활성화
*******************************************************************************/
function lf_enableBtnSave(param)
{
    if (FV_DIS_ERR_YN == "N" && FV_POL_ERR_YN =="N")
    {
        btn_save.Enable = true;
    }
    else
    {
        btn_save.Enable = false;
    }
}

/*******************************************************************************
 * @description    : 콜백
 * @param sSvcID   : 서비스 아이디
*******************************************************************************/
function f_callBack(sSvcID)
{
    if (sSvcID == "getSaleInfo")    //일반판매정보 취득
    {
        if ( ds_generalSale.rowcount > 0 )
        {
            //판매정보가 있으면 개통일시를 처리일시로 바꿔서 셋팅
            ds_generalSaleIfInfo.SetColumn(0 ,"proc_chgrg_id"  ,ds_generalSale.GetColumn(0,"svc_chgrg_id") );
            ds_generalSaleIfInfo.SetColumn(0 ,"proc_chgrg_nm"  ,ds_generalSale.GetColumn(0,"svc_chgrg_nm") );

            //단말기
            div_prcInfo.msk_eqpAllotSalePrc.Value = ds_allotSale.GetColumn(0,"eqp_allot_sale_prc");
            div_prcInfo.msk_eqpCashSalePrc.Value  = ds_cashSale.GetColumn(0,"eqp_cash_sale_prc");

			//USIM 가격
			if ( ds_usimSale.GetColumn(0,"usim_old_sale_yn") <> "Y")
			{
				if ( ds_generalSale.GetColumn(0,"usim_allot_cl") == "Y")
				{
					div_usimInfo.msk_usimSalePrc.Value = ds_allotSale.GetColumn(0,"usim_allot_sale_prc");
				}
				else if ( ds_generalSale.GetColumn(0,"usim_allot_cl") == "N")
				{
					div_usimInfo.msk_usimSalePrc.Value = ds_cashSale.GetColumn(0,"usim_cash_sale_prc");
				}
				else
				{
					div_usimInfo.msk_usimSalePrc.Value = "0";
				}
			}
        }
        else
        {
            alert("판매정보가 존재하지 않습니다.");
            return;
        }

        return;
    }
    else if (sSvcID == "getGeneralSaleIfInfo")    //일반판매전문(I/F) 정보취득
    {

        if(ds_generalSaleIfInfo.rowcount > 0)
        {
            //판매처변경일때
            if (FV_IF_PROC_CL == "4")
            {
                ds_generalSaleIfInfo.SetColumn(0 ,"sale_plc_nm"    ,"" );
                ds_generalSaleIfInfo.SetColumn(0 ,"sale_agency_cd" ,parent.ds_channelChgIfInfo.GetColumn(0,"ukey_agency_cd") );
                ds_generalSaleIfInfo.SetColumn(0 ,"sale_sub_cd"    ,parent.ds_channelChgIfInfo.GetColumn(0,"ukey_sub_cd") );
                ds_generalSaleIfInfo.SetColumn(0 ,"sale_channel_cd",parent.ds_channelChgIfInfo.GetColumn(0,"af_ukey_channel_cd") );
                ds_generalSaleIfInfo.SetColumn(0 ,"sale_plc"       ,parent.ds_channelChgIfInfo.GetColumn(0,"af_sale_plc") );

                ds_generalSaleIfInfo.SetColumn(0 ,"sl_net_cd"      ,parent.ds_channelChgIfInfo.GetColumn(0,"sl_net_cd") );

                div_dealCoInfo.cal_saleDtm.Enable   = false;
                div_dealCoInfo.edt_saleDtmHh.Enable = false;
                div_dealCoInfo.edt_saleDtmMm.Enable = false;
            }

            //외국인 보증보험료 '0' 처리 : 20090709 - 사용자 요청
            ds_generalSaleIfInfo.SetColumn(0,"frg_grt_insu_fee","0");

            //USIM 판매일때
            if ( ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ") == "91" || ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ") == "93")
            {
                //고객구분
                if ( uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"cust_cl_ps")) )
                {
                    ds_generalSaleIfInfo.SetColumn(0,"cust_cl_ps","1");
                    ds_generalSaleIfInfo.SetColumn(0,"cust_cl_ps_nm","개인");
                }

                //주민법인번호
                if ( uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"cust_biz_num")) )
                {
                    ds_generalSaleIfInfo.SetColumn(0,"cust_biz_num","000000");
                }

                lf_setUsimSaleNetCd("2");
            }

            //Mask 처리
            var sCustNm     = ds_generalSaleIfInfo.GetColumn(0,"cust_nm");
            var sSvcNum     = ds_generalSaleIfInfo.GetColumn(0,"svc_num");
            var sCustBizNum = ds_generalSaleIfInfo.GetColumn(0,"cust_biz_num");

       	    sCustNm     = sf_getMasking(sCustNm, "custnm");
	        sSvcNum     = sf_getMasking(sSvcNum, "svcnum");
	        sCustBizNum = sf_getMasking(sCustBizNum, "custbiznum");

		    ds_generalSaleIfInfo.SetColumn(0,"cust_nm_view"     , sCustNm);
		    ds_generalSaleIfInfo.SetColumn(0,"svc_num_view"     , sSvcNum);
		    ds_generalSaleIfInfo.SetColumn(0,"cust_biz_num_view", sCustBizNum);

            //인터페이스 Data의 처리일자,시각을 판매일시 및 개통일시에 셋팅
            var sProcDt = ds_generalSaleIfInfo.GetColumn(0,"proc_dt");
            var sProcTm = ds_generalSaleIfInfo.GetColumn(0,"proc_tm");

            //판매일자
            // T-Gate의 접수일자 정보가 있을 경우 판매일자는 T-Gate의 접수일자로 Setting !!!   KIMYS 2010.04.06
			var sTgateDtm = "";

			if(ds_TGateInfo.rowcount > 0) {
				sTgateDtm = ds_TGateInfo.GetColumn(0,"comm_req_dt")
				          + mid(ds_TGateInfo.GetColumn(0,"ins_dtm"), 8, 6);

				ds_generalSaleIfInfo.SetColumn(0, "tgate_recv_dtm", sTgateDtm);
				div_dealCoInfo.msk_RecvDtm.Text = sTgateDtm;
				div_dealCoInfo.edt_RecvDtm.Text = div_dealCoInfo.msk_RecvDtm.Text;
			}
			//else {
			//	alert("ds_TGateInfo.rowcount:0");
			//	sTgateDtm = "20101010"
			//	          + mid("20101010095000", 8, 6);
			//	alert(sTgateDtm);
			//	ds_generalSaleIfInfo.SetColumn(0, "tgate_recv_dtm", sTgateDtm);
			//	div_dealCoInfo.msk_RecvDtm.Text = sTgateDtm;
			//	div_dealCoInfo.edt_RecvDtm.Text = div_dealCoInfo.msk_RecvDtm.Text;
			//}


            div_dealCoInfo.cal_saleDtm.text   = sProcDt;
            div_dealCoInfo.edt_saleDtmHh.Text = substr(sProcTm,0,2);
            div_dealCoInfo.edt_saleDtmMm.Text = substr(sProcTm,2,2);

            //개통일자
            div_dealCoInfo.edt_svcDtmHh.Text  = substr(sProcTm,0,2);
            div_dealCoInfo.edt_svcDtmMm.Text  = substr(sProcTm,2,2);

            //판매처
            if ( !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"sale_plc_nm")) && !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"sale_plc")))
            {
                div_dealCoInfo.edt_salePlcNm.Text        = ds_generalSaleIfInfo.GetColumn(0,"sale_plc_nm");
                div_dealCoInfo.edt_salePlcUkeyCd.Text    = ds_generalSaleIfInfo.GetColumn(0,"sale_agency_cd");
                div_dealCoInfo.edt_salePlcSubCd.Text     = ds_generalSaleIfInfo.GetColumn(0,"sale_sub_cd");
                div_dealCoInfo.edt_salePlcChannelCd.Text = ds_generalSaleIfInfo.GetColumn(0,"sale_channel_cd");
                div_dealCoInfo.edt_salePlc.Text          = ds_generalSaleIfInfo.GetColumn(0,"sale_plc");
            }

			// KIMYS  - 판매등록건 중에서 D Code and SUB('0000') and Channel(null) and 영업승인코드(S%)인 경우 판매처 선택
			if (ds_generalSaleIfInfo.GetColumn(0, "sale_sub_cd") == "0000"  
					&& uf_IsNull(ds_generalSaleIfInfo.GetColumn(0, "sale_channel_cd")) 
					&& (substr(ds_generalSaleIfInfo.GetColumn(0, "sale_aprv_num"), 0, 1) == "S"
						|| substr(ds_generalSaleIfInfo.GetColumn(0, "sale_aprv_num"), 0, 1) == "B")
				)
            {
				div_dealCoInfo.edt_salePlcNm.Enable = true;
                div_dealCoInfo.btn_salePlc.Enable   = true;

				// 영업 S Code 인 경우 영업구분이 '01'(소매)로 되어 있음
				ds_generalSaleIfInfo.SetColumn(0, "sl_cl", "02");
			
			//아이폰( IPHONE )의 경우에 영업승인코드가 S OR B 처럼 판매점 선택가능하도록 처리함.
            } else if(uf_IsNull(ds_generalSaleIfInfo.GetColumn(0, "sale_channel_cd"))
							&& ds_generalSaleIfInfo.GetColumn(0, "sale_sub_cd") == "0000"
							&& (ds_generalSaleIfInfo.GetColumn(0, "reserv_sale_yn") == "Y")
					)
            {
                div_dealCoInfo.edt_salePlcNm.Enable = true;
                div_dealCoInfo.btn_salePlc.Enable   = true;

				// 영업 S Code 인 경우 영업구분이 '01'(소매)로 되어 있음
				ds_generalSaleIfInfo.SetColumn(0, "sl_cl", "02");
            } else {
				div_dealCoInfo.edt_salePlcNm.Enable = false;
                div_dealCoInfo.btn_salePlc.Enable   = false;
            }

            //개통처
            if ( !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"svc_plc_nm")) && !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"svc_plc")))
            {
                div_dealCoInfo.edt_svcPlcNm.Text         = ds_generalSaleIfInfo.GetColumn(0,"svc_plc_nm");
                div_dealCoInfo.edt_svcPlcUkeyCd.Text     = ds_generalSaleIfInfo.GetColumn(0,"svc_agency_cd");
                div_dealCoInfo.edt_svcPlcSubCd.Text      = ds_generalSaleIfInfo.GetColumn(0,"svc_sub_cd");
                div_dealCoInfo.edt_svcPlcChannelCd.Text  = ds_generalSaleIfInfo.GetColumn(0,"svc_channel_cd");
                div_dealCoInfo.edt_svcPlc.Text           = ds_generalSaleIfInfo.GetColumn(0,"svc_plc");
            }

            //단말기 일련번호, 모델이 없을때
            //단말기 결제조건,할부기간코드,할부판매금액 clear
            if ( uf_IsNull(trim(ds_generalSaleIfInfo.GetColumn(0,"eqp_ser_num")))
                 && uf_IsNull(trim(ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd")))
                 && uf_IsNull(trim(ds_generalSaleIfInfo.GetColumn(0,"color_cd"))) )
            {
                div_eqpInfo.chk_eqpOldSaleYn.Value = "";
                ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond"     , "");
                ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond_nm"  , "");
                ds_generalSaleIfInfo.SetColumn(0,"allot_prd_cd"       , "");
                ds_generalSaleIfInfo.SetColumn(0,"allot_prd_nm"       , "");
                ds_generalSaleIfInfo.SetColumn(0,"allot_sale_prc"     , "0");
            }

            //USIM 일련번호, 모델이 없을때
            //USIM 할부여부,금액 clear
            if ( uf_IsNull(trim(ds_generalSaleIfInfo.GetColumn(0,"usim_ser_num")))
                 && uf_IsNull(trim(ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_cd"))) )
            {
                div_usimInfo.chk_UsimOldSaleYn.Value = "";
                ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl"   , "");
                ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl_nm", "");
                ds_generalSaleIfInfo.SetColumn(0,"usim_allot_prc"  , "0");
            }

            div_rmks.txa_rmks.Text = "전문유형 : " + ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ_nm") + "[" + ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ") + "]";

            if( !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"sl_net_cd")) )
            {
                div_saleInfo.cmb_slNetCd.Value = ds_generalSaleIfInfo.GetColumn(0,"sl_net_cd");
                div_saleInfo.cmb_slNetCd.Enable = false;
            }

            //skt예수금
            f_sktPrprcAmt();

            //영업망 구분  : 있으면 판매처:활성화   , 영업망:비활성화
            //               없으면 판매처:비활성화 , 영업망:활성화
            //div_dealCoInfo.btn_salePlc.Click();

            if ( uf_isNull(ds_generalSaleIfInfo.GetColumn(0,"sl_net_cd")) )
            {
                div_dealCoInfo.btn_salePlc.Click();
                div_saleInfo.cmb_slNetCd.Enable = true;
            }
            else
            {
                div_dealCoInfo.edt_salePlcNm.Enable = true;
                div_dealCoInfo.btn_salePlc.Enable   = true;

                div_saleInfo.cmb_slNetCd.Enable = false;

                if ( uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"sale_plc")) )
                {
					btn_save.Enable = false;
					btn_disDtr.Enable = false;
                }
                else
                {
                    div_dealCoInfo.btn_salePlc.Click();
                }
            }

			// 2010.06.29 KIMYS - 노은지/손연철 M
			// 유통망 : T-할부지원의 경우 스페셜할인을 처리하기 위해 Enable 시킴
			if ( ds_generalSaleIfInfo.GetColumn(0,"ds_net_cd") == "1" )
			{
                div_saleInfo.cmb_DsNetCd.Enable = true;
                ds_commDsNetCd.Filter("comm_cd_val=='0' || comm_cd_val == '1'");
            } else {
                div_saleInfo.cmb_DsNetCd.Enable = false;
			}

			lf_getGeneralSuplIfList();  //인터페이스 부가상품조회

			lf_getOldSaleInfo();

            FV_DIS_FIRST_SEARCH_YN = "N";
            FV_SALE_DT_KEY_YN = "N";
        }

    }
    else if (sSvcID == "getDisEqpInfo")    //단말기 재고 상태
    {
        FV_EQP_ERR_MSG = "";
        var sConfirmYn = "N";
        //단말기 재고 상태

        if ( FV_DIS_FIRST_SEARCH_YN == "Y" )
        {
        }

        if (ds_output.rowcount > 0)
        {
			 if(ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ")=="29") {ds_output.SetColumn(0,"errcode","F001");}
             var sErrCode = ds_output.GetColumn(0,"errcode");
             if ( substr(sErrCode,0,1) == "F" )
             {
                 if (sErrCode == "F016")
                 {
				     var sConfirm = "";

					 if ( ds_generalSaleIfInfo.GetColumn(0,"color_cd") == "99" )
					 {
					     sConfirm = "1";
					 }
					 else
					 {
					     //sConfirm = Confirm(ds_output.GetColumn(0,"errmsg") + "\n PS 색상을 사용하시겠습니까?");
					     alert(ds_output.GetColumn(0,"errmsg") + "\n PS 색상을 적용합니다.");
					     sConfirm = "1";
					 }

				     if ( sConfirm == "1" )
					 {
					     sConfirmYn = "Y";
					     ds_generalSaleIfInfo.SetColumn(0,"color_cd",ds_output.GetColumn(0,"color_cd"));
					     ds_equipmentSale.SetColumn(0,"eqp_color_cd",ds_output.GetColumn(0,"color_cd"));

					     //errcode = F001 중고판매상품
					     div_eqpInfo.chk_eqpOldSaleYn.Value = "N";
                     }
                     else
                     {
					     //재고조정이동 불가
					     sConfirmYn = "N";
                     }
                 }
                 else if (sErrCode == "F001")
                 {
					 //errcode = F001 중고판매상품
					 var sIfRecTyp = ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ");
					 var sMsg = "";

					 if ( sIfRecTyp == "25" || sIfRecTyp == "26" || sIfRecTyp == "27"
					      || sIfRecTyp == "28" || sIfRecTyp == "65" || sIfRecTyp == "66" )
					 {
					     if ( confirm("중고기변 자료이므로 USIM만 판매처리 됩니다.\n 진행하시겠습니까?") == "1" )
					     {
					         if ( uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"usim_ser_num")) || uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_cd")) )
					         {
					             sMsg = "USIM에 대한 판매정보가 없으므로 처리할수가 없습니다. \n 일반판매 화면을 종료합니다.";
					             lf_formClose(sMsg);
					         }

					         //단말기 판매정보를 clear줌.
							 //backup
							 cf_setParam(ds_eqpOldSaleBackup, "status"           , "Y");
							 cf_setParam(ds_eqpOldSaleBackup, "eqp_settl_cond"   , "" );
							 cf_setParam(ds_eqpOldSaleBackup, "eqp_settl_cond_nm", "" );
							 cf_setParam(ds_eqpOldSaleBackup, "allot_prd_cd"     , "" );
							 cf_setParam(ds_eqpOldSaleBackup, "allot_prd_nm"     , "" );

							 //결제조건 : 할부 -> 현금
							 ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond"   ,"");
							 ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond_nm","");
							 ds_generalSaleIfInfo.SetColumn(0,"allot_prd_cd"     ,"");
							 ds_generalSaleIfInfo.SetColumn(0,"allot_prd_nm"     ,"");

							 ds_generalSaleIfInfo.SetColumn(0,"eqp_ser_num"      ,"");
							 ds_generalSaleIfInfo.SetColumn(0,"eqp_mdl_cd"       ,"");
							 ds_generalSaleIfInfo.SetColumn(0,"eqp_mdl_nm"       ,"");
							 ds_generalSaleIfInfo.SetColumn(0,"eqp_color_cd"     ,"");

							 ds_disEqpInfo.Clear();
							 ds_output.Clear();
					     }
					     else
					     {
					         sMsg = "일반판매 화면을 종료합니다.";
					         lf_formClose(sMsg);
					     }
                     }
                     else
                     {
					     div_eqpInfo.chk_eqpOldSaleYn.Value = "Y";
                         if(ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ")=="29") {} else{
							alert("PS 재고가 없으므로 중고판매로 처리됩니다.");
                         }

						 if (ds_eqpOldSaleBackup.GetColumn(0,"status") != "Y" || uf_IsNull(ds_eqpOldSaleBackup.GetColumn(0,"status")))
						 {
							 if ( ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") != "C" )
							 {
								 //backup
								 cf_setParam(ds_eqpOldSaleBackup, "status"           , "Y");
								 cf_setParam(ds_eqpOldSaleBackup, "eqp_settl_cond"   , ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") );
								 cf_setParam(ds_eqpOldSaleBackup, "eqp_settl_cond_nm", ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond_nm") );
								 cf_setParam(ds_eqpOldSaleBackup, "allot_prd_cd"     , ds_generalSaleIfInfo.GetColumn(0,"allot_prd_cd") );
								 cf_setParam(ds_eqpOldSaleBackup, "allot_prd_nm"     , ds_generalSaleIfInfo.GetColumn(0,"allot_prd_nm") );

								 //결제조건 : 할부 -> 현금
								 ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond"   ,"C");
								 ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond_nm","현금");
								 ds_generalSaleIfInfo.SetColumn(0,"allot_prd_cd"     ,"");
								 ds_generalSaleIfInfo.SetColumn(0,"allot_prd_nm"     ,"");
							 }
						 }
                     }
                 }
                 else
                 {
					 //errcode = F001 중고판매상품
					 div_eqpInfo.chk_eqpOldSaleYn.Value = "N";
                     //재고 errmsg
                     FV_EQP_ERR_MSG = ds_output.GetColumn(0,"errmsg");
                 }
             }
             else
             {
			     //결제조건 : 중고판매 -> 일반판매
			     if ( div_eqpInfo.chk_eqpOldSaleYn.Value == "Y" )
			     {
			         //변경전 data로 복귀시킨다.
			         if (ds_eqpOldSaleBackup.GetColumn(0,"status") == "Y")
			         {
				         ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond"   ,ds_eqpOldSaleBackup.GetColumn(0,"eqp_settl_cond") );
				         ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond_nm",ds_eqpOldSaleBackup.GetColumn(0,"eqp_settl_cond_nm") );
				         ds_generalSaleIfInfo.SetColumn(0,"allot_prd_cd"     ,ds_eqpOldSaleBackup.GetColumn(0,"allot_prd_cd"));
				         ds_generalSaleIfInfo.SetColumn(0,"allot_prd_nm"     ,ds_eqpOldSaleBackup.GetColumn(0,"allot_prd_nm"));
			             ds_eqpOldSaleBackup.ClearData();
			         }
			     }

                 div_eqpInfo.edt_eqpHldPlcNm.Text = div_dealCoInfo.edt_salePlcNm.Text;
                 div_eqpInfo.chk_eqpOldSaleYn.Value = "N";
             }

             FV_EQP_ERR_CODE = sErrCode;

             //단말기 재고 상태가 0:정상, 1: 오류
             if ( sErrCode == "S" )
             {
                 //모델별 판매단가표 조회
                 FV_DIS_EQP_ERR_STATUS = "0"; //단가표가 없을때도 저장이 가능해야함.
             }
             else if ( sErrCode == "F001" )
             {
                 //중고판매이면 단말기 현금판매 금액 0
                 div_prcInfo.msk_eqpCashSalePrc.Value = 0;

                 FV_DIS_EQP_ERR_STATUS = "0";

             }
             else if ( sErrCode == "F016" )
             {
                 if ( sConfirmYn == "Y" )
                 {
                     FV_DIS_EQP_ERR_STATUS = "0";
                 }
                 else
                 {
                     FV_DIS_EQP_ERR_STATUS = "1";
                 }
             }
             else
             {
                 //재고 현황 오류이면 단말기 현금판매 금액 0
                 div_prcInfo.msk_eqpCashSalePrc.Value = 0;

                 FV_DIS_EQP_ERR_STATUS = "1";
             }

             if (ds_output.rowcount == 1)
             {
                 cf_setParam(ds_disEqpInfo, "eqp_ser_num"     ,ds_output.getcolumn(0,"ser_num"));
                 cf_setParam(ds_disEqpInfo, "eqp_mdl_cd"      ,ds_output.getcolumn(0,"prod_cd"));
                 cf_setParam(ds_disEqpInfo, "eqp_mdl_nm"      ,ds_output.getcolumn(0,"prod_nm"));
                 cf_setParam(ds_disEqpInfo, "color_cd"        ,ds_output.getcolumn(0,"color_cd"));
                 cf_setParam(ds_disEqpInfo, "color_nm"        ,ds_output.getcolumn(0,"color_nm"));
                 //cf_setParam(ds_disEqpInfo, "hld_plc_id"      ,ds_output.getcolumn(0,"hld_plc_id"));
                 //cf_setParam(ds_disEqpInfo, "hld_plc_nm"      ,ds_output.getcolumn(0,"hld_plc_nm"));
                 cf_setParam(ds_disEqpInfo, "dis_hld_plc_id"  ,ds_output.getcolumn(0,"dis_hld_plc_id"));
                 cf_setParam(ds_disEqpInfo, "dis_upd_cnt"     ,ds_output.getcolumn(0,"dis_upd_cnt"));
                 cf_setParam(ds_disEqpInfo, "eqp_old_sale_yn" ,div_eqpInfo.chk_eqpOldSaleYn.Value );
             }

             lf_getHldPlc("1",ds_output.getcolumn(0,"dis_hld_plc_id"));

             lf_chkSlNetCd();
        }
        else
        {
            FV_EQP_ERR_MSG = "일련번호에 해당하는 단말기 정보가 없습니다.";
        }

    }
    else if (sSvcID == "getDisUsimInfo")   //USIM 재고 상태
    {
        FV_USIM_ERR_MSG = "";
        //USIM 재고 상태
        if (ds_output.rowcount > 0)
        {
             var sErrCode = ds_output.GetColumn(0,"errcode");

             if ( substr(sErrCode,0,1) == "F" )
             {

                 if (sErrCode == "F001")
                 {
					 //errcode = F001 중고판매상품
					 div_usimInfo.chk_usimOldSaleYn.Value = "Y";

                     if (ds_usimOldSaleBackup.GetColumn(0,"status") != "Y" || uf_IsNull(ds_usimOldSaleBackup.GetColumn(0,"status")) )
                     {
						 //backup
						 cf_setParam(ds_usimOldSaleBackup, "status"          , "Y");
						 cf_setParam(ds_usimOldSaleBackup, "usim_allot_cl"   , ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl") );
						 cf_setParam(ds_usimOldSaleBackup, "usim_allot_cl_nm", ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl_nm") );
						 cf_setParam(ds_usimOldSaleBackup, "usim_allot_prc"  , ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc") );

						 //결제조건 : 할부 -> 현금
						 ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl"   ,"N");
						 ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl_nm","선납");
						 ds_generalSaleIfInfo.SetColumn(0,"usim_allot_prc"  ,"0");
						 div_usimInfo.msk_usimSalePrc.Value = "0";
						 //ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc");
					 }
                 }
                 else
                 {
					 //errcode = F001 중고판매상품
					 div_usimInfo.chk_usimOldSaleYn.Value = "N";
                     //재고 errmsg
                     FV_USIM_ERR_MSG = ds_output.GetColumn(0,"errmsg");
                 }
             }
             else
             {
			     //결제조건 : 중고판매 -> 일반판매
			     if ( div_usimInfo.chk_usimOldSaleYn.Value == "Y" )
			     {
			         //변경전 data로 복귀시킨다.
			         if (ds_usimOldSaleBackup.GetColumn(0,"status") == "Y")
			         {
				         ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl"   ,ds_usimOldSaleBackup.GetColumn(0,"usim_allot_cl") );
				         ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl_nm",ds_usimOldSaleBackup.GetColumn(0,"usim_allot_cl_nm") );
				         ds_generalSaleIfInfo.SetColumn(0,"usim_allot_prc"  ,ds_usimOldSaleBackup.GetColumn(0,"usim_allot_prc") );
	    				 div_usimInfo.msk_usimSalePrc.Value = ds_usimOldSaleBackup.GetColumn(0,"usim_allot_prc");
			             ds_usimOldSaleBackup.ClearData();
			         }
			     }

                 div_usimInfo.edt_usimHldPlcNm.Text = div_dealCoInfo.edt_salePlcNm.Text;
                 div_usimInfo.chk_usimOldSaleYn.Value = "N";
             }

             FV_USIM_ERR_CODE = sErrCode;

             //USIM 재고 상태가 0:정상, 1: 오류
             if ( sErrCode == "S" || sErrCode == "F001" )
             {
                 FV_DIS_USIM_ERR_STATUS = "0";
             }
             else
             {
                 FV_DIS_USIM_ERR_STATUS = "1";
             }

             if (ds_output.rowcount == 1)
             {
                 cf_setParam(ds_disUsimInfo, "usim_ser_num"    ,ds_output.getcolumn(0,"ser_num"));
                 cf_setParam(ds_disUsimInfo, "usim_mdl_cd"     ,ds_output.getcolumn(0,"prod_cd"));
                 cf_setParam(ds_disUsimInfo, "usim_mdl_nm"     ,ds_output.getcolumn(0,"prod_nm"));
                 cf_setParam(ds_disUsimInfo, "color_cd"        ,ds_output.getcolumn(0,"color_cd"));
                 cf_setParam(ds_disUsimInfo, "color_nm"        ,ds_output.getcolumn(0,"color_nm"));
                 //cf_setParam(ds_disUsimInfo,"hld_plc_id"  ,ds_output.getcolumn(0,"hld_plc_id"));
                 //cf_setParam(ds_disUsimInfo,"hld_plc_nm"  ,ds_output.getcolumn(0,"hld_plc_nm"));
                 cf_setParam(ds_disUsimInfo, "dis_hld_plc_id"  ,ds_output.getcolumn(0,"dis_hld_plc_id"));
                 cf_setParam(ds_disUsimInfo, "dis_upd_cnt"     ,ds_output.getcolumn(0,"dis_upd_cnt"));
                 cf_setParam(ds_disUsimInfo, "usim_old_sale_yn",div_usimInfo.chk_usimOldSaleYn.Value );

                 //div_usimInfo.edt_usimHldPlcNm.Text = ds_output.getcolumn(0,"hld_plc_nm");
             }
             lf_getHldPlc("2", ds_output.getcolumn(0,"dis_hld_plc_id"));
        }
        else
        {
            FV_USIM_ERR_MSG = "일련번호에 해당하는 USIM 정보가 없습니다.";
        }
    }

    if (sSvcID == "getStlPlcByDealCoCd")  //판매처별 정산처 조회
    {
        if (ds_output.rowcount > 0)
        {
            if (uf_IsNull(ds_output.GetColumn(0,"stl_plc")) )
            {
                alert("판매처에 대한 정산처가 없습니다.");
                return;
            }

            if (uf_IsNull(ds_output.GetColumn(0,"dis_hld_plc")) )
            {
                alert("판매처에 대한 재고보유처가 없습니다.");
                return;
            }

            div_dealCoInfo.edt_stlPlc.Text   = ds_output.GetColumn(0,"stl_plc");
            div_dealCoInfo.edt_stlPlcNm.Text = ds_output.GetColumn(0,"stl_plc_nm");

            div_dealCoInfo.edt_disHldPlc.Text   = ds_output.GetColumn(0,"dis_hld_plc");
            div_dealCoInfo.edt_posAgencyCd.Text = ds_output.GetColumn(0,"pos_agency");
        }
        else
        {
            div_dealCoInfo.edt_stlPlc.Text    = "";
            div_dealCoInfo.edt_stlPlcNm.Text  = "";

            div_dealCoInfo.edt_disHldPlc.Text = "";
            div_dealCoInfo.edt_posAgencyCd.Text = "";
        }
        return;
    }
    else if (sSvcID == "getEqpHldPlcByDealCoCd")  //단말기 재고보유처
    {
        if (ds_output.rowcount > 0)
        {
            cf_setParam(ds_disEqpInfo,"dis_hld_plc_nm", ds_output.GetColumn(0,"deal_co_nm"));
        }
        else
        {
            cf_setParam(ds_disEqpInfo,"dis_hld_plc_nm", "");
        }
        return;
    }
    else if (sSvcID == "getUsimHldPlcByDealCoCd")  //USIM 재고보유처
    {

        if (ds_output.rowcount > 0)
        {
            cf_setParam(ds_disUsimInfo,"dis_hld_plc_nm", ds_output.GetColumn(0,"deal_co_nm"));
        }
        else
        {
            cf_setParam(ds_disUsimInfo,"dis_hld_plc_nm", "");
        }
        return;
    }

    if (sSvcID == "getGeneralSuplIfList")
    {
        ds_suplservice.Copy("ds_generalSuplIfList");

        return;
    }

    if (sSvcID == "getChrgrIdList")    //판매담당자,개통담당자 콤보 셋팅
    {
        if (ds_cmbChgrgId.rowcount > 0)
        {
            ds_cmbChgrgId.InsertRow(0);
            ds_cmbChgrgId.SetColumn(0,"user_id","");
            ds_cmbChgrgId.SetColumn(0,"user_nm","선택");

            div_dealCoInfo.cmb_svcChgrgId.Index = 0;
        }
    }

    if (sSvcID == "getUplst")
    {
		FV_USIM_POL_ERR_CODE = "";
		FV_USIM_POL_ERR_MSG  = "";

		//20090721 추가 - 판매처 변경 : 정책에 없을 경우 메세지만 출력
        if( FV_IF_PROC_CL == "4")
        {
			if(ds_uplst.rowcount > 0)
			{

			}
			else
			{
				div_usimInfo.msk_usimSalePrc.Value = 0;
				div_usimInfo.msk_usimSalePrc.Enable = false;

				btn_save.Enable = false;

				FV_EQP_POL_ERR_CODE = "";
				FV_EQP_POL_ERR_MSG  = "운영모델단가표에 USIM판매가격 정책이 없습니다.";
			}
        }
        else
        {
			if (ds_uplst.rowcount > 0)
			{
				if (ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl") == "Y" )
				{
					div_usimInfo.msk_usimSalePrc.Value  = ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc");
					div_usimInfo.msk_usimSalePrc.Enable = false;

					cf_setParam(ds_allotSale, "ps_usim_allot_sale_prc"  , ds_uplst.GetColumn(0,"fix_strd_sale_prc"));

					if ( ds_uplst.GetColumn(0,"fix_strd_sale_prc") != ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc") )
					{
						FV_USIM_POL_ERR_CODE = "20";
						FV_USIM_POL_ERR_MSG  = "USIM 후납금액 Ukey["+ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc")+"] PS["+ds_uplst.GetColumn(0,"fix_strd_sale_prc")+"] 다릅니다.";
					}
				}
				else
				{
					div_usimInfo.msk_usimSalePrc.Value = ds_uplst.GetColumn(0,"fix_strd_sale_prc");
					div_usimInfo.msk_usimSalePrc.Enable = true;
				}
			}
			else
			{
				div_usimInfo.msk_usimSalePrc.Value = 0;
				div_usimInfo.msk_usimSalePrc.Enable = false;

				btn_save.Enable = false;

				FV_USIM_POL_ERR_CODE = "";
				FV_USIM_POL_ERR_MSG  = "운영모델단가표에 USIM판매가격 정책이 없습니다.";

			}
		}
        return;
    }

    if (sSvcID == "getSplstMdlInfo" )
    {
        div_prcInfo.msk_eqpAllotSalePrc.Enable = false;

		FV_EQP_POL_ERR_CODE = "";
		FV_EQP_POL_ERR_MSG  = "";

		var sCalAllotSalePrc = 0;

		//판매처 변경 : 정책에 없을 경우 메세지만 출력
        if( FV_IF_PROC_CL == "4")
        {
			if(ds_splstMdl.rowcount > 0)
			{

			}
			else
			{
				//판매가격표에 해당 단말기 판매가격이 없을때 ukey가격으로 보여줄것인지 0으로 보여줄것인지.
				div_saleInfo.btn_oldRtn.Enable = false;
				btn_payment.Enable = true;
				btn_save.Enable = false;

				FV_EQP_POL_ERR_CODE = "";
				FV_EQP_POL_ERR_MSG  = "모델별판매가격표에 단말기판매가격 정책이 없습니다.";
			}
        }
        else
        {
			if(ds_splstMdl.rowcount > 0)
			{

				if (ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") == "A" )
				{
					sCalAllotSalePrc = lf_calAllotSalePrc();

					div_prcInfo.msk_eqpAllotSalePrc.Value = sCalAllotSalePrc;
					div_prcInfo.msk_eqpCashSalePrc.value = 0;
					div_prcInfo.msk_eqpCashSalePrc.Enable = false;

					cf_setParam(ds_allotSale, "ps_eqp_allot_sale_prc"  , ds_splstMdl.GetColumn(0,"allot_sale_prc"));

					if ( ds_splstMdl.GetColumn(0,"allot_sale_prc") != sCalAllotSalePrc )
					{
						FV_EQP_POL_ERR_CODE = "20";
						FV_EQP_POL_ERR_MSG  = "할부판매가 Ukey["+sCalAllotSalePrc+"] PS["+ds_splstMdl.GetColumn(0,"allot_sale_prc")+"] 오류입니다.";
					}
				}
				else
				{
					div_prcInfo.msk_eqpAllotSalePrc.Value = 0;
					div_prcInfo.msk_eqpCashSalePrc.value = ds_splstMdl.GetColumn(0,"cash_sale_prc");
					div_prcInfo.msk_eqpCashSalePrc.Enable = false;
				}

				lf_enableBtnSave("0");
			}
			else
			{
				if (ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") == "A" )
				{
					sCalAllotSalePrc = lf_calAllotSalePrc();

					div_prcInfo.msk_eqpAllotSalePrc.Value = sCalAllotSalePrc;
					div_prcInfo.msk_eqpCashSalePrc.value = 0;

					div_prcInfo.msk_eqpCashSalePrc.Enable = false;
				}
				else if(ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") == "C" )
				{
					div_prcInfo.msk_eqpAllotSalePrc.value =  0;
					div_prcInfo.msk_eqpCashSalePrc.value = 0;

					div_prcInfo.msk_eqpCashSalePrc.Enable = false;
				}
				else
				{
					div_prcInfo.msk_eqpAllotSalePrc.value =  0;
					div_prcInfo.msk_eqpCashSalePrc.value = 0;

					div_prcInfo.msk_eqpCashSalePrc.Enable = false;
				}

				lf_setNonOldRtn();
				div_saleInfo.btn_oldRtn.Enable = false;
				btn_save.Enable = false;


				FV_EQP_POL_ERR_CODE = "";
				FV_EQP_POL_ERR_MSG  = "모델별판매가격표에 단말기판매가격 정책이 없습니다.";
			}
			//가격표 조회후...
			lf_getOldSaleInfo();
	    }
        return;
    }

    if(sSvcId == "saveSaleInfo")
    {
        var sConfirm = "0";//Confirm("기타상품 판매로 이동하시겠습니까?");

        if ( sConfirm == "1" )
        {
			var sArg  = "job="+quote("NEW");
				sArg  += " gnrl_sale_no="     +quote(ds_gnrlSaleNo.GetColumn(0,"gnrl_sale_no"));
				sArg  += " gnrl_sale_chg_seq="+quote(ds_gnrlSaleNo.GetColumn(0,"gnrl_sale_chg_seq"));
				sArg  += " gnrl_sale_dt="     +quote(div_dealCoInfo.cal_saleDtm.Value);
				sArg  += " gnrl_sale_hh="     +quote(div_dealCoInfo.edt_saleDtmHh.Text);
				sArg  += " gnrl_sale_mm="     +quote(div_dealCoInfo.edt_saleDtmMm.Text);
				sArg  += " gnrl_sale_nm="     +quote(div_dealCoInfo.edt_salePlcNm.Text);
				sArg  += " gnrl_sale_plc="    +quote(div_dealCoInfo.edt_salePlc.Text);
				sArg  += " gnrl_sale_ukey_cd="+quote(div_dealCoInfo.edt_salePlcUkeyCd.Text);
				sArg  += " gnrl_sale_sub_cd=" +quote(div_dealCoInfo.edt_salePlcSubCd.Text);
				sArg  += " gnrl_sale_channel="+quote(div_dealCoInfo.edt_salePlcChannelCd.Text);
				sArg  += " gnrl_sale_chgrg_id="+quote(FV_LOGIN_USER_ID);

	        // 팝업 함수
	        cf_openAuthPop("100000326", sArg, 600,830);
	        cf_callnClose(excuteMethod, "");
        }
        else
        {
            if (FV_IF_PROC_CL == "4")
            {
                parent.lf_procStatus("Y","U");
            }
            else
            {
				cf_callnClose(excuteMethod, "");
			}
        }
    }

    if (sSvcID = "addEqpUsimDisDtr")
    {
        if ( ds_rtnDisDtr.rowcount > 0 )
        {
            var errmsg = "";

            if (ds_rtnDisDtr.GetColumn(0,"eqp_errcode") == "F" || ds_rtnDisDtr.GetColumn(0,"eqp_errcode") == "E")
            {
                errmsg = "단말기 : " + ds_rtnDisDtr.GetColumn(0,"eqp_errmsg") + "\n";
            }

            if (ds_rtnDisDtr.GetColumn(0,"usim_errcode") == "F" || ds_rtnDisDtr.GetColumn(0,"usim_errcode") == "E")
            {
                errmsg = "USIM : " + ds_rtnDisDtr.GetColumn(0,"eqp_errmsg");
            }

            if ( !uf_IsNull(errmsg) )
            {
                alert(errmsg);
                return;
            }
            else
            {
                alert("재고조정이동이 완료 되었습니다.\n재고상태를 자동 조회 합니다.");
                lf_getDisInfo();
            }
        }
        return;
    }

    if(sSvcId == "getOldSaleInfo")
    {

        var sSaleDt = div_dealCoInfo.cal_saleDtm.Value;
        //if( ds_oldSaleInfo.GetColumn(0,"old_rtn_yn") == "Y" )
        if ( sSaleDt < "20090801" )
        {
			if (substr(ds_generalSaleIfInfo.GetColumn(0,"sale_dtl_typ"),0,2) == "S2")
			{
				lf_setOldRtn();
			}
			else
			{
				lf_setNonOldRtn();
			}
		}
		else
		{
			if (ds_oldSaleInfo.rowcount > 0)
			{
				if ( ds_oldSaleInfo.GetColumn(0,"old_rtn_yn") == "Y" )
				{
					lf_setOldRtn();
				}
				else
				{
					lf_setNonOldRtn();
				}
			}
		}
    }

    return;
}

/*******************************************************************************
 * @description    : 단말기 중고판매 여부에 따른 판매세부유형 filter
*******************************************************************************/
function lf_filterCmbSaleDtlTyp(sEqpOldSaleYn)
{
    if (sEqpOldSaleYn == "Y")
    {
        //중고판매일때
        ds_commSaleDtlTyp.Filter("substr(comm_cd_val,0,2)=='S3' || comm_cd_val == ''");
    }
    else
    {
        if ( uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"sale_typ")) )
        {
            ds_commSaleDtlTyp.Filter("substr(comm_cd_val,0,2)!='S3'");
        }
        else
        {
            ds_commSaleDtlTyp.Filter("substr(comm_cd_val,0,2)=='"+substr(ds_generalSaleIfInfo.GetColumn(0,"sale_typ"),0,2)+"'" );
        }
    }

    div_saleInfo.cmb_saleDtlTyp.Index = 0;
}

/*******************************************************************************
 * @description    : 판매가격
*******************************************************************************/
function lf_enablePrcInfo(sSettlCond)
{
    if (sSettlCond == "C")
    {
        //div_prcInfo.msk_eqpCashSalePrc.Enable = true;
    }
    else
    {
        div_prcInfo.msk_eqpCashSalePrc.Enable = false;
    }
}

/*******************************************************************************
 * @description    : 판매일시에서 년월일 변경이 생겼을때 시간 부분으로 마우스포인터이동
*******************************************************************************/
function div_dealCoInfo_cal_saleDtm_OnChanged(obj,strOldText,strNewText)
{
     //div_dealCoInfo_cal_saleDtm_OnKeyDown(obj,"13");
    //div_dealCoInfo.btn_salePlc.Click();
}

/*******************************************************************************
 * @description    : 개통일시에서 년월일 변경이 생겼을때 시간 부분으로 마우스포인터이동
*******************************************************************************/
function div_dealCoInfo_cal_svcDtm_OnChanged(obj,strOldText,strNewText)
{
    //div_dealCoInfo.cal_svcDtm.SetSel(11,19);
    div_dealCoInfo.edt_svcDtmHh.SetFocus();
}

/*******************************************************************************
 * @description    : 판매정보 - 판매세부유형 변경- 부가상품조회
 ******************************************************************************/
function div_saleInfo_cmb_saleDtlTyp_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
        if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) )
        {
            alert("영업망을 선택해 주십시요.");
            div_saleInfo.cmb_saleDtlTyp.Index = nOldIndex;
            return;
        }
        else if ( uf_IsNull(strCode) )
        {
            ds_generalSuplIfList.ClearData();
            return;
        }

		var sSvcDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00";
		cf_setParam(ds_input, "op_dt"          , FV_OP_DT );
		cf_setParam(ds_input, "op_tm"          , FV_OP_TM );
		cf_setParam(ds_input, "seq"            , FV_SEQ );

		cf_setParam(ds_input, "settl_cond"     , ds_generalSaleIfInfo.GetColumn(0,"settl_cond") );   //단말기결제조건
		cf_setParam(ds_input, "sale_typ_cd_min", div_saleInfo.cmb_saleDtlTyp.Value );                //판매세부유형
		cf_setParam(ds_input, "sale_dtm"       , sSvcDtm);                                           //판매일시
		cf_setParam(ds_input, "org_id"         , gds_session.GetColumn(0,"posAgencyId"));            //대리점
		cf_setParam(ds_input, "eqp_mdl_cd"     , ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd") );   //단말기모델코드
		cf_setParam(ds_input, "sl_net_cd"      , div_saleInfo.cmb_slNetCd.Value );                   //도매, 도매, 온라인
		cf_setParam(ds_input, "ds_net_cd"      , div_saleInfo.cmb_DsNetCd.Value );                   // 유통망
		cf_setParam(ds_input, "agrmt_prd_cd"   , ds_generalSaleIfInfo.GetColumn(0,"agrmt_prd_cd") ); //단말기결제조건
		cf_setParam(ds_input, "svc_dtm"        , ds_generalSaleIfInfo.GetColumn(0,"proc_dt") );      //개통일시

		var sSvcID = "getGeneralSuplIfList";
		var sInDs  = "nc_input_fieldDs=ds_input";
		var sOutDs = "ds_generalSuplIfList=ds_generalSuplIfList";
		var sArg   = "sktst.sal.SUI#getGeneralSuplIfList";

		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description    : 인터페이스 부가상품 리스트를 조회.
*******************************************************************************/
function lf_getGeneralsuplIfList()
{
	if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) )
	{
	    ds_suplservice.ClearData();
		ds_generalSuplIfList.ClearData();
		return;
	}

	var sSvcDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00";
	cf_setParam(ds_input, "op_dt"          , FV_OP_DT );
	cf_setParam(ds_input, "op_tm"          , FV_OP_TM );
	cf_setParam(ds_input, "seq"            , FV_SEQ );

	cf_setParam(ds_input, "settl_cond"     , ds_generalSaleIfInfo.GetColumn(0,"settl_cond") );   //단말기결제조건
	cf_setParam(ds_input, "eqp_mdl_cd"     , ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd") );   //단말기모델코드
	cf_setParam(ds_input, "agrmt_prd_cd"   , ds_generalSaleIfInfo.GetColumn(0,"agrmt_prd_cd") ); //단말기결제조건

	cf_setParam(ds_input, "sale_dtm"       , sSvcDtm);                                           //판매일시
	cf_setParam(ds_input, "org_id"         , div_dealCoInfo.edt_posAgencyCd.Text );              //대리점
	cf_setParam(ds_input, "sl_net_cd"      , div_saleInfo.cmb_slNetCd.Value );                   //영업망
	cf_setParam(ds_input, "ds_net_cd"      , div_saleInfo.cmb_DsNetCd.Value );                   //유통망
	cf_setParam(ds_input, "sale_typ_cd"    , div_saleInfo.cmb_saleDtlTyp.Value );                //판매세부유형
	cf_setParam(ds_input, "prod_cl"        , "1" );                                              //상품구분
	cf_setParam(ds_input, "svc_dtm"        , sSvcDtm );      //개통일시

	var sSvcID = "getGeneralSuplIfList";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_generalSuplIfList=ds_generalSuplIfList";
	var sArg   = "sktst.sal.SUI#getGeneralSuplIfList";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description    : 중고반납팝업화면 호출
*******************************************************************************/
function div_saleInfo_btn_oldRtn_OnClick(obj)
{
    cf_setParam(ds_param, "old_rtn_typ"            , ds_oldrtnEquipment.GetColumn(0,"old_rtn_typ"));
	cf_setParam(ds_param, "old_rtn_typ_nm"         , ds_oldrtnEquipment.GetColumn(0,"old_rtn_typ_nm"));
	cf_setParam(ds_param, "old_rtn_cust_rtn_typ"   , ds_oldrtnEquipment.GetColumn(0,"old_rtn_cust_rtn_typ"));
	cf_setParam(ds_param, "old_rtn_cust_rtn_typ_nm", ds_oldrtnEquipment.GetColumn(0,"old_rtn_cust_rtn_typ_nm"));
	cf_setParam(ds_param, "old_rtn_schd_dt"        , ds_oldrtnEquipment.GetColumn(0,"old_rtn_schd_dt"));
	cf_setParam(ds_param, "old_rtn_mdl"            , ds_oldrtnEquipment.GetColumn(0,"old_rtn_mdl"));
	cf_setParam(ds_param, "old_rtn_mdl_nm"         , ds_oldrtnEquipment.GetColumn(0,"old_rtn_mdl_nm"));
	cf_setParam(ds_param, "old_rtn_ser_num"        , ds_oldrtnEquipment.GetColumn(0,"old_rtn_ser_num"));

	var sArg  = "excuteMethod="  + quote("lf_OldRtnPopupClose");

	// 팝업 함수
	dialog("SAL::SALSCP00300.xml", sArg, 400,400);
}

/*******************************************************************************
 * @description    : 부가서비스팝업화면 호출
*******************************************************************************/
function btn_supservice_OnClick(obj)
{
    if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) )
    {
        alert("영업망을 선택해 주십시요.");
        return;
    }

    ds_param.Copy("ds_suplservice");

    //판매처의 대리점
    var sOrgId = div_dealcoInfo.edt_posAgencyCd.Text;  //gds_session.GetColumn(0,"posAgencyId");
    var sSvcDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00" ;

	var sArg  =  "excuteMethod="    + quote("lf_supservicePopupClose");
	    sArg  += " p_saleDtm="      + quote(sSvcDtm);                                           //판매일시
	    sArg  += " p_slNetCd="      + quote(div_saleInfo.cmb_slNetCd.Value);                    //영업망코드
	    sArg  += " p_saleDtlTyp="   + quote(ds_generalSaleIfInfo.GetColumn(0,"sale_dtl_typ"));  //판매유형
	    sArg  += " p_dsNetCd="      + quote(div_saleInfo.cmb_DsNetCd.Value);                    //유통망코드
	    sArg  += " p_orgId="        + quote(sOrgId);                                  //조직ID
	    sArg  += " p_slCl="         + quote(ds_generalSaleIfInfo.GetColumn(0,"sl_cl"));                                            //조직ID
	    sArg  += " p_svcDt="        + quote(div_dealCoInfo.cal_svcDtm.Value );                                            //조직ID
	    sArg  += " p_salePlc="      + quote(div_dealCoInfo.edt_salePlc.Text );
	    sArg  += " p_mdlCd="        + quote(ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd") );

	// 팝업 함수
	dialog("SAL::SALSCP00400.xml", sArg, 400,400);
}

/*******************************************************************************
 * @description    : 판매처 조회
*******************************************************************************/
function div_dealCoInfo_edt_salePlcNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if(nChar == 13)
	{
        lf_getSalePlcInfo();
	}
}

function div_dealCoInfo_edt_salePlcNm_OnCharChanged(obj,strPreText,strPostText)
{
	sf_clearControls("div_dealCoInfo.edt_salePlcUkeyCd,div_dealCoInfo.edt_salePlcSubCd,div_dealCoInfo.edt_salePlcChannelCd,div_dealcoInfo.edt_salePlc");
}

function div_dealCoInfo_btn_salePlc_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
    if ( nChar == 13 )
    {
        lf_getSalePlcInfo();
	}
}

function div_dealCoInfo_btn_salePlc_OnClick(obj)
{
    lf_getSalePlcInfo();
}

function lf_getSalePlcInfo()
{
	var sSvcDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text;
	var sArg  = "deal_co_cl1=" +quote(sf_getDealCoCl1());
		sArg += " deal_status="+quote("3"); 	//옵션 (거래처 상태) - 1: 수납정지 N  , 2: 출고정지 N , 3: 판매정지 N
		sArg += " pos_agency=" +quote(gds_session.GetColumn(0,"posAgencyId")); // 옵션
		sArg += " eff_dtm="    +quote(sSvcDtm);
		sArg += " deal_co_cd=" +quote(div_dealCoInfo.edt_salePlc.Text);

	cf_callDealPop(sArg, div_dealCoInfo, "edt_salePlcNm,edt_salePlc,edt_salePlcUkeyCd,edt_salePlcSubCd,edt_salePlcChannelCd");

    if(uf_isNull(FV_STR_POP_RESULT) == true) return;

    if ( uf_IsNull(div_dealCoInfo.edt_salePlc.Text) )
    {
        ds_cmbSaleChgrgId.ClearData();
    }
    else
    {
        //f_getSaleChgrgId();
    }

	lf_getStlPlc();
	lf_getDisInfo();
}

/*******************************************************************************
 * @description    : 개통처 조회
*******************************************************************************/
function div_dealCoInfo_edt_svcPlcNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
    if ( nChar == 13 )
    {
		lf_getSvcPlcInfo();
	    f_getSvcChgrgId();
	}
}

function div_dealCoInfo_edt_svcPlcNm_OnChanged(obj,strText)
{
	//lf_getSvcPlcInfo();
	//f_getSvcChgrgId();
}

function div_dealCoInfo_btn_svcPlc_OnClick(obj)
{
	lf_getSvcPlcInfo();
	f_getSvcChgrgId();
}

function div_dealCoInfo_btn_svcPlc_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
    if ( nChar == 13 )
    {
	    lf_getSvcPlcInfo();
	    f_getSvcChgrgId();
	}
}

function lf_getSvcPlcInfo()
{
	sf_clearControls("div_dealCoInfo.edt_svcPlcUkeyCd,div_dealCoInfo.edt_svcPlcSubCd,div_dealCoInfo.edt_svcPlcChannelCd");
    var sSvcDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text;
	var sArg  = "deal_co_cl1="  + quote(sf_getDealCoCl1("OL"));
		sArg += " deal_status=" + quote("3"); 	//옵션 (거래처 상태) - 1: 수납정지 N  , 2: 출고정지 N , 3: 판매정지 N
		sArg += " pos_agency="  + quote(gds_session.GetColumn(0,"posAgencyId")); // 옵션
		sArg += " eff_dtm="     + quote(sSvcDtm);
	cf_callDealPop(sArg, div_dealCoInfo, "edt_svcPlcNm,edt_svcPlc,edt_svcPlcUkeyCd,edt_svcPlcSubCd,edt_svcPlcChannelCd");

	return;
}

/*******************************************************************************
 * @description    : 중고단말기 입력 팝업 종료시 호출
*******************************************************************************/
function lf_OldRtnPopupClose()
{
	if(ds_oldrtnEquipment.GetRowCount() < 1)
	{
		ds_oldrtnEquipment.AddRow();
	}

    ds_oldrtnEquipment.CopyRow(0, "ds_param", 0);
}

/*******************************************************************************
 * @description    : 부가서비스 선택 팝업 화면 종료시 호출
*******************************************************************************/
function lf_supservicePopupClose()
{

	if(ds_suplservice.GetRowCount() < 1)
	{
		ds_suplservice.AddRow();
	}

    ds_suplservice.Copy("ds_param");
}

/*******************************************************************************
 * @description    : 저장
*******************************************************************************/
function btn_save_OnClick(obj)
{

    if ( !lf_saveValidationCheck() )
    {
        return;
    }

	//일반판매
    var sSaleDtm = div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text + "00";
    var sSvcDtm  = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00";
    var sSaleChgDtm    = "";
    var sSaleChgHstCl  = "";
    var sSaleModUserId = "";

	//판매처변경일때
	if (FV_IF_PROC_CL == "4")
	{
	    sSaleChgDtm = parent.ds_channelChgIfInfo.GetColumn(0,"proc_dt") + parent.ds_channelChgIfInfo.GetColumn(0,"proc_tm");
	    sSaleChgHstCl = "12";
	    sSaleModUserId = parent.ds_channelChgIfInfo.GetColumn(0,"proc_chgrg_id");

		//채널변경이력
		if ( ds_channelExchange.rowcount == 0 )
		{
			ds_channelExchange.AddRow();
		}

		ds_channelExchange.SetColumn(0, "exchg_dtm"            , "" );  //sysdate
		ds_channelExchange.SetColumn(0, "exchg_chgrg_id"       , FV_LOGIN_USER_ID );
		ds_channelExchange.SetColumn(0, "svc_mgmt_num"         , ds_generalSaleIfInfo.GetColumn(0,"svc_mgmt_num") );
		ds_channelExchange.SetColumn(0, "sale_chg_dtm"         , sSaleChgDtm );
		ds_channelExchange.SetColumn(0, "svc_dtm"              , sSvcDtm );
		ds_channelExchange.SetColumn(0, "svc_chgrg_id"         , ds_generalSaleIfInfo.GetColumn(0,"proc_chgrg_id") );
		ds_channelExchange.SetColumn(0, "sale_chg_plc"         , "" );
		ds_channelExchange.SetColumn(0, "sale_dtl_typ"         , div_saleInfo.cmb_saleDtlTyp.Value );
		ds_channelExchange.SetColumn(0, "eqp_ser_num"          , parent.ds_channelChgIfInfo.getcolumn(0,"eqp_ser_num") );
		ds_channelExchange.SetColumn(0, "eqp_mdl_cd"           , parent.ds_channelChgIfInfo.getcolumn(0,"eqp_mdl_cd") );
		ds_channelExchange.SetColumn(0, "usim_ser_num"         , "" );
		ds_channelExchange.SetColumn(0, "usim_mdl_cd"          , "" );
		ds_channelExchange.SetColumn(0, "bf_gnrl_sale_no"      , parent.p_gnrl_sale_no );
		ds_channelExchange.SetColumn(0, "bf_gnrl_sale_chg_seq" , parent.p_gnrl_sale_chg_seq );
		ds_channelExchange.SetColumn(0, "bf_sale_plc"          , parent.ds_channelChgIfInfo.getcolumn(0,"sale_plc") );
		ds_channelExchange.SetColumn(0, "bf_stl_plc"           , parent.ds_lastGnrlSale.getcolumn(0,"stl_plc") );
		ds_channelExchange.SetColumn(0, "bf_dis_hld_plc"       , parent.ds_lastGnrlSale.getcolumn(0,"dis_hld_plc") );
		ds_channelExchange.SetColumn(0, "bf_sl_cl"             , parent.ds_channelChgIfInfo.getcolumn(0,"sl_cl") );
		ds_channelExchange.SetColumn(0, "bf_sl_net_cd"         , parent.ds_channelChgIfInfo.getcolumn(0,"sl_net_cd") );
		ds_channelExchange.SetColumn(0, "af_gnrl_sale_no"      , "");
		ds_channelExchange.SetColumn(0, "af_gnrl_sale_chg_seq" , "");
		ds_channelExchange.SetColumn(0, "af_sale_plc"          , div_dealCoInfo.edt_salePlc.Text );
		ds_channelExchange.SetColumn(0, "af_stl_plc"           , div_dealCoInfo.edt_stlPlc.Text );
		ds_channelExchange.SetColumn(0, "af_dis_hld_plc"       , div_dealCoInfo.edt_disHldPlc.Text );
		ds_channelExchange.SetColumn(0, "af_sl_cl"             , ds_generalSaleIfInfo.GetColumn(0,"sl_cl") );
		ds_channelExchange.SetColumn(0, "af_sl_net_cd"         , div_saleInfo.cmb_slNetCd.Value );
	}
	else
	{
	    sSaleChgDtm = sSaleDtm;
	    sSaleChgHstCl = "01";
	    sSaleModUserId = ds_generalSaleIfInfo.GetColumn(0,"proc_chgrg_id");
	}

    cf_setParam(ds_generalSale, "sale_dtm"           , sSaleDtm );                                            //판매일시
    cf_setParam(ds_generalSale, "sale_chgrg_id"      , "" );                                                  //판매담당자ID
    cf_setParam(ds_generalSale, "sale_chg_hst_cl"    , sSaleChgHstCl );                                       //판매변경이력구분  - 판매 : 01
    cf_setParam(ds_generalSale, "sale_chg_dtm"       , sSaleChgDtm );                                         //판매변경일시
    cf_setParam(ds_generalSale, "sale_mod_user_id"   , sSaleModUserId );                                      //판매변경자ID
    cf_setParam(ds_generalSale, "stl_plc"            , div_dealCoInfo.edt_stlPlc.Text );                      //정산처코드
    cf_setParam(ds_generalSale, "sale_plc"           , div_dealCoInfo.edt_salePlc.Text );                     //판매처코드
    cf_setParam(ds_generalSale, "svc_mgmt_num"       , ds_generalSaleIfInfo.GetColumn(0,"svc_mgmt_num") );    //서비스관리번호
    cf_setParam(ds_generalSale, "inden_num"          , ds_generalSaleIfInfo.GetColumn(0,"inden_num") );       //계약서번호
    cf_setParam(ds_generalSale, "cust_cl"            , ds_generalSaleIfInfo.GetColumn(0,"cust_cl_ps") );      //고객구분
    cf_setParam(ds_generalSale, "cust_nm"            , ds_generalSaleIfInfo.GetColumn(0,"cust_nm") );         //고객명
    cf_setParam(ds_generalSale, "cust_biz_num"       , ds_generalSaleIfInfo.GetColumn(0,"cust_biz_num") );    //주민법인번호
    cf_setParam(ds_generalSale, "cust_birth_year"    , substr(ds_generalSaleIfInfo.GetColumn(0,"cust_biz_num"),0,2) );                                                 //고객출생년도
    cf_setParam(ds_generalSale, "svc_plc"            , div_dealCoInfo.edt_svcPlc.Text );                      //개통처
    cf_setParam(ds_generalSale, "svc_num"            , ds_generalSaleIfInfo.GetColumn(0,"svc_num") );         //개통번호
    cf_setParam(ds_generalSale, "svc_dtm"            , sSvcDtm );                                             //개통일시
    cf_setParam(ds_generalSale, "svc_chgrg_id"       , ds_generalSaleIfInfo.GetColumn(0,"proc_chgrg_id") );   //개통담당자ID
    cf_setParam(ds_generalSale, "sl_cl"              , ds_generalSaleIfInfo.GetColumn(0,"sl_cl") );           //영업구분
    cf_setParam(ds_generalSale, "sl_net_cd"          , div_saleInfo.cmb_slNetCd.Value );                      //영업망코드
    cf_setParam(ds_generalSale, "ds_net_cd"          , div_saleInfo.cmb_DsNetCd.Value );                      //유통망코드
    cf_setParam(ds_generalSale, "sale_dtl_typ"       , div_saleInfo.cmb_saleDtlTyp.Value );                   //판매세부유형
    cf_setParam(ds_generalSale, "settl_cond"         , ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") );  //단말기결제조건
    cf_setParam(ds_generalSale, "usim_allot_cl"      , ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl") );   //USIM결제조건
    cf_setParam(ds_generalSale, "allot_prd_cd"       , ds_generalSaleIfInfo.GetColumn(0,"allot_prd_cd") );    //단말기할부기간코드
    cf_setParam(ds_generalSale, "agrmt_prd_cd"       , ds_generalSaleIfInfo.GetColumn(0,"agrmt_prd_cd") );    //T약정기간코드
    cf_setParam(ds_generalSale, "add_suprt_cd"       , "" );                                   //추가판매지원유형
    cf_setParam(ds_generalSale, "sale_cmms_fix_yn"   , "" );                                   //판매수수료확정여부
    cf_setParam(ds_generalSale, "online_cmms_fix_yn" , "" );                                   //온라인판매수수료확정여부
    cf_setParam(ds_generalSale, "rmks"               , div_rmks.txa_rmks.Text );               //비고
    cf_setParam(ds_generalSale, "sale_cncl_yn"       , "N");                                   //판매취소여부
    cf_setParam(ds_generalSale, "dis_hld_plc"        , div_dealCoInfo.edt_disHldPlc.Text );    //재고 보유처
    //cf_setParam(ds_generalSale, "ins_user_id"        , FV_LOGIN_USER_ID );                     //입력자ID
    cf_setParam(ds_generalSale, "acc_chg_hst_cl"     , sf_getAccChgHstCl(sSaleChgHstCl) );     //정산변경이력구분
    cf_setParam(ds_generalSale, "online_payment_cl"  , "" );                                   //온라인수납구분
    cf_setParam(ds_generalSale, "excel_cust_prom_cd" , ds_generalSaleIfInfo.GetColumn(0,"excel_cust_prom_cd") );   //우수고객행복기변코드
    cf_setParam(ds_generalSale, "tgate_recv_dtm"     , div_dealCoInfo.msk_RecvDtm.Value );
    //cf_setParam(ds_generalSale, "eqp_allot_bond_corp"  , "01" );  //단말기할부채권사 - SKT : 01
    //cf_setParam(ds_generalSale, "usim_allot_bond_corp" , "01" );  //USIM할부채권사- SKT : 01

    if (ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") == "A")
    {   //할부
        cf_setParam(ds_generalSale, "eqp_allot_bond_corp"  , "01" );  //단말기 할부채권사 : ZSAL_C_00200
    }
    else
    {   //현금
        cf_setParam(ds_generalSale, "eqp_allot_bond_corp"  , "" );  //단말기 할부채권사 : ZSAL_C_00200
    }

    if (ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl") == "Y")
    {   //후납
        cf_setParam(ds_generalSale, "usim_allot_bond_corp" , "01" );  //USIM 할부채권사 : ZSAL_C_00200
    }
    else
    {   //선납
        cf_setParam(ds_generalSale, "usim_allot_bond_corp" , "" );  //USIM 할부채권사 : ZSAL_C_00200
    }

	//단말기판매
    //재고 조회 Data에서 가져와야함...
    var sEqpOldSaleYn = "";
    var sEqpSerNum    = ds_generalSaleIfInfo.GetColumn(0,"eqp_ser_num");
    if ( !uf_IsNull(sEqpSerNum) )
    {
        sEqpOldSaleYn = div_eqpInfo.chk_eqpOldSaleYn.Value;
    }

    cf_setParam(ds_equipmentSale, "eqp_ser_num"     , sEqpSerNum );                                     //단말기일련번호
    cf_setParam(ds_equipmentSale, "eqp_color_cd"    , ds_generalSaleIfInfo.GetColumn(0,"color_cd") );   //단말기색상
    cf_setParam(ds_equipmentSale, "eqp_mdl_cd"      , ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd") ); //단말기모델코드
    cf_setParam(ds_equipmentSale, "eqp_old_sale_yn" , sEqpOldSaleYn );                                  //단말기중고판매여부
    cf_setParam(ds_equipmentSale, "ins_user_id"     , FV_LOGIN_USER_ID );                               //입력자ID

	//Usim 판매
    //재고 조회 Data에서 가져와야함...
    var sUsimOldSaleYn = "";
    var sUsimSerNum    = ds_generalSaleIfInfo.GetColumn(0,"usim_ser_num");
    if ( !uf_IsNull(sUsimSerNum) )
    {
        sUsimOldSaleYn = div_usimInfo.chk_usimOldSaleYn.Value;
    }

    cf_setParam(ds_usimSale, "usim_ser_num"        , sUsimSerNum );                                      //USIM일련번호
    cf_setParam(ds_usimSale, "usim_mdl_cd"         , ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_cd") );  //USIM모델코드
    cf_setParam(ds_usimSale, "usim_old_sale_yn"    , sUsimOldSaleYn );                                   //USIM중고판매여부
    cf_setParam(ds_usimSale, "ins_user_id"         , FV_LOGIN_USER_ID );                                 //입력자ID

	//부가상품판매

	//중고반납기기
    if (ds_oldrtnEquipment.rowcount <= 0)
    {
        ds_oldrtnEquipment.AddRow();
    }

	//수납정보
    if (ds_payment.rowcount <= 0)
    {
        ds_payment.AddRow();
    }
    // 판매처 변경에서 처리를 위한 금액 clear (소매 -> 도매)
    cf_setParam(ds_payment, "bf_cash_pay_amt"            , "0" );
    cf_setParam(ds_payment, "bf_phone_safe_amt"          , "0" );
    cf_setParam(ds_payment, "bf_crdtcrd_pay_amt1"        , "0" );
    cf_setParam(ds_payment, "bf_crdtcrd_dpst_acc_amt1"   , "0" );
    cf_setParam(ds_payment, "bf_crdtcrd_dpst_acc_cmms1"  , "0" );
    cf_setParam(ds_payment, "bf_crdtcrd_pay_amt2"        , "0" );
    cf_setParam(ds_payment, "bf_crdtcrd_dpst_acc_amt2"   , "0" );
    cf_setParam(ds_payment, "bf_crdtcrd_dpst_acc_cmms2"  , "0" );
    cf_setParam(ds_payment, "bf_skt_prprc_cash_pay_amt"  , "0" );
    cf_setParam(ds_payment, "bf_skt_prprc_prxpay_amt"    , "0" );
    cf_setParam(ds_payment, "cash_pay_amt"               , "0" );
    cf_setParam(ds_payment, "phone_safe_amt"             , "0" );
    cf_setParam(ds_payment, "crdtcrd_pay_amt1"           , "0" );
    cf_setParam(ds_payment, "crdtcrd_dpst_acc_amt1"      , "0" );
    cf_setParam(ds_payment, "crdtcrd_dpst_acc_cmms1"     , "0" );
    cf_setParam(ds_payment, "crdtcrd_pay_amt2"           , "0" );
    cf_setParam(ds_payment, "crdtcrd_dpst_acc_amt2"      , "0" );
    cf_setParam(ds_payment, "crdtcrd_dpst_acc_cmms2"     , "0" );
    cf_setParam(ds_payment, "skt_prprc_cash_pay_amt"     , "0" );
    cf_setParam(ds_payment, "skt_prprc_prxpay_amt"       , "0" );

	//판매수수료
    if (ds_saleCmms.rowcount <= 0)
    {
        ds_saleCmms.AddRow();
    }
	cf_setParam(ds_saleCmms, "bf_sale_cmms"         , "0" );
	cf_setParam(ds_saleCmms, "bf_supl_svc_sale_cmms", "0" );
	cf_setParam(ds_saleCmms, "bf_add_sale_cmms"     , "0" );
	cf_setParam(ds_saleCmms, "bf_cmms_adj"          , "0" );

    //장려금
    if (ds_promotionMoney.rowcount <= 0)
    {
        ds_promotionMoney.AddRow();
    }
    cf_setParam(ds_promotionMoney, "bf_gnrl_pr_mny"        , "0" );
	cf_setParam(ds_promotionMoney, "bf_supl_svc_pr_mny"    , "0" );
	cf_setParam(ds_promotionMoney, "bf_sale_suprt_amt"     , "0" );
	cf_setParam(ds_promotionMoney, "bf_add_sale_suprt_amt" , "0" );

	//온라인수납정보
    if (ds_onlinePayment.rowcount <= 0)
    {
        ds_onlinePayment.AddRow();
    }
    // 판매처 변경에서 처리를 위한 금액 clear
    cf_setParam(ds_onlinePayment, "bf_acc_trnsf_amt"          , "0" );
    cf_setParam(ds_onlinePayment, "bf_virtl_acc_amt"          , "0" );
    cf_setParam(ds_onlinePayment, "bf_crdtcrd_pay_amt1"       , "0" );
    cf_setParam(ds_onlinePayment, "bf_crdtcrd_pay_amt2"       , "0" );
    cf_setParam(ds_onlinePayment, "bf_skt_prprc_cash_pay_amt" , "0" );
    cf_setParam(ds_onlinePayment, "bf_skt_prprc_prxpay_amt"   , "0" );
    cf_setParam(ds_onlinePayment, "acc_trnsf_amt"             , "0" );
    cf_setParam(ds_onlinePayment, "virtl_acc_amt"             , "0" );
    cf_setParam(ds_onlinePayment, "crdtcrd_pay_amt1"          , "0" );
    cf_setParam(ds_onlinePayment, "crdtcrd_pay_amt2"          , "0" );
    cf_setParam(ds_onlinePayment, "skt_prprc_cash_pay_amt"    , "0" );
    cf_setParam(ds_onlinePayment, "skt_prprc_prxpay_amt"      , "0" );

	//온라인수수료
    if (ds_onlineCmms.rowcount <= 0)
    {
        ds_onlineCmms.AddRow();
    }
	cf_setParam(ds_onlineCmms, "bf_cash_sale_cmms"         , "0" );
	cf_setParam(ds_onlineCmms, "bf_allot_sale_cmms"        , "0" );
	cf_setParam(ds_onlineCmms, "bf_settl_crdtcrd_cmms"     , "0" );
	cf_setParam(ds_onlineCmms, "bf_cmms_adj"               , "0" );
	cf_setParam(ds_onlineCmms, "bf_acc_trnsf_cmms"         , "0" );
	cf_setParam(ds_onlineCmms, "bf_virtl_acc_cmms"         , "0" );

    var sUsimAllotSalePrc = "";
    var sUsimCashSalePrc = "";
    if ( ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl") == "Y" )
    {
        sUsimAllotSalePrc = ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc");
        sUsimCashSalePrc = "0";
    }
    else
    {
        sUsimAllotSalePrc = "0";
        sUsimCashSalePrc = div_usimInfo.msk_usimSalePrc.Value;
    }

	//할부매출
	cf_setParam(ds_allotSale, "bf_eqp_allot_sale_prc"   , "0" );  //변경전 단말기할부판매가
	cf_setParam(ds_allotSale, "bf_usim_allot_sale_prc"  , "0" );  //변경전 usim할부판매가

	cf_setParam(ds_allotSale, "eqp_allot_sale_prc"      , div_prcInfo.msk_eqpAllotSalePrc.Value );  //단말기할부판매가
	cf_setParam(ds_allotSale, "usim_allot_sale_prc"     , sUsimAllotSalePrc );  //usim할부판매가

	//SKT예수금
	cf_setParam(ds_sktPrprc, "bf_scrb_fee"         , "0" );       //변경전 가입비
	cf_setParam(ds_sktPrprc, "bf_mnp_cmms"         , "0" );       //변경전 MNP수수료
	cf_setParam(ds_sktPrprc, "bf_frg_grt_insu_fee" , "0" );       //변경전 외국인보증보험료

	cf_setParam(ds_sktPrprc, "scrb_fee_cl"      , ds_generalSaleIfInfo.GetColumn(0,"scrb_fee_cl") );    //가입비수납구분
	cf_setParam(ds_sktPrprc, "scrb_fee"         , ds_generalSaleIfInfo.GetColumn(0,"scrb_fee") );       //가입비
	cf_setParam(ds_sktPrprc, "mnp_cmms_cl"      , ds_generalSaleIfInfo.GetColumn(0,"mnp_cmms_cl") );      //MNP수수료수납구분
	cf_setParam(ds_sktPrprc, "mnp_cmms"         , ds_generalSaleIfInfo.GetColumn(0,"mnp_cmms") );         //MNP수수료
	cf_setParam(ds_sktPrprc, "frg_grt_insu_cl"  , ds_generalSaleIfInfo.GetColumn(0,"frg_grt_insu_cl") );  //외국인보증보험료구분
	cf_setParam(ds_sktPrprc, "frg_grt_insu_fee" , ds_generalSaleIfInfo.GetColumn(0,"frg_grt_insu_fee") ); //외국인보증보험료

	//약정보조금
	cf_setParam(ds_agreementAstamt, "bf_agrmt_astamt",           "0" );  	//약정보조금
	cf_setParam(ds_agreementAstamt, "bf_add_agrmt_astamt",       "0" );   	//추가약정보조금
	cf_setParam(ds_agreementAstamt, "bf_excel_cust_prom_amt",    "0" );   //우수고객기변프로모션지원금
	cf_setParam(ds_agreementAstamt, "bf_retention_agrmt_astamt", "0" );

	cf_setParam(ds_agreementAstamt, "agrmt_astamt",           ds_generalSaleIfInfo.GetColumn(0,"agrmt_amt") );  				//약정보조금
	cf_setParam(ds_agreementAstamt, "add_agrmt_astamt",       div_saleInfo.msk_addSuptCdAmt.Value );  						//추가약정보조금
	cf_setParam(ds_agreementAstamt, "excel_cust_prom_amt",    ds_generalSaleIfInfo.GetColumn(0,"excel_cust_prom_amt") );  	//우수고객기변프로모션지원금
	cf_setParam(ds_agreementAstamt, "retention_agrmt_astamt", ds_generalSaleIfInfo.GetColumn(0,"retention_agrmt_astamt") );  				//약정보조금

	//현금매출
	//ds_cashSale
	cf_setParam(ds_cashSale, "bf_eqp_cash_sale_prc"  , "0" );  //변경전 단말기현금판매가
	cf_setParam(ds_cashSale, "bf_usim_cash_sale_prc" , "0" );  //변경전 USIM현금판매가
	cf_setParam(ds_cashSale, "bf_etc_prod_sale_prc"  , "0" );  //변경전 기타상품 판매가
	cf_setParam(ds_cashSale, "bf_etc_prod_org_prc"   , "0" );  //변경전 기타상품원판매가

	cf_setParam(ds_cashSale, "eqp_cash_sale_prc"     , div_prcInfo.msk_eqpCashSalePrc.Value );  //단말기현금판매가
	cf_setParam(ds_cashSale, "usim_cash_sale_prc"    , sUsimCashSalePrc );    //USIM현금판매가
	cf_setParam(ds_cashSale, "etc_prod_sale_prc"     , "0" );                 //기타상품판매가
	cf_setParam(ds_cashSale, "etc_prod_org_prc"      , "0" );                 //기타상품원판매가

	//OCB/MCARD
	cf_setParam(ds_ocbMcard, "bf_ocb_mcard"         , "" );   //변경전 ocb/macrd
	cf_setParam(ds_ocbMcard, "bf_ocb_mcard_prc"     , "0" );  //변경전 ocb/macrd 금액

	cf_setParam(ds_ocbMcard, "ocb_mcard_cd"         , "" );   //ocb/mcard 코드
	cf_setParam(ds_ocbMcard, "ocb_mcard_prc"        , ds_generalSaleIfInfo.GetColumn(0,"ocb_mcard_prc") ); //ocb/macrd 금액


    // 판매번호 채번을 위한 정보
	// 유통망 - R: 소매, A:도매, O:온라인소매, S:온라인 도매
	// 판매구분 - E 공기기판매, G: 일반판매, P:수납대행,S:부가서비스유치
    ds_input.Clear();
	cf_setParam(ds_input, "sl_net_cl"  , "A" );                //영업망
	cf_setParam(ds_input, "sale_cl"    , "G" );                //판매구분
	cf_setParam(ds_input, "prod_cl"    , "G" );                //
	cf_setParam(ds_input, "ins_user_id", FV_LOGIN_USER_ID );   //처리자

	cf_setParam(ds_input, "if_proc_cl" , FV_IF_PROC_CL );      //Ukey Interface 처리구분  1:Ukey if     2:PS
	cf_setParam(ds_input, "op_dt"      , ds_generalSaleIfInfo.GetColumn(0,"op_dt") );   //처리일자
	cf_setParam(ds_input, "op_tm"      , ds_generalSaleIfInfo.GetColumn(0,"op_tm") );   //처리시각
	cf_setParam(ds_input, "seq"        , ds_generalSaleIfInfo.GetColumn(0,"seq") );     //순번
	cf_setParam(ds_input, "upd_cnt"    , ds_generalSaleIfInfo.GetColumn(0,"upd_cnt") ); //update count
	cf_setParam(ds_input, "if_rec_typ" , ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ") ); //전문번호

	cf_setParam(ds_input, "old_rtn_yn" , FV_OLD_RTN_YN ); //중고반납여부

	if ( uf_IsNull(FV_EQP_POL_ERR_CODE) || uf_IsNull(FV_USIM_POL_ERR_CODE) )
	{
	    FV_EQP_POL_ERR_CODE = "20";
	    FV_EQP_POL_ERR_MSG = FV_EQP_POL_ERR_MSG + "\n" + FV_USIM_POL_ERR_MSG;
	}

	cf_setParam(ds_input, "pol_error_cl"      , FV_EQP_POL_ERR_CODE);   //정책 오류 코드
	cf_setParam(ds_input, "pol_rmks"          , FV_EQP_POL_ERR_MSG );   //정책 오류 메세지
	cf_setParam(ds_input, "dis_eqp_error_yn"  , "N" );                  //단말기 오류 코드 clear
	cf_setParam(ds_input, "dis_eqp_rmrk"      , "" );                   //단말기 오류 메세지 clear
	cf_setParam(ds_input, "dis_usim_error_yn" , "N" );                  //USIM 오류 코드 clear
	cf_setParam(ds_input, "dis_usim_rmrk"     , "" );                   //USIM 오류 메세지 clear


    //재고 프로시져
//    var sActFlag   = "SO";         //업무처리구분-판매출고:SO, 기기교환출고:EO
//    var sProcFlag  = "I";         //Transaction처리 : I
    var sOutSchdDt = div_dealCoInfo.cal_svcDtm.value;   //출고예정일자

    if (FV_IF_PROC_CL == "4")
    {
        sOutSchdDt = parent.ds_channelChgIfInfo.getcolumn(0,"proc_dt");
    }

    //업무처리구분     -  판매출고 : SO  , 기기교환출고 : EO
    //업무처리구분코드 -  판매출고 : 204 , 기기교환출고 : 205
    var sEqpActFlag    = "SO";                                         //업무처리구분
    var sEqpProcFlag   = "I";                                          //트랜잭션
    var sEqpOutCl      = "204";                                        //업무처리구분코드
    var sEqpOutSchdDt  = sOutSchdDt;                                   //출고일자
    var sEqpOutPlcId   = ds_disEqpInfo.GetColumn(0,"dis_hld_plc_id");  //출고처
    var sEqpProdCl     = "1";                                          //상품구분 1:단말기, 2:USIM
    var sEqpProdCd     = ds_disEqpInfo.GetColumn(0,"eqp_mdl_cd");      //상품코드(모델코드)
    var sEqpSerNum     = ds_disEqpInfo.GetColumn(0,"eqp_ser_num");     //일련번호
    var sEqpColorCd    = ds_disEqpInfo.GetColumn(0,"color_cd");        //색상코드
    var sEqpBadYn      = "01";                                         //불량여부
    var sEqpDisSt      = "01";                                         //재고상태
    var sEqpOutQty     = "1";                                          //출고수량
    var sEqpUpdCnt     = ds_disEqpInfo.GetColumn(0,"dis_upd_cnt");                                           //update count
    var sEqpOldSaleYn  = div_eqpInfo.chk_eqpOldSaleYn.Value;

    //cf_setParam(ds_disOutEqpInfo, "old_sale_yn"       , div_eqpInfo.chk_eqpOldSaleYn.Value ); //중고판매여부
    cf_setParam(ds_disOutEqpInfo, "act_flag"          , sEqpActFlag);   //업무처리구분-판매출고:SO, 기기교환출고:EO
    cf_setParam(ds_disOutEqpInfo, "proc_flag"         , sEqpProcFlag);  //Transaction처리 : I
    //cf_setParam(ds_disEqpInfo, "out_mgmt_no"       , "");             //출고관리번호 (채번 procedure)
    cf_setParam(ds_disOutEqpInfo, "out_cl"            , sEqpOutCl);     //출고구분- 판매출고:204, 기기교환출고:205
    cf_setParam(ds_disOutEqpInfo, "out_schd_dt"       , sEqpOutSchdDt); //출고예정일자
    cf_setParam(ds_disOutEqpInfo, "out_plc_id"        , sEqpOutPlcId);  //출고처ID
    cf_setParam(ds_disOutEqpInfo, "prod_cl"           , sEqpProdCl);    //상품구분 - 단말기, USIM
    cf_setParam(ds_disOutEqpInfo, "prod_cd"           , sEqpProdCd);    //상품코드
    cf_setParam(ds_disOutEqpInfo, "color_cd"          , sEqpColorCd);   //색상코드
    cf_setParam(ds_disOutEqpInfo, "ser_num"           , sEqpSerNum);    //일련번호
    cf_setParam(ds_disOutEqpInfo, "bad_yn"            , sEqpBadYn);     //불량여부
    cf_setParam(ds_disOutEqpInfo, "dis_st"            , sEqpDisSt);     //재고상태
    cf_setParam(ds_disOutEqpInfo, "out_qty"           , sEqpOutQty);    //출고수량
    cf_setParam(ds_disOutEqpInfo, "user_id"           , FV_LOGIN_USER_ID); //처리자
    cf_setParam(ds_disOutEqpInfo, "rmks"              , "단말기판매출고"); //비고-판매출고, 기기교환출고
    cf_setParam(ds_disOutEqpInfo, "eqp_old_sale_yn"   , sEqpOldSaleYn);    //중고판매여부

    var sUsimActFlag    = "SO";                                         //업무처리구분
    var sUsimProcFlag   = "I";                                          //트랜잭션
    var sUsimOutCl      = "204";                                        //업무처리구분코드
    var sUsimOutSchdDt  = sOutSchdDt;                                   //출고일자
    var sUsimOutPlcId   = ds_disUsimInfo.GetColumn(0,"dis_hld_plc_id"); //출고처
    var sUsimProdCl     = "2";                                          //상품구분 1:단말기, 2:USIM
    var sUsimProdCd     = ds_disUsimInfo.GetColumn(0,"usim_mdl_cd");    //상품코드(모델코드)
    var sUsimSerNum     = ds_disUsimInfo.GetColumn(0,"usim_ser_num");   //일련번호
    var sUsimColorCd    = "99";                                         //색상코드
    var sUsimBadYn      = "01";                                         //불량여부
    var sUsimDisSt      = "01";                                         //재고상태
    var sUsimOutQty     = "1";                                          //출고수량
    var sUsimUpdCnt     = ds_disUsimInfo.GetColumn(0,"dis_upd_cnt");    //update count
    var sUsimOldSaleYn  = div_usimInfo.chk_UsimOldSaleYn.Value ;        //중고판매여부

    //cf_setParam(ds_disOutUsimInfo, "old_sale_yn"       , div_usimInfo.chk_usimOldSaleYn.Value ); //중고판매여부
    cf_setParam(ds_disOutUsimInfo, "act_flag"          , sUsimActFlag);   //업무처리구분-판매출고:SO, 기기교환출고:EO
    cf_setParam(ds_disOutUsimInfo, "proc_flag"         , sUsimProcFlag);  //Transaction처리 : I
    //cf_setParam(ds_disUsimInfo, "out_mgmt_no"       , "");              //출고관리번호 (채번 procedure)
    cf_setParam(ds_disOutUsimInfo, "out_cl"            , sUsimOutCl);     //출고구분- 판매출고:204, 기기교환출고:205
    cf_setParam(ds_disOutUsimInfo, "out_schd_dt"       , sUsimOutSchdDt); //출고예정일자
    cf_setParam(ds_disOutUsimInfo, "out_plc_id"        , sUsimOutPlcId);  //출고처ID
    cf_setParam(ds_disOutUsimInfo, "prod_cl"           , sUsimProdCl);    //상품구분 - 단말기, USIM
    cf_setParam(ds_disOutUsimInfo, "prod_cd"           , sUsimProdCd);    //상품코드
    cf_setParam(ds_disOutUsimInfo, "color_cd"          , sUsimColorCd);   //색상코드
    cf_setParam(ds_disOutUsimInfo, "ser_num"           , sUsimSerNum);    //일련번호
    cf_setParam(ds_disOutUsimInfo, "bad_yn"            , sUsimBadYn);     //불량여부
    cf_setParam(ds_disOutUsimInfo, "dis_st"            , sUsimDisSt);     //재고상태
    cf_setParam(ds_disOutUsimInfo, "out_qty"           , sUsimOutQty);    //출고수량
    cf_setParam(ds_disOutUsimInfo, "user_id"           , FV_LOGIN_USER_ID); //처리자
    cf_setParam(ds_disOutUsimInfo, "rmks"              , "USIM판매출고"); //비고-판매출고, 기기교환출고
    cf_setParam(ds_disOutUsimInfo, "usim_old_sale_yn"  , sUsimOldSaleYn); //중고판매여부

    var sSvcID = "saveSaleInfo";
	var sInDs  = "nc_input_fieldDs=ds_input ds_generalSale=ds_generalSale ds_equipmentSale=ds_equipmentSale";
	    sInDs += " ds_usimSale=ds_usimSale ds_suplservice=ds_suplservice ds_oldrtnEquipment=ds_oldrtnEquipment";
	    sInDs += " ds_allotSale=ds_allotSale ds_sktPrprc=ds_sktPrprc ds_agreementAstamt=ds_agreementAstamt";
	    sInDs += " ds_cashSale=ds_cashSale ds_procInput=ds_procInput ds_ocbMcard=ds_ocbMcard";
	    sInDs += " ds_payment=ds_payment ds_onlinePayment=ds_onlinePayment";
	    sInDs += " ds_saleCmms=ds_saleCmms ds_onlineCmms=ds_onlineCmms ds_promotionMoney=ds_promotionMoney";
	    sInDs += " ds_disOutEqpInfo=ds_disOutEqpInfo ds_disOutUsimInfo=ds_disOutUsimInfo";
	    sInDs += " ds_channelExchange=ds_channelExchange";

	var sOutDs = "ds_gnrlSaleNo=List";
	var sArg   = "sktst.sal.SCO#saveSaleInfo";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	return;
}

/*******************************************************************************
 * @description    : 일반판매 저장시 상품구분-단말기,USIM validation check
*******************************************************************************/
function lf_saveValidationCheck()
{
    var bFlag = true;

        bFlag = lf_eqpValidationCheck();

        if (bFlag == true)
        {
            bFlag = lf_usimValidatinCheck();
        }

    var sSvcDt = div_dealCoInfo.cal_svcDtm.Value;
    var sSvcTm = div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00";

    var sSaleDt = div_dealCoInfo.cal_saleDtm.Value;
    var sSaleTm = div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text + "00";

    var sCheckDt = "";

    if (FV_IF_PROC_CL == "4")
    {
        sCheckDt = parent.ds_channelChgIfInfo.getcolumn(0,"proc_dt");
    }
    else
    {
        sCheckDt = sSaleDt;
    }

	// 일마감 체크
	cf_CheckCloseDay("02", div_dealCoInfo.cal_saleDtm.Value, "판매일자"); // 02 영업
	//cf_CheckCloseMnth("03", div_dealCoInfo.cal_saleDtm.Value, "판매일자"); // 03 정산
	if(FV_BOOLEAN_CLOSE) return false;                                    // 입력한 일자가 마감 되었을 경우 '1'(true) 리턴.

    if ( sSaleDt+sSaleTm > sSvcDt+sSvcTm )
    {
        alert("판매일시는 개통일시 이전을 입력해야 합니다.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.cal_saleDtm.Value) )
    {
        alert("판매일자를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmHh.Text ) )
    {
        alert("판매시간를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmMm.Text ) )
    {
        alert("판매시간 및 분을 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_salePlc.Text ) )
    {
        alert("판매처를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.cal_svcDtm.Value) )
    {
        alert("개통일자를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcDtmHh.Text ) )
    {
        alert("개통시간를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcDtmMm.Text ) )
    {
        alert("개통시간 및 분을 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcPlc.Text ) )
    {
        alert("개통처를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcChgrgNm.Value ) )
    {
        alert("개통담당자를 선택해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_insUserId.Value ) )
    {
        alert("처리자를 선택해 주십시요.");
        return false;
    }

    //if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) && !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"eqp_ser_num")) )
    if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) )
    {
        alert("영업망을 선택해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_saleInfo.cmb_saleDtlTyp.Value) && !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"eqp_ser_num")) )
    {
        alert("판매유형을 선택해 주십시요.");
        return false;
    }
    //중고반납기기

    if ( ds_splstMdl.GetColumn(0,"old_rtn_yn") == "Y" )
    {
        if ( uf_IsNull(ds_oldrtnEquipment.GetColumn(0,"old_rtn_typ")) )
        {
            alert("중고반납유형을 입력해 주십시요.");
            return false;
        }
    }

    return bFlag;
}

/*******************************************************************************
 * @description    : 단말기 관련 validation check
*******************************************************************************/
function lf_eqpValidationCheck()
{
    var bFlag = true;
/*
    if ( uf_IsNull(div_eqpInfo.edt_eqpMdlCd.Text) || uf_IsNull(div_eqpInfo.edt_eqpSerNum.Text) )
    {
        alert("단말기 정보를 입력해주세요");
        bFlag = false;
    }
*/
    return bFlag;
}

/*******************************************************************************
 * @description    : Usim 관련 validation check
*******************************************************************************/
function lf_usimValidatinCheck()
{
    var bFlag = true;
/*
    if ( uf_IsNull(div_usimInfo.edt_usimMdlCd.Text) || uf_IsNull(div_usimInfo.edt_usimSerNum.Text) )
    {
        alert("USIM 정보를 입력해주세요");
        bFlag = false;
    }
*/


    if ( uf_IsNull(div_usimInfo.edt_usimMdlCd.Text) && !uf_IsNull(div_usimInfo.edt_usimSerNum.Text) )
    {
        //alert("USIM 모델 정보가 없습니다.");
        //bFlag = false;
    }

    return bFlag;
}

/*******************************************************************************
 * @description    : 판매담당자 콤보 셋팅
*******************************************************************************/
function f_getSaleChgrgId()
{
    sf_getChgrgIdList("ds_input", "ds_cmbSaleChgrgId","", div_dealCoInfo.edt_salePlc.Text, div_dealCoinfo.cal_svcDtm.Value );  //대리점
	//판매변경담당자 -- 일반판매 도매,도매 적용해야함.
}

/*******************************************************************************
 * @description    : 처리자 콤보 셋팅
*******************************************************************************/
function f_getInsUserId()
{
    sf_getChgrgIdList("ds_input", "ds_cmbInsUserId", gds_session.GetColumn(0,"orgAreaId"));  //근무지기준
}

/*******************************************************************************
 * @description    : 개콩담당자 콤보 셋팅
*******************************************************************************/
function f_getSvcChgrgId()
{
    sf_getChgrgIdList("ds_input", "ds_cmbSvcChgrgId", div_dealCoInfo.edt_svcPlc.Text );
}

/*******************************************************************************
 * @description    : 모델별판매가격표 정보를 조회(단말기)
*******************************************************************************/
function f_getSplstMdlInfo()
{
    var sSaleDtm = div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text + "00";
    var sOrgId   = div_dealCoInfo.edt_posAgencyCd.Text;

    //중고 판매일 경우 가격조회 안함.
    if ( div_eqpInfo.chk_eqpOldSaleYn.Value == "Y" )
    {
        return;
    }

    var sFlag = "true";
    if ( uf_IsNull(div_dealCoInfo.cal_saleDtm.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmHh.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmMm.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_salePlc.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_saleInfo.cmb_saleDtlTyp.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(ds_disEqpInfo.GetColumn(0,"eqp_mdl_cd") ) )
    {
        sFlag = "false";
    }

    if ( sFlag == "true")
    {
        //cf_setParam(ds_input, "settl_cond"     , ds_generalSaleIfInfo.GetColumn(0,"settl_cond") );   //단말기결제조건
		cf_setParam(ds_input, "sale_typ_cd_min", div_saleInfo.cmb_saleDtlTyp.Value );                //판매세부유형
		cf_setParam(ds_input, "sale_dtm"       , sSaleDtm);                                          //판매일시
		cf_setParam(ds_input, "org_id"         , sOrgId);                                            //대리점
		cf_setParam(ds_input, "eqp_mdl_cd"     , ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd") );   //단말기모델코드
		cf_setParam(ds_input, "sl_net_cd"      , div_saleInfo.cmb_slNetCd.Value );                   //영업망
		cf_setParam(ds_input, "ds_net_cd"      , div_saleInfo.cmb_DsNetCd.Value );                   //유통망
		cf_setParam(ds_input, "agrmt_prd_cd"   , ds_generalSaleIfInfo.GetColumn(0,"agrmt_prd_cd") ); //단말기결제조건

        var sSvcID = "getSplstMdlInfo";
	    var sInDs  = "nc_input_fieldDs=ds_input";
	    var sOutDs = "ds_splstMdl=ds_splstMdl";
	    var sArg   = "sktst.sal.SCO#getSplstMdlInfo";
	    http.Sync = true;
	    cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	    http.Sync = false;
    }

    return;
}

function f_getUplst()
{
    var sUsimMdlCd = ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_cd");
	var sSaleDtm = div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text + "00";

    //중고 판매일 경우 가격조회 안함.
    //if ( div_eqpInfo.chk_eqpOldSaleYn.Value == "Y" || ds_generalSaleIfInfo.GetColumn(0,"settl_cond") == "C" )
    if ( div_usimInfo.chk_usimOldSaleYn.Value == "Y" )
    {
        return;
    }

    if ( !uf_IsNull(sUsimMdlCd) )
    {
		cf_setParam(ds_input, "mdl_id"     , sUsimMdlCd);   //USIM모델코드
		cf_setParam(ds_input, "sale_dtm"   , sSaleDtm );    //판매일시

		var sSvcID = "getUplst";
		var sInDs  = "nc_input_fieldDs=ds_input";
		var sOutDs = "ds_uplst=List";
		var sArg   = "sktst.sal.SCO#getUplst";

		http.Sync = true;
		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
		http.Sync = false;
    }
}

/*******************************************************************************
 * @description    : 단말기 할부/현금에 따른 계산.
*******************************************************************************/
function f_procAmt()
{
/*
    var iAmt = 0;
    var iAddSuptCdAmt = ParseInt(div_saleInfo.msk_addSuptCdAmt.Value);
    var iOcbMcardAmt  = ParseInt(div_saleInfo.msk_ocbMcardPrc.Value);
    var iAllotSalePrc = ParseInt(ds_splstMdl.GetColumn(0,"allot_sale_prc"));
    var iCashSalePrc  = ParseInt(ds_splstMdl.GetColumn(0,"cash_sale_prc"));

    //할부 : A, 현금 : B
    if ( ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") == "A")
    {
        //할부금액 계산
        iAmt = iAllotSalePrc - iOcbMcardAmt;

        div_prcInfo.msk_eqpAllotSalePrc.Value = iAmt;

        //현금 표시는 0
        div_prcInfo.msk_eqpCashSalePrc.Value = 0;
        //div_payment.msk_totSaleAmt.Value = iAmt;
    }
    else
    {
        //할부금액 0
        div_prcInfo.msk_eqpAllotSalePrc.value = 0;

        //현금 표시는 계산
        iAmt = iCashSalePrc - iOcbMcardAmt;

        div_prcInfo.msk_eqpCashSalePrc.Value = iAmt;
        //div_payment.msk_totSaleAmt.Value = iAmt;
    }
*/
}


/*******************************************************************************
 * @description    : SKT예수금 변경시 수납정보의 SKT예수금 금액 변경
*******************************************************************************/
function f_sktPrprcAmt()
{
    var iAmt     = 0;
    var iScrbFee = 0;
    var iMnpCmms = 0;
    var iFrgGrtInsuFee = ParseInt(div_sktPrprc.msk_frgGrtInsuFee.Value);

    //가입비는 즉납 : 01 일때만 수납
    if ( ds_generalSaleIfInfo.GetColumn(0,"scrb_fee_cl") == "01" )
    {
        iScrbFee = ParseInt(div_sktPrprc.msk_scrbFee.Value);
    }

    //번호이동 수수료는 완납 : 1 일때만 수납
    if ( ds_generalSaleIfInfo.GetColumn(0,"mnp_cmms_cl") == "1" )
    {
        iMnpCmms = ParseInt(div_sktPrprc.msk_mnpCmms.Value);
    }

    iAmt = iScrbFee + iMnpCmms + iFrgGrtInsuFee;
    div_sktPrprc.msk_sktTotSaleAmt.Value = iAmt;
}

/*******************************************************************************
 * @description    : OCB/Mcard사 변경시 처리.
*******************************************************************************/
function div_saleInfo_cmb_ocbMcard_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
/*
	if (uf_IsNull(strCode))
	{
	    div_saleInfo.msk_ocbMcardPrc.Value = 0;
	    div_saleInfo.msk_ocbMcardPrc.Enable = false;
	}
	else
	{
	    div_saleInfo.msk_ocbMcardPrc.Value = 0;
	    div_saleInfo.msk_ocbMcardPrc.Enable = true;
	}

	f_procAmt();
*/
}

/*******************************************************************************
 * @description    : 시간 validation check
*******************************************************************************/
function div_dealCoInfo_edt_saleDtmHh_OnChanged(obj,strText)
{
	if (strText > 23)
	{
	    alert("유효한 시간을 입력해주세요.");
	}
	else
	{
	    if (length(strText) == 1)
	    {
	        obj.value = "0" + strText;
	    }
	}

}

/*******************************************************************************
 * @description    : 분 validation check
*******************************************************************************/
function div_dealCoInfo_edt_saleDtmMm_OnChanged(obj,strText)
{
	if (strText > 59)
	{
	    alert("유효한 시간을 입력해주세요.");
	}
	else
	{
	    if (length(strText) == 1)
	    {
	        obj.value = "0" + strText;
	    }
	}
}

/*******************************************************************************
 * @description    : 시간 validation check
*******************************************************************************/
function div_dealCoInfo_edt_svcDtmHh_OnChanged(obj,strText)
{
	if (strText > 23)
	{
	    alert("유효한 시간을 입력해주세요.");
	}
	else
	{
	    if (length(strText) == 1)
	    {
	        obj.value = "0" + strText;
	    }
	}

}

/*******************************************************************************
 * @description    : 분 validation check
*******************************************************************************/
function div_dealCoInfo_edt_svcDtmMm_OnChanged(obj,strText)
{
	if (strText > 59)
	{
	    alert("유효한 시간을 입력해주세요.");
	}
	else
	{
	    if (length(strText) == 1)
	    {
	        obj.value = "0" + strText;
	    }
	}
}

/*******************************************************************************
 * @description    : oParam1 값이 없으면 oParam2,oParam3,oParam4 "" 처리
*******************************************************************************/
function f_clearNm(oParam1, oParam2, oParam3, oParam4)
{
     if ( uf_IsNull(oParam1.Text) )
     {
         oParam2.Text = "";

         if ( !uf_IsNull(oParam3) )
         {
             oParam3.Text = "";
             oParam4.Text = "";
         }
     }
}

function div_saleInfo_cmb_slNetCd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	 FV_GET_SPLST_MDL_YN = "N";

     lf_getGeneralsuplIfList();

     f_getSplstMdlInfo();

     lf_prodErrMsg("2", FV_EQP_POL_ERR_CODE, FV_EQP_POL_ERR_MSG, FV_USIM_POL_ERR_CODE, FV_USIM_POL_ERR_MSG);

}

function div_dealCoInfo_cal_saleDtm_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
	if (nChar == 13)
    {

	    if (FV_SALE_DT_KEY_YN == "N")
	    {
	        //div_dealCoInfo.btn_salePlc.Click();
            //단말기 모델별판매가격표 조회
            f_getSplstMdlInfo();

            //USIM 운영단가표 조회
            f_getUplst();

            lf_prodErrMsg("2",FV_EQP_POL_ERR_CODE, FV_EQP_POL_ERR_MSG, FV_USIM_POL_ERR_CODE, FV_USIM_POL_ERR_MSG);

	        FV_SALE_DT_KEY_YN = "Y";
	    }
	    else
	    {
	        FV_SALE_DT_KEY_YN = "N";
	    }
	}
}

/*******************************************************************************
 * @description    : 재고 보유처가 일치 하지 않을때 재고조정이동 처리를 해준다.
*******************************************************************************/
function btn_disDtr_OnClick(obj)
{
    var sDisDtrYn       = "";                                           // 재고이동여부
    var sErrcode        = "";                                           // ERROR CODE
    var sErrmsg         = "";                                           // ERROR MESSAGE
    var sAactFlag       = "MC";                                         // 업무처리구분 (MC:재고조정이동)
    var sProcFlag       = "";                                           // Transaction 처리 (I:등록,U:수정,D:개별삭제,AD:전체삭제) 사용안함
    var sOutMgmtNo      = "MV";                                         // 출고관리번호
    var sGnrlSaleNo     = "";                                           // 일반판매번호
    var sGnrlSaleChgSeq = "";                                           // 일반판매변경순번
    var sOutSchdDt      = "";             // 출고예정일자
    var sOutPlcId       = "";                                           // 출고처ID
    var sInPlcId        = div_dealCoInfo.edt_disHldPlc.Text ;           // 입고처ID
    var sOutCl          = "301";                                        // 출고구분
    var sRmks           = "";                                           // 비고
	var sProdCl			= "";				                            // 상품구분
    var sProdCd         = "";                                           // 상품코드
    var sColorCd        = "";                                           // 색상코드
    var sSerNum         = "";                                           // 일련번호
    var sMovSeq         = "";                                           // 이동출고순번 (사용안함)
    var sBadYn          = "01";                                         // 불량여부
    var sDisSt          = "01";                                         // 재고상태
    var sMovOutQty      = "1";                                          // 이동출고수량
    var sUserId         = FV_LOGIN_USER_ID;                             // 처리자
    var sUpdCnt         = "";                                           // Update Count
    var sOpDt           = ds_generalSaleIfInfo.GetColumn(0,"op_dt");    // 일반판매 Ukey I/F  처리일자
    var sOpTm           = ds_generalSaleIfInfo.GetColumn(0,"op_tm");    // 일반판매 Ukey I/F  처리시간
    var sSeq            = ds_generalSaleIfInfo.GetColumn(0,"seq");      // 일반판매 Ukey I/F  처리순번

    if (FV_IF_PROC_CL == "4")
    {
        sOutSchdDt = parent.ds_channelChgIfInfo.getcolumn(0,"proc_dt");
    }
    else
    {
        sOutSchdDt = div_dealCoInfo.cal_svcDtm.Value ;
    }

//var FV_DIS_EQP_ERR_STATUS  = "0";  //단말기오류상태 ( 0:정상, 1:오류)
//var FV_DIS_USIM_ERR_STATUS = "0";  //USIM  오류상태 ( 0:정상, 1:오류)
//var FV_EQP_ERR_CODE;               //단말기 오류 코드
//var FV_USIM_ERR_CODE;              //USIM 오류 코드

    if ( FV_EQP_ERR_CODE == "F004" || FV_EQP_ERR_CODE == "F009")
    {
        sDisDtrYn       = "Y";
        sOutPlcId       = ds_disEqpInfo.GetColumn(0,"dis_hld_plc_id");  // 출고처ID
        sRmks           = "단말기 재고조정이동";                        // 비고
	    sProdCl			= "1";				                            // 상품구분
        sProdCd         = ds_disEqpInfo.GetColumn(0,"eqp_mdl_cd");      // 상품코드
        sColorCd        = ds_disEqpInfo.GetColumn(0,"color_cd");        // 색상코드
        sSerNum         = ds_disEqpInfo.GetColumn(0,"eqp_ser_num");     // 일련번호
        sUpdCnt         = ds_disEqpInfo.GetColumn(0,"dis_upd_cnt");     // Update Count
    }
    else
    {
        sDisDtrYn       = "N";
    }

    cf_setParam(ds_disDtrEqpInfo, "dis_dtr_yn"        , sDisDtrYn);
    cf_setParam(ds_disDtrEqpInfo, "errcode"           , sErrcode);
    cf_setParam(ds_disDtrEqpInfo, "errmsg"            , sErrmsg);
    cf_setParam(ds_disDtrEqpInfo, "act_flag"          , sAactFlag);
    cf_setParam(ds_disDtrEqpInfo, "proc_flag"         , sProcFlag);
    cf_setParam(ds_disDtrEqpInfo, "out_mgmt_no"       , sOutMgmtNo);
    cf_setParam(ds_disDtrEqpInfo, "gnrl_sale_no"      , sGnrlSaleNo);
    cf_setParam(ds_disDtrEqpInfo, "gnrl_sale_chg_seq" , sGnrlSaleChgSeq);
    cf_setParam(ds_disDtrEqpInfo, "out_schd_dt"       , sOutSchdDt);
    cf_setParam(ds_disDtrEqpInfo, "out_plc_id"        , sOutPlcId);
    cf_setParam(ds_disDtrEqpInfo, "in_plc_id"         , sInPlcId);
    cf_setParam(ds_disDtrEqpInfo, "out_cl"            , sOutCl);
    cf_setParam(ds_disDtrEqpInfo, "rmks"              , sRmks);
    cf_setParam(ds_disDtrEqpInfo, "prod_cl"           , sProdCl);
    cf_setParam(ds_disDtrEqpInfo, "prod_cd"           , sProdCd);
    cf_setParam(ds_disDtrEqpInfo, "color_cd"          , sColorCd);
    cf_setParam(ds_disDtrEqpInfo, "ser_num"           , sSerNum);
    cf_setParam(ds_disDtrEqpInfo, "mov_seq"           , sMovSeq);
    cf_setParam(ds_disDtrEqpInfo, "bad_yn"            , sBadYn);
    cf_setParam(ds_disDtrEqpInfo, "dis_st"            , sDisSt);
    cf_setParam(ds_disDtrEqpInfo, "mov_out_qty"       , sMovOutQty);
    cf_setParam(ds_disDtrEqpInfo, "user_id"           , sUserId);
    cf_setParam(ds_disDtrEqpInfo, "upd_cnt"           , sUpdCnt);
    cf_setParam(ds_disDtrEqpInfo, "op_dt"             , sOpDt);
    cf_setParam(ds_disDtrEqpInfo, "op_tm"             , sOpTm);
    cf_setParam(ds_disDtrEqpInfo, "seq"               , sSeq);


    if ( FV_USIM_ERR_CODE == "F004" || FV_USIM_ERR_CODE == "F009")
    {
        sDisDtrYn       = "Y";
        sOutPlcId       = ds_disUsimInfo.GetColumn(0,"dis_hld_plc_id");  // 출고처ID
        sRmks           = "USIM 재고조정이동";                           // 비고
	    sProdCl			= "2";				                             // 상품구분
        sProdCd         = ds_disUsimInfo.GetColumn(0,"usim_mdl_cd");     // 상품코드
        sColorCd        = "99";              // 색상코드
        sSerNum         = ds_disUsimInfo.GetColumn(0,"usim_ser_num");    // 일련번호
        sUpdCnt         = ds_disUsimInfo.GetColumn(0,"dis_upd_cnt");     // Update Count

    }
    else
    {
        sDisDtrYn       = "N";
    }

    cf_setParam(ds_disDtrUsimInfo, "dis_dtr_yn"        , sDisDtrYn);
    cf_setParam(ds_disDtrUsimInfo, "errcode"           , sErrcode);
    cf_setParam(ds_disDtrUsimInfo, "errmsg"            , sErrmsg);
    cf_setParam(ds_disDtrUsimInfo, "act_flag"          , sAactFlag);
    cf_setParam(ds_disDtrUsimInfo, "proc_flag"         , sProcFlag);
    cf_setParam(ds_disDtrUsimInfo, "out_mgmt_no"       , sOutMgmtNo);
    cf_setParam(ds_disDtrUsimInfo, "gnrl_sale_no"      , sGnrlSaleNo);
    cf_setParam(ds_disDtrUsimInfo, "gnrl_sale_chg_seq" , sGnrlSaleChgSeq);
    cf_setParam(ds_disDtrUsimInfo, "out_schd_dt"       , sOutSchdDt);
    cf_setParam(ds_disDtrUsimInfo, "out_plc_id"        , sOutPlcId);
    cf_setParam(ds_disDtrUsimInfo, "in_plc_id"         , sInPlcId);
    cf_setParam(ds_disDtrUsimInfo, "out_cl"            , sOutCl);
    cf_setParam(ds_disDtrUsimInfo, "rmks"              , sRmks);
    cf_setParam(ds_disDtrUsimInfo, "prod_cl"           , sProdCl);
    cf_setParam(ds_disDtrUsimInfo, "prod_cd"           , sProdCd);
    cf_setParam(ds_disDtrUsimInfo, "color_cd"          , sColorCd);
    cf_setParam(ds_disDtrUsimInfo, "ser_num"           , sSerNum);
    cf_setParam(ds_disDtrUsimInfo, "mov_seq"           , sMovSeq);
    cf_setParam(ds_disDtrUsimInfo, "bad_yn"            , sBadYn);
    cf_setParam(ds_disDtrUsimInfo, "dis_st"            , sDisSt);
    cf_setParam(ds_disDtrUsimInfo, "mov_out_qty"       , sMovOutQty);
    cf_setParam(ds_disDtrUsimInfo, "user_id"           , sUserId);
    cf_setParam(ds_disDtrUsimInfo, "upd_cnt"           , sUpdCnt);
    cf_setParam(ds_disDtrUsimInfo, "op_dt"             , sOpDt);
    cf_setParam(ds_disDtrUsimInfo, "op_tm"             , sOpTm);
    cf_setParam(ds_disDtrUsimInfo, "seq"               , sSeq);

	var sSvcID = "addEqpUsimDisDtr";
	var sInDs  = "ds_disDtrEqpInfo=ds_disDtrEqpInfo ds_disDtrUsimInfo=ds_disDtrUsimInfo";
	var sOutDs = "ds_rtnDisDtr=disDtr";
	var sArg   = "sktst.sal.SCO#addEqpUsimDisDtr";

	http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
    http.Sync = false;
}

function btn_close_OnClick(obj)
{
    if (FV_IF_PROC_CL == "4")
    {
        parent.lf_updateModUserId("C");
        parent.lf_close();
        return;
    }

	this.Close();
}

function div_dealCoInfo_edt_saleDtmHh_OnKillFocus(obj)
{
	if ( (div_dealCoInfo.cal_svcDtm.value + div_dealCoInfo.edt_svcDtmHh.Text)
		< (div_dealCoInfo.cal_saleDtm.Value + obj.Value) )
	{
		alert("판매일시는 개통일시와 같거나 이전이어야 합니다.");
		obj.SetFocus();
		return;
	}
}

function div_dealCoInfo_edt_saleDtmMm_OnKillFocus(obj)
{
	if (div_dealCoInfo.cal_svcDtm.value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text
		< div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + obj.Value )
	{
		alert("판매일시는 개통일시와 같거나 이전이어야 합니다.");
		obj.SetFocus();
		return;
	}
}

function div_dealCoInfo_cal_saleDtm_OnKillFocus(obj)
{

    if ( div_dealCoInfo.cal_svcDtm.Value < obj.value )
    {
        alert("판매일자는 개통일자와 같거나 이전이어야 합니다.");
        obj.value = "";
        return;
    }

    FV_SALE_DT_KEY_YN = "N";
}

/*******************************************************************************
 * @description    : 할부판매가에 대한 할부원금계산 처리.
*******************************************************************************/
function lf_calAllotSalePrc()
{
   /*
   == 전문에서 할부원금구하는 공식 ==

   1. T할부지원 계산식
      할부원금(할부이자제외금액) = 할부원금금액 - 선납조정금액 - 폰세이브금액

   2. T기본약정계산식
      할부원금(할부이자제외금액) = 할부원금금액 - 선납조정금액 - 폰세이브금액 - T약정금액 - 대리점밴드2
   */

	var sDsNetCd      = "";  //유통망     0 : 무약정, 1 : T할부지원 , 2 : T기본지원
	var iAllotSalePrc = 0;   //할부판매가
	var iOcbMcardPrc  = 0;   //OCB/MCARD금액
	var iAgrmtAmt     = 0;   //T약정금액
	var iRtnAgrmtAmt  = 0;   //대리점밴드2
	var iAllotIntAmt  = 0;   //할부이자금액
	var iFreeAllotAmt = 0;   //선납조정금액
	var iViewallotSalePrc = 0;
	var iUkeyAllotSalePrc = 0;

	sDsNetCd = div_saleInfo.cmb_DsNetCd.Value;

	iAllotSalePrc = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"allot_sale_prc"));
	iOcbMcardPrc  = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"ocb_mcard_prc"));
	iAgrmtAmt     = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"agrmt_amt"));
	iRtnAgrmtAmt  = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"retention_agrmt_astamt"));
	iAllotIntAmt  = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"allot_int_amt"));
	iFreeAllotAmt = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"free_allot_amt"));
	iUkeyAllotSalePrc = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"ukey_allot_sale_prc"));

	if (sDsNetCd == "2")
	{
		//T기본약정 계산식
		iAllotSalePrc =  iAllotSalePrc - iFreeAllotAmt - iOcbMcardPrc - iAgrmtAmt - iRtnAgrmtAmt;
	}
	else
	{
		//T할부지원 계산식
		iAllotSalePrc =  iAllotSalePrc - iFreeAllotAmt - iOcbMcardPrc;
	}

	if(iUkeyAllotSalePrc > 0) {
		return iUkeyAllotSalePrc;
	} else {
		return iAllotSalePrc;
	}
}

function lf_setOldRtn()
{
    var sOldRtnrsnCd = ds_generalSaleIfInfo.GetColumn(0,"old_rtnrsn_cd");
    var sSaleDt = div_dealCoInfo.cal_saleDtm.Value;

    if ( sSaleDt < "20090801" )
    {
		if (substr(ds_generalSaleIfInfo.GetColumn(0,"sale_dtl_typ"),0,2) == "S2")
		{
			if (uf_IsNull(sOldRtnrsnCd))
			{
				sOldRtnrsnCd = "1";
			}

			cf_setParam(ds_oldrtnEquipment, "old_rtn_typ"    ,sOldRtnrsnCd);
			cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl"    ,ds_generalSaleIfInfo.GetColumn(0,"bf_eqp_mdl_cd"));
			cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl_nm" ,ds_generalSaleIfInfo.GetColumn(0,"bf_eqp_mdl_nm"));
			cf_setParam(ds_oldrtnEquipment, "old_rtn_ser_num",ds_generalSaleIfInfo.GetColumn(0,"bf_eqp_ser_num"));

			var sViewMdl = "";
			sViewMdl =  ds_oldrtnEquipment.GetColumn(0,"old_rtn_mdl_nm") + "/" + ds_oldrtnEquipment.GetColumn(0,"old_rtn_ser_num");
			div_saleInfo.edt_oldRtnTypNm.Text = sViewMdl;
			div_saleInfo.btn_oldRtn.Enable = true;

			FV_OLD_RTN_YN = "Y";
		}
	}
	else
	{
			if (uf_IsNull(sOldRtnrsnCd))
			{
				sOldRtnrsnCd = "1";
			}

			cf_setParam(ds_oldrtnEquipment, "old_rtn_typ"    ,sOldRtnrsnCd);
			cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl"    ,ds_generalSaleIfInfo.GetColumn(0,"bf_eqp_mdl_cd"));
			cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl_nm" ,ds_generalSaleIfInfo.GetColumn(0,"bf_eqp_mdl_nm"));
			cf_setParam(ds_oldrtnEquipment, "old_rtn_ser_num",ds_generalSaleIfInfo.GetColumn(0,"bf_eqp_ser_num"));

			var sViewMdl = "";
			sViewMdl =  ds_oldrtnEquipment.GetColumn(0,"old_rtn_mdl_nm") + "/" + ds_oldrtnEquipment.GetColumn(0,"old_rtn_ser_num");
			div_saleInfo.edt_oldRtnTypNm.Text = sViewMdl;
			div_saleInfo.btn_oldRtn.Enable = true;

			FV_OLD_RTN_YN = "Y";

	}

}

function lf_setNonOldRtn()
{
	cf_setParam(ds_oldrtnEquipment, "old_rtn_typ"    ,"");
	cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl"    ,"");
	cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl_nm" ,"");
	cf_setParam(ds_oldrtnEquipment, "old_rtn_ser_num","");

	div_saleInfo.edt_oldRtnTypNm.Text = "";
	div_saleInfo.btn_oldRtn.Enable = false;

	FV_OLD_RTN_YN = "N";

}


/*******************************************************************************
 * @description    : 중고반납여부 정보를 조회(단말기)
*******************************************************************************/
function lf_getOldSaleInfo()
{
    var sSaleDtm = div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text + "00";
    var sOrgId   = div_dealCoInfo.edt_posAgencyCd.Text;

    var sFlag = "true";
    if ( uf_IsNull(div_dealCoInfo.cal_saleDtm.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmHh.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmMm.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_salePlc.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_saleInfo.cmb_saleDtlTyp.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(ds_disEqpInfo.GetColumn(0,"eqp_mdl_cd") ) )
    {
        sFlag = "false";
    }

    if ( sFlag == "true")
    {
		cf_setParam(ds_input, "sale_typ_cd_min", div_saleInfo.cmb_saleDtlTyp.Value );                //판매세부유형
		cf_setParam(ds_input, "sale_dtm"       , sSaleDtm);                                          //판매일시
		cf_setParam(ds_input, "org_id"         , sOrgId);                                            //대리점
		cf_setParam(ds_input, "eqp_mdl_cd"     , ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd") );   //단말기모델코드
		cf_setParam(ds_input, "sl_net_cd"      , div_saleInfo.cmb_slNetCd.Value );                   //영업망
		cf_setParam(ds_input, "ds_net_cd"      , div_saleInfo.cmb_DsNetCd.Value );                   //유통망
		cf_setParam(ds_input, "agrmt_prd_cd"   , ds_generalSaleIfInfo.GetColumn(0,"agrmt_prd_cd") ); //단말기결제조건

        var sSvcID = "getOldSaleInfo";
	    var sInDs  = "nc_input_fieldDs=ds_input";
	    var sOutDs = "ds_oldSaleInfo=ds_splstMdl";
	    var sArg   = "sktst.sal.SCO#getSplstMdlInfo";

	    http.Sync = true;
	    cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	    http.Sync = false;
    }

    return;
}

/*******************************************************************************
 * @description    : IF 판매유형과 재고조회 후 단말기 판매유형이 다를경우
*******************************************************************************/
function lf_chkSlNetCd()
{
    var sEqpOldSaleYn = div_eqpInfo.chk_eqpOldSaleYn.Value;
    var sSaleDtlTyp   = "";
    var sFlag = "true";

    if ( uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd")) )
    {
        lf_setUsimSaleNetCd("1");
    }

    sSaleDtlTyp   = substr(ds_generalSaleIfInfo.GetColumn(0,"sale_dtl_typ"),0,2);

    if ( FV_DIS_EQP_ERR_STATUS == "0" )
    {
		if ( sSaleDtlTyp == "S1" && sEqpOldSaleYn == "Y" )
		{
            sFlag = "false";
		}

		if ( sSaleDtlTyp == "S3" && sEqpOldSaleYn <> "Y" )
		{
            sFlag = "false";
		}
		
		if ( ds_generalSaleIfInfo.GetColumn(0,"sale_dtl_typ") == "S10301" ) 
		{
			sFlag = "true";
		}

		if ( sFlag == "false" )
		{
			alert("판매유형이 변경되었습니다. 재조회 후  처리하십시요.");
			btn_disDtr.Enable = false;
			btn_save.Enable = false;
		}
    }
    return;
}
/*******************************************************************************
 * @description    : 메세지 출력후 화면종료
*******************************************************************************/
function lf_formClose(sMsg)
{
	 alert(sMsg);
	 this.close();
}

/*******************************************************************************
 * @description    : usim 판매일때 처리
                     sCl = 1 일때 전문유형 25,26,27,28,65,66 일때 처리
                     sCl = 2 일때 전문유형 91,92,93,94 일때 처리
*******************************************************************************/
function lf_setUsimSaleNetCd(sCl)
{
	//영업망
	if ( uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"sl_net_cd")) || sCl == "1" )
	{
		ds_generalSaleIfInfo.SetColumn(0,"sl_net_cd","201");
	}

	//판매유형
	if ( uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"sale_dtl_typ")) || sCl == "1" )
	{
		ds_generalSaleIfInfo.SetColumn(0,"sale_dtl_typ","S20201");
	}

	//유통망
	if ( uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"ds_net_cd")) || sCl == "1" )
	{
		ds_generalSaleIfInfo.SetColumn(0,"ds_net_cd","0");
		ds_generalSaleIfInfo.SetColumn(0,"ds_net_nm","무약정");
	}

	div_saleInfo.cmb_slNetCd.Value = ds_generalSaleIfInfo.GetColumn(0,"sl_net_cd");
	div_saleInfo.cmb_slNetCd.Enable = false;
}

/*******************************************************************************
 * @description    : 판매정보 - 유통망 변경 / 부가상품정보 재 조회
 ******************************************************************************/
function div_saleInfo_cmb_DsNetCd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	if (strCode == "0") {
		if ( confirm("스페셜할인인 경우만 변경 가능합니다.\n\n변경 하시겠습니까?") == "1" )
		{
			alert("유통망이 변경되었습니다.");
		} else {
			div_saleInfo.cmb_DsNetCd.Index = nOldIndex;
		}
	}

	 FV_GET_SPLST_MDL_YN = "N";

     lf_getGeneralsuplIfList();

     f_getSplstMdlInfo();

     lf_prodErrMsg("2", FV_EQP_POL_ERR_CODE, FV_EQP_POL_ERR_MSG, FV_USIM_POL_ERR_CODE, FV_USIM_POL_ERR_MSG);
}
]]></Script>
</Window>
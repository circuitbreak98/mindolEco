<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="600" Id="SALMGS01000" Left="8" OnLoadCompleted="SALMGS01000_OnLoadCompleted" OnUnloadCompleted="SALMGS01000_OnUnloadCompleted" PidAttrib="7" Title="부가단말기판매변경_M채널" Top="8" Ver="1.0" Width="1024" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_afterInfo">
				<Contents>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="tagrmt_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="settl_cond_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="add_supt_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="add_supt_cd_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="bond_prem" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_fee_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_cd" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_beforeInfo">
				<Contents>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="tagrmt_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="settl_cond_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="add_supt_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="add_supt_cd_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="bond_prem" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_cd" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbAddSuptCd">
				<Contents>
					<colinfo id="add_supt_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="add_supt_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="add_supt_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbBadRsnCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbBondPrem">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbChgrgId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbDsNetCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbEqpBadDtlRsnCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbEqpBadRsnCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commMnpCmmsCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbOldRtnCustRtnTyp">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbOldRtnTyp">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSaleChgHstCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSaleDtlTyp">
				<Contents>
					<colinfo id="sale_typ_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_yn" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commScrbFeeCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commAgrmtPrdCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbTuScrbFeeCl">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbUsimBadRsnCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_equipmentSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num_old" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_nm_old" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_color_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_old_sale_yn_old" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_change_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num_view" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_tloginSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_ser_num_old" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_color_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_change_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_ser_num_view" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_generalSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chgrg_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_hst_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_mod_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="stl_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="stl_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="pos_agency" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_mgmt_num" size="256" summ="default" type="STRING"/>
					<colinfo id="inden_num" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_biz_num" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_birth_year" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_num" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_chgrg_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="settl_cond" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="add_suprt_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="dt_cls_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_bond_corp" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_bond_corp" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_cncl_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_cncl_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="max_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtm_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chgrg_id_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_hst_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_dtm_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_mod_user_id_old" size="256" summ="default" type="STRING"/>
					<colinfo id="stl_plc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_nm_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_plc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_mgmt_num_old" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_num_old" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_dtm_old" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_chgrg_id_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_net_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ_old" size="256" summ="default" type="STRING"/>
					<colinfo id="settl_cond_old" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="add_suprt_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_nm_view" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_num_view" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_biz_num_view" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_cncl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="online_payment_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="column1" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_color_cd" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_input"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ocbMcard">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_ocb_mcard_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_ocbMcardCopy">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_ocb_mcard_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_oldrtnEquipment">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_mdl" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_cust_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_mdl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_ser_num_old" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_typ_old" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_cust_rtn_typ_old" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_schd_dt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_output"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_param">
				<Contents>
					<colinfo id="old_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_cust_rtn_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_cust_rtn_typ_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_mdl" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_ser_num" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_payment">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_phone_safe_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_skt_prprc_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_skt_prprc_prxpay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_prxpay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pay_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrdcorp1_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrdcorp2_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2_old" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_cash_pay_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prxpay_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_procInput">
				<Contents>
					<colinfo id="iv_act_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_proc_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_mgmt_no" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_prod_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_bad_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_out_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="iv_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_prodExchange">
				<Contents>
					<colinfo id="exchg_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="exchg_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="diff_eqp_chg_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_exchg_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_bad_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_bad_dtl_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_exchg_rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_exchg_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_bad_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_bad_dtl_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_exchg_rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="af_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="af_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="af_eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="af_eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="af_usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="af_usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_temp">
				<Contents>
					<colinfo id="supl_svc_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="chk" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_usimSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num_old" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd_old" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_nm_old" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_old_sale_yn_old" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_change_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num_view" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSaleChgrgId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSvcChgrgId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_splstMdl">
				<Contents>
					<colinfo id="allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_yn" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commDsNetCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commSaleDtlTyp">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commTAgrmtPrdCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commFrgGrtInsuCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbSaleChgChgrgId">
				<Contents>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="user_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_lastGnrlSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_generalSaleIfInfo">
				<Contents>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
					<colinfo id="pos_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="pos_agency_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="channel_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_agency_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_sub_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_channel_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_mgmt_num" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_chgrg_id" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_chgrg_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_com" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl_ps" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_cl_ps_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cust_biz_num" size="256" summ="default" type="STRING"/>
					<colinfo id="inden_num" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_aprv_num" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tgate_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="online_deal_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_settl_cond" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_settl_cond_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="free_allot_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ocb_mcard_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ds_net_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="old_rtn_rsn_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="fst_svc_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_chg_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="term_rsn_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_hst_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_chg_hst_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_apnd_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="error_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="sl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_dtl_typ" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_int_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ukey_allot_sale_prc" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disInEqpInfo"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disInTloginInfo"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disInUsimInfo"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disOutEqpInfo"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disOutTloginInfo"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disOutUsimInfo"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbTAgrmtPrdCd">
				<Contents>
					<colinfo id="agrmt_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_prd_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commSettlCond"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commAllotPrdCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commOcbMcard">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disEqpInfo">
				<Contents>
					<colinfo id="eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_nm" size="256" summ="default" type="STRING"/>
					<record>
						<color_cd></color_cd>
						<color_nm></color_nm>
						<dis_hld_plc_id></dis_hld_plc_id>
						<dis_hld_plc_nm></dis_hld_plc_nm>
						<dis_st></dis_st>
						<dis_upd_cnt></dis_upd_cnt>
						<eqp_mdl_cd></eqp_mdl_cd>
						<eqp_mdl_nm></eqp_mdl_nm>
						<eqp_old_sale_yn></eqp_old_sale_yn>
						<eqp_ser_num></eqp_ser_num>
						<errcode></errcode>
						<errmsg></errmsg>
						<hld_plc_id></hld_plc_id>
						<hld_plc_nm></hld_plc_nm>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disTloginInfo">
				<Contents>
					<colinfo id="tlogin_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_color_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_nm" size="256" summ="default" type="STRING"/>
					<record>
						<tlogin_color_cd></tlogin_color_cd>
						<tlogin_color_nm></tlogin_color_nm>
						<dis_hld_plc_id></dis_hld_plc_id>
						<dis_hld_plc_nm></dis_hld_plc_nm>
						<dis_st></dis_st>
						<dis_upd_cnt></dis_upd_cnt>
						<tlogin_mdl_cd></tlogin_mdl_cd>
						<tlogin_mdl_nm></tlogin_mdl_nm>
						<tlogin_old_sale_yn></tlogin_old_sale_yn>
						<tlogin_ser_num></tlogin_ser_num>
						<errcode></errcode>
						<errmsg></errmsg>
						<hld_plc_id></hld_plc_id>
						<hld_plc_nm></hld_plc_nm>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disUsimInfo">
				<Contents>
					<colinfo id="usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_mdl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_old_sale_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_hld_plc_nm" size="256" summ="default" type="STRING"/>
					<record>
						<color_cd></color_cd>
						<color_nm></color_nm>
						<dis_hld_plc_id></dis_hld_plc_id>
						<dis_hld_plc_nm></dis_hld_plc_nm>
						<dis_st></dis_st>
						<dis_upd_cnt></dis_upd_cnt>
						<errcode></errcode>
						<errmsg></errmsg>
						<hld_plc_id></hld_plc_id>
						<hld_plc_nm></hld_plc_nm>
						<usim_mdl_cd></usim_mdl_cd>
						<usim_mdl_nm></usim_mdl_nm>
						<usim_old_sale_yn></usim_old_sale_yn>
						<usim_ser_num></usim_ser_num>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commIdmLmtCd">
				<Contents>
					<colinfo id="comm_cd_val" size="255" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="255" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commSupCl">
				<Contents>
					<colinfo id="comm_cd_val" size="255" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="255" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_onlinePayment">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_allot_pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_acc_trnsf_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_acc_trnsf_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_virtl_acc_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_virtl_acc_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_foi_cl1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_foi_cl2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp_nm1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_foi_cl1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp_nm2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_foi_cl2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_pay_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp1_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_foi_cl1_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp2_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_foi_cl2_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_agreementAstamt">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_add_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_excel_cust_prom_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="add_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="excel_cust_prom_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_astamt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="add_agrmt_astamt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="excel_cust_prom_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_agreementAstamtCopy">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_add_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_excel_cust_prom_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="add_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt" size="256" summ="default" type="STRING"/>
					<colinfo id="excel_cust_prom_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="agrmt_astamt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="add_agrmt_astamt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="retention_agrmt_astamt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="excel_cust_prom_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_allotSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_allotSaleCopy">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_eqp_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_usim_allot_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_allot_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cashSale">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_etc_prod_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_etc_prod_org_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_org_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_cash_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_cash_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_org_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cashSaleCopy">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_etc_prod_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_etc_prod_org_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_cash_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_org_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_cash_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_cash_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_sale_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="etc_prod_org_prc_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_promotionMoney">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_gnrl_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_supl_svc_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_sale_suprt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_add_sale_suprt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_pr_mny" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_suprt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="add_sale_suprt_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_pr_mny_old" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_pr_mny_old" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_suprt_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="add_sale_suprt_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_saleCmms">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_supl_svc_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_add_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cmms_adj" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="add_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="cmms_adj" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_sktPrprc">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="bond_prem" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_old" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_old" size="256" summ="default" type="STRING"/>
					<colinfo id="bond_prem_old" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_old" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_fee_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_sktPrprcCopy">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="bond_prem" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_fee" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="scrb_fee_old" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="tu_scrb_fee_old" size="256" summ="default" type="STRING"/>
					<colinfo id="bond_prem_old" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="mnp_cmms_old" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_cl_old" size="256" summ="default" type="STRING"/>
					<colinfo id="frg_grt_insu_fee_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disDtrUsimInfo">
				<Contents>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="act_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="out_mgmt_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="out_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="out_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="in_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="out_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bad_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_out_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disDtrEqpInfo">
				<Contents>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="act_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="out_mgmt_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="out_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="out_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="in_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="out_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bad_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_out_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_disDtrTloginInfo">
				<Contents>
					<colinfo id="errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="act_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="proc_flag" size="256" summ="default" type="STRING"/>
					<colinfo id="out_mgmt_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="out_schd_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="out_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="in_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="out_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bad_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_st" size="256" summ="default" type="STRING"/>
					<colinfo id="mov_out_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rtnDisDtr">
				<Contents>
					<colinfo id="eqp_errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="tlogin_errmsg" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_errcode" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_errmsg" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_paymentCopy">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_phone_safe_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_skt_prprc_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_skt_prprc_prxpay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_corp2" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_cash_pay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prprc_prxpay_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_pay_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="phone_safe_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrdcorp1_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt1_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrdcorp2_old" size="256" summ="default" type="STRING"/>
					<colinfo id="crdtcrd_pay_amt2_old" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_cash_pay_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="skt_prxpay_amt_old" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_uplst">
				<Contents>
					<colinfo id="exit_cash_prchs_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="exit_crdt_prchs_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="exit_strd_sale_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="fix_cash_prchs_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="fix_crdt_prchs_prc" size="256" summ="default" type="STRING"/>
					<colinfo id="fix_strd_sale_prc" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_generalSuplIfList">
				<Contents>
					<colinfo id="op_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="op_tm" size="256" summ="default" type="STRING"/>
					<colinfo id="seq" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="ps_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="idm_lmt_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ends_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="pr_mny_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_sta_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_end_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="status_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="rgst_cl" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_suplservice">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="supl_svc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="st_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_sta_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_end_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="idm_lmt_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="ends_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="pr_mny_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_cmms_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="rgst_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="status_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="chk" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbExchgRsnCd">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_oldSaleInfo">
				<Contents>
					<colinfo id="old_rtn_yn" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_usimOldSaleBackup">
				<Contents>
					<colinfo id="status" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="usim_allot_cl_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbScrbFeeCl">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbMnpCmmsCl">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmbFrgGrtInsuCl">
				<Contents>
					<colinfo id="pay_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="pay_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="aply_amt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_bfOrgSaleProdInfo">
				<Contents>
					<colinfo id="bf_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_eqp_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_usim_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="af_gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="af_gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="af_eqp_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="af_eqp_mdl_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="af_usim_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="af_usim_mdl_cd" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_onlineCmms">
				<Contents>
					<colinfo id="gnrl_sale_no" size="256" summ="default" type="STRING"/>
					<colinfo id="gnrl_sale_chg_seq" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cash_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_allot_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_settl_crdtcrd_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_cmms_adj" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_acc_trnsf_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="bf_virtl_acc_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="online_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="online_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="online_stl_plc" size="256" summ="default" type="STRING"/>
					<colinfo id="online_stl_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_sale_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="settl_crdtcrd_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="cmms_adj" size="256" summ="default" type="STRING"/>
					<colinfo id="cmms_rpay" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_cmms" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="cash_sale_cmms_old" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_sale_cmms_old" size="256" summ="default" type="STRING"/>
					<colinfo id="settl_crdtcrd_cmms_old" size="256" summ="default" type="STRING"/>
					<colinfo id="cmms_adj_old" size="256" summ="default" type="STRING"/>
					<colinfo id="cmms_rpay_old" size="256" summ="default" type="STRING"/>
					<colinfo id="acc_trnsf_cmms_old" size="256" summ="default" type="STRING"/>
					<colinfo id="virtl_acc_cmms_old" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_user_id" size="256" summ="default" type="STRING"/>
					<colinfo id="ins_dtm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_eqpOldSaleBackup">
				<Contents>
					<colinfo id="status" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_settl_cond" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_settl_cond_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="allot_prd_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_commUsimAllotCl">
				<Contents>
					<colinfo id="comm_cd_val" size="256" summ="default" type="STRING"/>
					<colinfo id="comm_cd_val_nm" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Image Align="Left" Height="25" Id="Image9" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="13" Text="단말기&#32;정보" Top="202" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image0" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="1" Text="판매정보" Top="303" Width="192"></Image>
		<Div Border="Raised" Height="86" Id="div_rmks" Left="766" Style="sty_div_input" TabOrder="2" Text="Div0" Top="473" Width="247">
			<Contents>
				<TextArea BindDataset="ds_generalSale" Border="Flat" Column="rmks" Height="70" Id="txa_rmks" Left="8" Style="sty_ipt_form" TabOrder="18" Text="TextArea0" Top="5" VScroll="TRUE" Width="224"></TextArea>
			</Contents>
		</Div>
		<Button ButtonStyle="TRUE" Cursor="HAND" Height="21" Id="btn_supservice" ImageID="btn_b_2" Left="706" OnClick="btn_supservice_OnClick" Style="sty_btn_b" TabOrder="15" Text="등록" Top="448" Width="50"></Button>
		<Image Align="Left" Height="25" Id="Image5" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="3" Text="부가서비스" Top="448" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image6" ImageID="bul_tit" Left="768" LeftMargin="15" Style="sty_img_tit" TabOrder="4" Text="비고" Top="448" Width="192"></Image>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_save" ImageID="btn_c_2" Left="888" LeftMargin="5" OnClick="btn_save_OnClick" Style="sty_btn_c" TabOrder="19" Text="저장" Top="565" Visible="FALSE" Width="60"></Button>
		<Div Border="Raised" Height="40" Id="div_prodExchange" Left="10" Style="sty_div_input" TabOrder="5" Text="Div0" Top="10" Width="1004">
			<Contents>
				<Static Align="Right" Height="20" Id="Static8" Left="-3" Style="sty_lb_Basic" TabOrder="8" Text="변경구분" Top="7" VAlign="Middle" Width="68"></Static>
				<Combo BindDataset="ds_generalSale" Border="Flat" CodeColumn="comm_cd_val" Column="sale_chg_hst_cl" DataColumn="comm_cd_val_nm" Height="20" Id="cmb_saleChgHstCl" InnerDataset="ds_cmbSaleChgHstCl" Left="68" OnChanged="div_prodExchange_cmb_saleChgHstCl_OnChanged" OnCloseUp="div_prodExchange_cmb_saleChgHstCl_OnCloseUp" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" Style="sty_ipt_form" TabOrder="1" Top="6" Width="146"></Combo>
				<Combo BindDataset="ds_generalSale" Border="Flat" CodeColumn="user_id" Column="sale_mod_user_id" DataColumn="user_nm" Height="20" Id="cmb_saleChgUserId" InnerDataset="ds_cmbSaleChgChgrgId" Left="907" Style="sty_ipt_form" TabOrder="7" Top="6" Width="82"></Combo>
				<Static Align="Right" Height="20" Id="Static9" Left="250" Style="sty_lb_Basic" TabOrder="9" Text="변경일시" Top="7" VAlign="Middle" Width="60"></Static>
				<Static Align="Right" Height="20" Id="Static10" Left="837" Style="sty_lb_Basic" TabOrder="10" Text="변경담당자" Top="7" VAlign="Middle" Width="68"></Static>
				<Edit Border="Flat" Height="20" Id="edt_saleChgDtmHh" ImeMode="none" Left="406" LeftMargin="2" MaxLength="2" Number="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="7" Width="33"></Edit>
				<Edit Border="Flat" Height="20" Id="edt_saleChgDtmMm" ImeMode="none" Left="440" LeftMargin="2" MaxLength="2" Number="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Width="33"></Edit>
				<Calendar BindDataset="ds_generalSale" Border="Flat" ButtonImageID="btn_i_calendar" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_saleChgDtm" Left="315" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="2" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="90"></Calendar>
				<Static Align="Right" Height="20" Id="Static1" Left="488" Style="sty_lb_Basic" TabOrder="13" Text="변경처" Top="6" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="sale_chg_plc_nm" Height="20" Id="edt_saleChgPlcNm" Left="551" LeftMargin="2" OnKeyDown="div_prodExchange_edt_saleChgPlcNm_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="6" Width="92"></Edit>
				<Button Height="21" Id="btn_salePlc" ImageID="btn_i_detail" Left="666" OnClick="div_general_btn_salePlc_OnClick" OnKeyDown="div_general_btn_salePlc_OnKeyDown" TabOrder="11" Text="Button0" Top="6" Width="19"></Button>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_saleChgPlcUkeyCd" Left="661" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="12" Top="6" Width="46"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_saleChgPlcSubCd" Left="708" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="14" Top="6" Width="31"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_saleChgPlcChannelCd" Left="740" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="15" Top="6" Width="68"></Edit>
				<Button Height="21" Id="btn_saleChgPlc" ImageID="btn_i_detail" Left="642" OnClick="div_prodExchange_btn_saleChgPlc_OnClick" TabOrder="6" Text="Button0" Top="6" Width="19"></Button>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="sale_chg_plc" Height="20" Id="edt_saleChgPlc" Left="812" LeftMargin="2" OnKeyDown="div_general_edt_salePlc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="16" Top="4" Visible="FALSE" Width="15"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="63" Id="div_eqpInfo" Left="10" Style="sty_div_input" TabOrder="16" Text="Div0" Top="230" Width="366">
			<Contents>
				<Static Align="Right" Height="20" Id="Static1" Left="-26" Style="sty_lb_Basic" TabOrder="1" Text="일련번호" Top="7" VAlign="Middle" Width="92"></Static>
				<Edit BindDataset="ds_equipmentSale" Border="Flat" Column="eqp_mdl_nm" Enable="FALSE" Height="20" Id="edt_eqpMdlCd" Left="145" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="2" Text="홍길동" Top="7" Width="76"></Edit>
				<Edit BindDataset="ds_equipmentSale" Border="Flat" Column="hld_plc_nm" Enable="FALSE" Height="20" Id="edt_eqpHldPlcNm" Left="222" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Text="홍길동" Top="7" Width="135"></Edit>
				<Edit BindDataset="ds_equipmentSale" Border="Flat" Column="eqp_ser_num" Enable="FALSE" Height="20" Id="edt_eqpSerNum" Left="71" LeftMargin="2" MaxLength="30" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="7" Width="73"></Edit>
				<Checkbox BindDataset="ds_equipmentSale" Column="eqp_old_sale_yn" FalseValue="N" Height="20" Id="chk_eqpOldSaleYn" Left="268" LeftMargin="5" Style="sty_opt_input" TabOrder="3" Text="중고판매" Top="31" TrueValue="Y" Width="86"></Checkbox>
				<Static Align="Right" Height="20" Id="Static8" Left="-26" Style="sty_lb_Basic" TabOrder="6" Text="결제조건" Top="30" VAlign="Middle" Width="92"></Static>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_settlCondNm" Left="71" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="30" Width="73"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="allot_prd_nm" Enable="FALSE" Height="20" Id="edt_allotPrdNm" Left="145" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="30" Width="73"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="63" Id="div_usimInfo" Left="383" Style="sty_div_input" TabOrder="17" Text="Div0" Top="230" Width="371">
			<Contents>
				<MaskEdit Border="Flat" Enable="FALSE" Height="20" Id="msk_usimSalePrc" Left="145" LeftMargin="2" Mask="#,###,###,###" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="30" Value="0" Width="65"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static3" Left="-1" Style="sty_lb_Basic" TabOrder="1" Text="일련번호" Top="7" VAlign="Middle" Width="68"></Static>
				<Checkbox BindDataset="ds_usimSale" Column="usim_old_sale_yn" FalseValue="N" Height="20" Id="chk_UsimOldSaleYn" Left="270" LeftMargin="5" Style="sty_opt_input" TabOrder="2" Text="중고판매" Top="31" TrueValue="Y" Width="86"></Checkbox>
				<Static Align="Right" Height="20" Id="Static5" Left="-25" Style="sty_lb_Basic" TabOrder="3" Text="결제조건" Top="30" VAlign="Middle" Width="92"></Static>
				<Edit BindDataset="ds_usimSale" Border="Flat" Column="usim_mdl_nm" Enable="FALSE" Height="20" Id="edt_usimMdlCd" Left="145" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Text="홍길동" Top="7" Width="76"></Edit>
				<Edit BindDataset="ds_usimSale" Border="Flat" Column="usim_ser_num" Enable="FALSE" Height="20" Id="edt_usimSerNum" Left="71" LeftMargin="2" MaxLength="30" OnKeyDown="div_usimInfo_edt_usimSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="7" Width="73"></Edit>
				<Edit BindDataset="ds_usimSale" Border="Flat" Column="hld_plc_nm" Enable="FALSE" Height="20" Id="edt_usimHldPlcNm" Left="222" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="7" Width="135"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="usim_allot_cl_nm" Enable="FALSE" Height="20" Id="edt_usimAllotClNm" Left="71" LeftMargin="2" MaxLength="8" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="30" Width="73"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="63" Id="div_tloginInfo" Left="766" Style="sty_div_input" TabOrder="13" Text="Div0" Top="230" Width="248">
			<Contents>
				<Static Align="Right" Height="20" Id="Static3" Left="-1" Style="sty_lb_Basic" TabOrder="1" Text="일련번호" Top="7" VAlign="Middle" Width="68"></Static>
				<Checkbox Enable="FALSE" FalseValue="N" Height="20" Id="chk_tloginOldSaleYn" Left="153" LeftMargin="5" Style="sty_opt_input" TabOrder="2" Text="중고판매" Top="31" TrueValue="Y" Value="FALSE" Width="82"></Checkbox>
				<Edit BindDataset="ds_tloginSale" Border="Flat" Column="tlogin_mdl_nm" Enable="FALSE" Height="20" Id="edt_tloginMdlCd" Left="153" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="7" Width="82"></Edit>
				<Edit BindDataset="ds_tloginSale" Border="Flat" Column="tlogin_ser_num" Enable="FALSE" Height="20" Id="edt_tloginSerNum" Left="71" LeftMargin="2" MaxLength="30" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Width="81"></Edit>
				<Edit BindDataset="ds_tloginSale" Border="Flat" Column="hld_plc_nm" Enable="FALSE" Height="20" Id="edt_tloginHldPlcNm" Left="17" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="31" Width="135"></Edit>
			</Contents>
		</Div>
		<Image Align="Left" Height="25" Id="Image7" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="7" Text="거래처정보" Top="60" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image8" ImageID="bul_tit" Left="693" LeftMargin="15" Style="sty_img_tit" TabOrder="8" Text="고객정보" Top="59" Width="192"></Image>
		<Div Border="Raised" Height="110" Id="div_dealCoInfo" Left="10" Style="sty_div_input" TabOrder="9" Text="Div0" Top="82" Width="673">
			<Contents>
				<Calendar BindDataset="ds_generalSale" Border="Flat" ButtonImageID="btn_i_calendar" DayFont="Default,-1" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_saleDtm" Left="87" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" OnKillFocus="div_dealCoInfo_cal_saleDtm_OnKillFocus" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="6" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="109"></Calendar>
				<Static Align="Right" Height="20" Id="Static6" Left="24" Style="sty_lb_Basic" TabOrder="1" Text="판매일시" Top="9" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="sale_plc_nm" Enable="FALSE" Height="20" Id="edt_salePlcNm" Left="87" LeftMargin="2" OnKeyDown="div_dealCoInfo_edt_salePlc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="10" Top="30" Width="92"></Edit>
				<Button Enable="FALSE" Height="21" Id="btn_salePlc" ImageID="btn_i_detail" Left="178" OnClick="div_dealCoInfo_btn_salePlc_OnClick" TabOrder="12" Text="Button0" Top="30" Width="19"></Button>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcUkeyCd" Left="197" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="2" Top="30" Width="46"></Edit>
				<Static Align="Right" Height="20" Id="Static1" Left="24" Style="sty_lb_Basic" TabOrder="3" Text="판매처" Top="30" VAlign="Middle" Width="60"></Static>
				<Static Align="Right" Height="20" Id="Static2" Left="-1" Style="sty_lb_Basic" TabOrder="4" Text="판매담당" Top="53" VAlign="Middle" Width="84"></Static>
				<Calendar BindDataset="ds_generalSale" Border="Flat" ButtonImageID="btn_i_calendar" DayFont="Default,-1" Enable="FALSE" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="cal_svcDtm" Left="400" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="5" TodayColor="user26" Top="7" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="109"></Calendar>
				<Static Align="Right" Height="20" Id="Static5" Left="337" Style="sty_lb_Basic" TabOrder="9" Text="개통일시" Top="7" VAlign="Middle" Width="60"></Static>
				<Static Align="Right" Height="20" Id="Static7" Left="337" Style="sty_lb_Basic" TabOrder="11" Text="개통담당" Top="53" VAlign="Middle" Width="60"></Static>
				<Edit Align="CENTER" Border="Flat" Height="20" Id="edt_saleDtmHh" ImeMode="none" Left="197" LeftMargin="2" MaxLength="2" Number="TRUE" OnChanged="div_dealCoInfo_edt_saleDtmHh_OnChanged" OnKillFocus="div_dealCoInfo_edt_saleDtmHh_OnKillFocus" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="7" Width="38"></Edit>
				<Edit Align="CENTER" Border="Flat" Height="20" Id="edt_saleDtmMm" ImeMode="none" Left="236" LeftMargin="2" MaxLength="2" Number="TRUE" OnChanged="div_dealCoInfo_edt_saleDtmMm_OnChanged" OnKillFocus="div_dealCoInfo_edt_saleDtmMm_OnKillFocus" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="7" Width="39"></Edit>
				<Edit Align="CENTER" Border="Flat" Enable="FALSE" Height="20" Id="edt_svcDtmHh" ImeMode="none" Left="510" LeftMargin="2" MaxLength="2" Number="TRUE" OnChanged="div_general_edt_svcDtmHh_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="14" Top="7" Width="38"></Edit>
				<Edit Align="CENTER" Border="Flat" Enable="FALSE" Height="20" Id="edt_svcDtmMm" ImeMode="none" Left="549" LeftMargin="2" MaxLength="2" Number="TRUE" OnChanged="div_general_edt_svcDtmMm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="15" Top="7" Width="39"></Edit>
				<Static Align="Right" Height="20" Id="Static0" Left="337" Style="sty_lb_Basic" TabOrder="19" Text="개통처" Top="30" VAlign="Middle" Width="60"></Static>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="svc_plc_nm" Enable="FALSE" Height="20" Id="edt_svcPlcNm" Left="400" LeftMargin="2" OnKeyDown="div_dealCoInfo_edt_svcPlc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="16" Top="30" Width="109"></Edit>
				<Button Enable="FALSE" Height="21" Id="btn_svcPlc" ImageID="btn_i_detail" Left="491" OnClick="div_dealCoInfo_btn_svcPlc_OnClick" TabOrder="17" Text="Button0" Top="30" Width="19"></Button>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_svcPlcUkeyCd" Left="510" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="18" Top="30" Width="46"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcSubCd" Left="244" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="20" Top="30" Width="31"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_salePlcChannelCd" Left="276" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="21" Top="30" Width="68"></Edit>
				<Static Align="Right" Height="20" Id="Static4" Left="329" Style="sty_lb_Basic" TabOrder="22" Text="처리자" Top="76" VAlign="Middle" Width="68"></Static>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_svcPlcSubCd" Left="557" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="23" Top="30" Width="31"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_svcPlcChannelCd" Left="589" LeftMargin="2" OnChanged="div_general_edt_salePlcNm_OnChanged" RightMargin="2" Style="sty_ipt_form" TabOrder="24" Top="30" Width="68"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="sale_plc" Height="20" Id="edt_salePlc" Left="284" LeftMargin="2" OnKeyDown="div_general_edt_salePlc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="25" Top="52" Visible="FALSE" Width="57"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="svc_plc" Height="20" Id="edt_svcPlc" Left="640" LeftMargin="2" OnKeyDown="div_general_edt_svcPlc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="26" Top="53" Visible="FALSE" Width="16"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_stlPlc" Left="120" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="27" Top="76" Visible="FALSE" Width="48"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_stlPlcNm" Left="169" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="28" Top="76" Visible="FALSE" Width="110"></Edit>
				<Combo BindDataset="ds_generalSale" Border="Flat" CodeColumn="user_id" Column="sale_chgrg_id" DataColumn="user_nm" Height="20" Id="cmb_saleChgrgId" InnerDataset="ds_cmbSaleChgrgId" Left="86" Style="sty_ipt_form" TabOrder="13" Top="52" Width="111"></Combo>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="svc_chgrg_nm" Enable="FALSE" Height="20" Id="edt_svcChgrgNm" Left="400" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="31" Top="53" Width="110"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="ins_user_nm" Enable="FALSE" Height="20" Id="edt_insUserNm" Left="400" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="29" Top="76" Width="110"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="ins_user_id" Height="20" Id="edt_insUserId" Left="512" LeftMargin="2" OnKeyDown="div_general_edt_svcPlc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="30" Top="76" Visible="FALSE" Width="16"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="dis_hld_plc" Enable="FALSE" Height="20" Id="edt_disHldPlc" Left="62" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="32" Top="76" Visible="FALSE" Width="48"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="pos_agency" Enable="FALSE" Height="20" Id="edt_posAgencyCd" Left="6" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="33" Top="76" Visible="FALSE" Width="48"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="111" Id="div_custInfo" Left="693" Style="sty_div_input" TabOrder="10" Text="Div0" Top="82" Width="321">
			<Contents>
				<Static Align="Right" Height="20" Id="Static4" Left="121" Style="sty_lb_Basic" TabOrder="1" Text="서비스관리번호" Top="53" VAlign="Middle" Width="92"></Static>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="svc_mgmt_num" Enable="FALSE" Height="20" Id="edt_svcMgmtNum" Left="217" LeftMargin="2" MaxLength="10" RightMargin="2" Style="sty_ipt_form" TabOrder="2" Top="53" Width="92"></Edit>
				<Static Align="Right" Height="20" Id="Static1" Left="-7" Style="sty_lb_Basic" TabOrder="3" Text="고객명" Top="7" VAlign="Middle" Width="68"></Static>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="cust_nm_view" Enable="FALSE" Height="20" Id="edt_custNm" Left="65" LeftMargin="2" MaxLength="10" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Width="73"></Edit>
				<Static Align="Right" Height="20" Id="Static2" Left="153" Style="sty_lb_Basic" TabOrder="5" Text="주민번호" Top="30" VAlign="Middle" Width="60"></Static>
				<Static Align="Right" Height="20" Id="Static3" Left="153" Style="sty_lb_Basic" TabOrder="6" Text="개통번호" Top="7" VAlign="Middle" Width="60"></Static>
				<Static Align="Right" Height="20" Id="Static0" Left="-7" Style="sty_lb_Basic" TabOrder="7" Text="고객구분" Top="30" VAlign="Middle" Width="68"></Static>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="svc_num_view" Enable="FALSE" Height="20" Id="edt_svcNum" Left="217" LeftMargin="2" MaxLength="14" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="7" Width="92"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="cust_biz_num_view" Enable="FALSE" Height="20" Id="edt_custBizNum" Left="217" LeftMargin="2" MaxLength="13" RightMargin="2" Style="sty_ipt_form" TabOrder="9" Top="30" Width="92"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="cust_cl_nm" Enable="FALSE" Height="20" Id="edt_custClNm" Left="65" LeftMargin="2" MaxLength="10" RightMargin="2" Style="sty_ipt_form" TabOrder="10" Top="30" Width="73"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="110" Id="div_sktPrprc" Left="766" Style="sty_div_input" TabOrder="11" Text="Div0" Top="328" Width="248">
			<Contents>
				<Static Align="Right" Height="20" Id="Static1" Left="9" Style="sty_lb_dataview" TabOrder="1" Text="가입비" Top="7" VAlign="Middle" Width="84"></Static>
				<Static Align="Right" Height="20" Id="Static0" Left="9" Style="sty_lb_dataview" TabOrder="2" Text="보증보험료" Top="53" VAlign="Middle" Visible="FALSE" Width="84"></Static>
				<Static Align="Right" Height="20" Id="Static5" Left="9" Style="sty_lb_dataview" TabOrder="3" Text="MNP수수료" Top="30" VAlign="Middle" Width="84"></Static>
				<MaskEdit BindDataset="ds_sktPrprc" Border="Flat" Column="scrb_fee" Enable="FALSE" Height="20" Id="msk_scrbFee" Left="160" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="7" Value="0" Width="74"></MaskEdit>
				<MaskEdit BindDataset="ds_sktPrprc" Border="Flat" Column="frg_grt_insu_fee" Enable="FALSE" Height="20" Id="msk_frgGrtInsuFee" Left="160" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="53" Value="0" Visible="FALSE" Width="74"></MaskEdit>
				<MaskEdit BindDataset="ds_sktPrprc" Border="Flat" Column="mnp_cmms" Enable="FALSE" Height="20" Id="msk_mnpCmms" Left="160" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="30" Value="0" Width="74"></MaskEdit>
				<MaskEdit Border="Flat" Enable="FALSE" Height="20" Id="msk_sktTotSaleAmt" Left="160" LeftMargin="2" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="76" Value="0" Visible="FALSE" Width="74"></MaskEdit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_frgGrtInsuClNm" Left="96" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="53" Visible="FALSE" Width="63"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_scrbFeeClNm" Left="96" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="9" Top="7" Width="63"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_mnpCmmsClNm" Left="96" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="10" Top="30" Width="63"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="110" Id="div_saleInfo" Left="10" Style="sty_div_input" TabOrder="12" Text="Div0" Top="328" Width="524">
			<Contents>
				<Static Align="Right" Height="20" Id="Static7" Left="-26" Style="sty_lb_Basic" TabOrder="4" Text="유통망" Top="53" VAlign="Middle" Width="92"></Static>
				<Static Align="Right" Height="20" Id="Static0" Left="213" Style="sty_lb_Basic" TabOrder="5" Text="약정기간" Top="7" VAlign="Middle" Width="92"></Static>
				<Combo BindDataset="ds_generalSale" Border="Flat" CodeColumn="comm_cd_val" Column="sale_dtl_typ" DataColumn="comm_cd_val_nm" Enable="FALSE" Height="20" Id="cmb_saleDtlTyp" InnerDataset="ds_commSaleDtlTyp" Left="69" OnChanged="div_saleInfo_cmb_saleDtlTyp_OnChanged" Style="sty_ipt_form" TabOrder="15" Text="Combo0" Top="29" Width="151"></Combo>
				<Static Align="Right" Height="20" Id="Static1" Left="-26" Style="sty_lb_Basic" TabOrder="1" Text="판매유형" Top="30" VAlign="Middle" Width="92"></Static>
				<Static Align="Right" Height="20" Id="Static2" Left="213" Style="sty_lb_Basic" TabOrder="2" Text="추가지원금" Top="53" VAlign="Middle" Width="92"></Static>
				<Button Height="21" Id="btn_oldRtn" ImageID="btn_i_detail" Left="201" OnClick="div_saleInfo_btn_saleDtlTyp_OnClick" TabOrder="3" Text="Button0" Top="76" Width="19"></Button>
				<Static Align="Right" Height="20" Id="Static9" Left="213" Style="sty_lb_Basic" TabOrder="7" Text="OCB/M카드" Top="76" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_ocbMcard" Border="Flat" Column="ocb_mcard_prc" Enable="FALSE" Height="20" Id="msk_ocbMcardPrc" Left="428" LeftMargin="2" NullValue="0" OnChanged="div_saleInfo_msk_ocbMcardPrc_OnChanged" OnKeyDown="div_saleInfo_msk_ocbMcardPrc_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="76" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static3" Left="-26" Style="sty_lb_Basic" TabOrder="9" Text="중고반납" Top="76" VAlign="Middle" Width="92"></Static>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_oldRtnTypNm" Left="70" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="76" Width="132"></Edit>
				<MaskEdit BindDataset="ds_agreementAstamt" Border="Flat" Column="add_agrmt_astamt" Enable="FALSE" Height="20" Id="msk_addSuptCdAmt" Left="428" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="10" Top="53" Value="0" Width="81"></MaskEdit>
				<MaskEdit BindDataset="ds_agreementAstamt" Border="Flat" Column="agrmt_astamt" Enable="FALSE" Height="20" Id="msk_agrmtPrdCdAmt" Left="428" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="11" Top="7" Value="0" Width="81"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static8" Left="-26" Style="sty_lb_Basic" TabOrder="12" Text="영업망" Top="6" VAlign="Middle" Width="92"></Static>
				<Combo BindDataset="ds_generalSale" Border="Flat" Column="sl_net_cd" Enable="FALSE" Height="20" Id="cmb_slNetCd" Left="69" OnChanged="div_saleInfo_cmb_slNetCd_OnChanged" Style="sty_ipt_form" TabOrder="13" Top="6" Width="151"></Combo>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_dsNetNm" Left="70" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="14" Top="53" Width="149"></Edit>
				<Edit Border="Flat" Enable="FALSE" Height="20" Id="edt_agrmtPrdNm" Left="309" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="16" Top="7" Width="118"></Edit>
				<Edit BindDataset="ds_generalSale" Border="Flat" Column="add_suprt_cd" Enable="FALSE" Height="20" Id="edt_addSuptNm" Left="309" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="17" Top="53" Width="118"></Edit>
				<Edit BindDataset="ds_ocbMcard" Border="Flat" Enable="FALSE" Height="20" Id="edt_ocbMcard" Left="309" LeftMargin="2" MaxLength="7" OnKeyDown="div_eqpInfo_edt_eqpSerNum_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="18" Top="76" Width="118"></Edit>
				<Static Align="Right" Height="20" Id="Static4" Left="213" Style="sty_lb_Basic" TabOrder="19" Text="대리점밴드2" Top="30" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_agreementAstamt" Border="Flat" Column="retention_agrmt_astamt" Enable="FALSE" Height="20" Id="msk_rtn_agrmtastamt" Left="428" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="20" Top="30" Value="0" Width="81"></MaskEdit>
			</Contents>
		</Div>
		<Image Align="Left" Height="25" Id="Image10" ImageID="bul_tit" Left="383" LeftMargin="15" Style="sty_img_tit" TabOrder="14" Text="USIM&#32;정보" Top="202" Width="192"></Image>
		<Div Border="Raised" Height="110" Id="div_prcInfo" Left="544" Style="sty_div_input" TabOrder="18" Text="Div0" Top="328" Width="212">
			<Contents>
				<Static Align="Right" Height="20" Id="Static12" Left="6" Style="sty_lb_Basic" TabOrder="2" Text="할부판매가" Top="7" VAlign="Middle" Width="92"></Static>
				<MaskEdit BindDataset="ds_allotSale" Border="Flat" Column="eqp_allot_sale_prc" Enable="FALSE" Height="20" Id="msk_eqpAllotSalePrc" Left="102" LeftMargin="2" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="1" Top="7" Value="0" Width="97"></MaskEdit>
				<MaskEdit BindDataset="ds_cashSale" Border="Flat" Column="eqp_cash_sale_prc" Enable="FALSE" Height="20" Id="msk_eqpCashSalePrc" Left="102" LeftMargin="2" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="3" Top="30" Value="0" Width="97"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static15" Left="6" Style="sty_lb_Basic" TabOrder="4" Text="현금판매가" Top="30" VAlign="Middle" Width="92"></Static>
			</Contents>
		</Div>
		<Image Align="Left" Height="25" Id="Image1" ImageID="bul_tit" Left="766" LeftMargin="15" Style="sty_img_tit" TabOrder="21" Text="SKT&#32;예수금" Top="303" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image11" ImageID="bul_tit" Left="544" LeftMargin="15" Style="sty_img_tit" TabOrder="22" Text="판매가정보" Top="303" Width="192"></Image>
		<Image Align="Left" Height="25" Id="Image12" ImageID="bul_tit" Left="10" LeftMargin="15" Style="sty_img_tit" TabOrder="20" Text="판매정보" Top="303" Width="192"></Image>
		<Grid AutoFit="TRUE" BindDataset="ds_suplservice" BkColor2="user32" BoldHead="true" Border="Flat" Bottom="558" Enable="true" EndLineColor="default" FillArea="TRUE" FillAreaType="Control" HeadBorder="Flat" HeadHeight="22" Height="86" Id="grd_suplservice" InputPanel="FALSE" Left="8" LineColor="user33" MinWidth="100" Right="754" RowHeight="21" Style="sty_Grid" TabOrder="16" TabStop="true" Top="472" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="user33" WheelScrollRow="1" Width="746">
			<contents>
				<format id="Default">
					<columns>
						<col width="34"/>
						<col width="83"/>
						<col width="113"/>
						<col width="66"/>
						<col width="80"/>
						<col width="71"/>
						<col width="78"/>
					</columns>
					<head>
						<cell bkcolor="user34" col="0" color="user35" display="text" text="번호"/>
						<cell bkcolor="user34" col="1" color="user35" display="text" text="상품구분"/>
						<cell bkcolor="user34" col="2" color="user35" display="text" text="부가상품"/>
						<cell bkcolor="user34" col="3" color="user35" display="text" text="유치기한"/>
						<cell bkcolor="user34" col="4" color="user35" display="text" text="가입일"/>
						<cell bkcolor="user34" col="5" color="user35" display="text" text="가입해지일"/>
						<cell bkcolor="user34" col="6" color="user35" display="text" text="장려금"/>
					</head>
					<body>
						<cell align="center" col="0" display="text" expr="Row+1"/>
						<cell col="1" colid="prod_cl" combocol="comm_cd_val" combodataset="ds_commSupCl" combotext="comm_cd_val_nm" display="combo"/>
						<cell col="2" colid="supl_svc_nm" display="text"/>
						<cell col="3" colid="idm_lmt_cd" combocol="comm_cd_val" combodataset="ds_commIdmLmtCd" combotext="comm_cd_val_nm" display="combo"/>
						<cell col="4" colid="svc_sta_dt" display="date"/>
						<cell col="5" colid="svc_end_dt" display="date"/>
						<cell col="6" colid="pr_mny_yn" display="checkbox" expr="decode(pr_mny_yn,&apos;Y&apos;,&apos;1&apos;,&apos;1&apos;,&apos;1&apos;,&apos;0&apos;)"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_saleHist" ImageID="btn_e_2" Left="74" LeftMargin="15" OnClick="btn_saleHist_OnClick" Style="sty_btn_e" TabOrder="23" Text="이력" Top="565" Width="60"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_payment" ImageID="btn_e_2" Left="10" LeftMargin="15" OnClick="btn_payment_OnClick" Style="sty_btn_e" TabOrder="24" Text="수납" Top="565" Width="60"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_disDtr" ImageID="btn_e_6" Left="138" LeftMargin="15" OnClick="btn_disDtr_OnClick" Style="sty_btn_e" TabOrder="25" Text="재고조정이동" Top="565" Width="110"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_prodExchg" ImageID="btn_e_4" Left="252" LeftMargin="15" OnClick="btn_prodExchg_OnClick" Style="sty_btn_e" TabOrder="26" Text="불량사유" Top="565" Width="84"></Button>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="25" Id="btn_close" ImageID="btn_d_2" Left="952" LeftMargin="5" OnClick="btn_close_OnClick" Style="sty_btn_d" TabOrder="27" Text="닫기" Top="565" Width="60"></Button>
		<Image Align="Left" Height="25" Id="Image16" ImageID="bul_tit" Left="768" LeftMargin="15" Style="sty_img_tit" TabOrder="27" Text="TLOGIN&#32;정보" Top="205" Width="192"></Image>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* 프로그램ID : SALMGS01000
* 업무명      : 판매변경 - M채널
* 프로그램명  :
--------------------------------------------------------------------------------
* 작성자      : 이영진
* 작성일      : 2010.12.03
--------------------------------------------------------------------------------
* 1. 변경이력
수정자    :
수정일    :
수정 내역 :
*******************************************************************************/

//==============================================================================
// 공통 스크립트 로딩
//==============================================================================
#include "lib::lib_commF.js"
#include "lib::lib_commPopup.js"
#include "lib::lib_commMsg.js"
#include "lib::lib_SAL.js"

//==============================================================================
// 폼 변수 정의
//==============================================================================
//Ukey 관련 변수
var FV_IF_PROC_CL;         //처리구분   1:Ukey if     2:PS   3 : DUMMY   4 : 판매처변경    5 : 가입비분납전환   6: 약정변경
var FV_OP_DT;              //처리일자
var FV_OP_TM;              //처리시각
var FV_SEQ;                //순번
var FV_SVC_MGMT_NUM;       //서비스관리번호
var FV_PROD_CL;            //상품구분   1:단말기 , 2: USIM
var FV_MDL_CD;             //모델코드
var FV_SER_NUM;            //일련번호

var FV_GNRL_SALE_NO;       //일반판매번호
var FV_GNRL_SALE_CHG_SEQ;  //일반판매변경순번

//session 관련 변수
var FV_LOGIN_USER_ID;      //로그인 유저 아이디
var FV_LOGIN_USER_NM;      //로그인 유저 명
var FV_LOGIN_DUTY;         //권한구분

//local 처리 관련 변수
var FV_SL_CL;                //영업망코드 - 소매
var FV_GET_SPLST_MDL_YN;     //모델별 판매가격표 조회 여부
var FV_DIS_FIRST_SEARCH_YN;  //재고-단말기 상태 조회 구분  onload : 01 , 판매처,판매일자 : 02
var FV_SALE_NO_SL_NET_CD;    //판매번호 채번을 위한 유통망 구분
var FV_SALE_NO_SALE_CL;      //판매번호 채번을 위한 판매구분

var FV_DIS_EQP_ERR_STATUS;   //단말기오류상태 ( 0:정상, 1:오류)
var FV_DIS_TLOGIN_ERR_STATUS;//TLOGIN단말기오류상태 ( 0:정상, 1:오류)
var FV_DIS_USIM_ERR_STATUS;  //USIM  오류상태 ( 0:정상, 1:오류)

var FV_EQP_ERR_CODE;         //단말기 오류 코드
var FV_TLOGIN_ERR_CODE;      //TLOGIN단말기 오류 코드
var FV_USIM_ERR_CODE;        //USIM 오류 코드
var FV_EQP_ERR_MSG;          //단말기 오류 메세지
var FV_TLOGIN_ERR_MSG;       //TLOGIN단말기 오류 메세지
var FV_USIM_ERR_MSG;         //USIM 오류 메세지

var FV_EQP_POL_ERR_CODE;     //단말기 정책 오류코드
var FV_EQP_POL_ERR_MSG;      //단말기 정책 오류메세지
var FV_TLOGIN_POL_ERR_CODE;  //TLOGIN단말기 정책 오류코드
var FV_TLOGIN_POL_ERR_MSG;   //TLOGIN단말기 정책 오류메세지
var FV_USIM_POL_ERR_CODE;    //USIM 정책 오류코드
var FV_USIM_POL_ERR_MSG;     //USIM 정책 오류메세지

var FV_DIFF_EQP_CHG_YN;      //타기종교환여부
var FV_EQP_CHG_YN;           //단말기교환여부
var FV_TLOGIN_CHG_YN;        //TLOGIN단말기교환여부
var FV_USIM_CHG_YN;          //USIM교환여부

var FV_SAVE_BTN = "0";
var FV_ENABLE_SAVE_BTN = "";    //20090909

var FV_DIS_FLAG  = "";        //재고 조회 여부
var FV_USIM_FLAG = "";

var FV_OLD_RTN_YN;
var FV_DIS_ERR_YN;            // 단말기/USIM 재고 조회시 ERROR 상태
var FV_POL_ERR_YN;            // 판매가격 조회시 ERROR 상태

var FV_PROC_DTM;              //처리일시

var i = -1;

/*******************************************************************************
 * @description    : 최초 폼 로드시 발생 - 이벤트
*******************************************************************************/
function SALMGS01000_OnLoadCompleted(obj)
{
	cf_setAuth(pFrmNum);	// 권한 공통

    lf_formVarInit();      //로컬변수 초기화
	lf_combomInit();
	//lf_formInit();       //Data 조회 값으로 초기화 해야함.
	lf_getSaleInfo();
}

/*******************************************************************************
 * @description         : 로컬 변수 초기화 초기화
*******************************************************************************/
function lf_formVarInit()
{
    //Ukey 관련 변수
    FV_IF_PROC_CL = p_if_proc_cl;                //처리구분  1:UkeyIf , 2:ps

    if ( FV_IF_PROC_CL == "1" )
    {
        FV_OP_DT        = p_op_dt;         //처리일자
        FV_OP_TM        = p_op_tm;         //처리시각
        FV_SEQ          = p_seq;           //순번
        FV_SVC_MGMT_NUM = p_svc_mgmt_num;  //서비스 관리번호
        FV_PROD_CL      = p_prod_cl;       //상품구분   1: 단말기, 2: USIM
        FV_MDL_CD       = p_mdl_cd;        //모델코드
        FV_SER_NUM      = p_ser_num;       //일련번호
    }
    else
    {
	    FV_GNRL_SALE_NO      = p_gnrl_sale_no;
        FV_GNRL_SALE_CHG_SEQ = p_gnrl_sale_chg_seq;
    }

    //global session 변수
    FV_LOGIN_USER_ID = gds_session.GetColumn(0,"loginId"); //로그인 유저 아이디
    FV_LOGIN_USER_NM = gds_session.GetColumn(0,"userNm");  //로그인 유저 명
    FV_LOGIN_DUTY    = gds_session.GetColumn(0,"duty");    //권한

    //local 처리관련 변수
    FV_SL_CL = "05";       //영업망코드 - M Channel

    // 판매번호 채번을 위한 정보
    // 유통망 - R: 소매, A:도매, O:온라인소매, S:온라인 도매 , M:M 채널
    // 판매구분 - E 공기기판매, G: 일반판매, P:수납대행,S:부가서비스유치
    FV_SALE_NO_SL_NET_CD   = "M";
    FV_SALE_NO_SALE_CL     = "G";

    FV_DIS_EQP_ERR_STATUS  = "0";  //단말기오류상태 ( 0:정상, 1:오류)
    FV_DIS_USIM_ERR_STATUS = "0";  //USIM  오류상태 ( 0:정상, 1:오류)
    FV_OLD_RTN_YN = "N";

    FV_DIS_ERR_YN = "N";
    FV_POL_ERR_YN = "N";
}

/*******************************************************************************
 * @description         : 콤보박스 초기화
*******************************************************************************/
function lf_combomInit()
{
    http.Sync = true;
	cf_setCommonCodeDsEnv();
	cf_setCommonCode("ds_cmbSaleChgHstCl"       , "ZSAL_C_00110");	          //변경구분
	cf_setCommonCode("div_saleInfo.cmb_slNetCd" , "ZPOL_C_00105" , "선택");   //영업망
	cf_setCommonCode("ds_commSaleDtlTyp"        , "ZPOL_C_00040" , "선택");	  //판매세부유형
	cf_setCommonCode("grd_suplservice"          , "ZPOL_C_00040" , null , 4); //부가상품 유치기한 ZBAS_C_00330
	cf_setCommonCode("ds_commSettlCond"         , "ZSAL_C_00030");	          //단말기정보 - 단말기결제
	cf_setCommonCode("ds_commAllotPrdCd"        , "ZPOL_C_00230");	          //단말기정보 - 할부기간
	cf_setCommonCode("ds_commUsimAllotCl"       , "ZSAL_C_00020");	          //USIM - USIM결제
	cf_setCommonCode("ds_commDsNetCd"           , "ZPOL_C_00110");	          //판매정보 - 유통망
	cf_setCommonCode("ds_commAgrmtPrdCd"        , "ZPOL_C_00230");	          //판매정보 - 약정기간코드
	cf_setCommonCode("ds_commOcbMcard"          , "ZPOL_C_00190");	          //판매정보 - OCB/Mcard
	cf_setCommonCode("ds_commScrbFeeCl"         , "ZSAL_C_00130");            //SKT예수금 - 가입비
	cf_setCommonCode("ds_commMnpCmmsCl"         , "ZSAL_C_00150");            //SKT예수금 - MNP
	cf_setCommonCode("ds_commFrgGrtInsuCl"      , "ZSAL_C_00210");            //SKT예수금 - 외국인보증보험료
	cf_setCommonCode("ds_commSupCl"             , "ZBAS_C_00320");            // 부가상품
	cf_setCommonCode("ds_commIdmLmtCd"          , "ZBAS_C_00330");   	      // 유치기한
	//cf_setCommonCode("ds_cmbOldRtnTyp"           , "ZSAL_C_00050");          //중고반납유형
	//cf_setCommonCode("ds_cmbOldRtnCustRtnTyp"    , "ZSAL_C_00170");          //고객반납유형
	//cf_setCommonCode("div_saleInfo.cmb_ocbMcard" , "ZSAL_C_00190" , "선택"); //OCB/MCARD 수납 콤보
	cf_setCommonCode("ds_cmbExchgRsnCd"   , "ZSAL_C_00070" );   //기기교환사유코드
	cf_setCommonCode("ds_cmbBadRsnCd"     , "ZDIS_C_00160" );   //기기불량사유코드
	//cf_setCommonCode("ds_cmbBadDtlRsnCd"  , "ZSAL_C_0016" );   //불량세부사유
	cf_checkCommonCode();
    http.Sync = false;
}

/*******************************************************************************
 * @description         : 변경구분 filter 적용
*******************************************************************************/
function lf_setFilterSaleChgHstCl()
{
    //변경구분 셋팅
    if (FV_IF_PROC_CL == "1")
    {
	    ds_cmbSaleChgHstCl.Filter("comm_cd_val=='"+ ds_generalSale.GetColumn(0,"sale_chg_hst_cl")+"'");
        div_prodExchange.cmb_salechgHstcl.Enable = false;
	}
	else if (FV_IF_PROC_CL == "2")
	{
		ds_cmbSaleChgHstCl.Filter("comm_cd_val=='01' || comm_cd_val=='05' || comm_cd_val=='06' || comm_cd_val=='09'");

		if ( ds_generalSale.GetColumn(0,"sale_chg_hst_cl") == "02" )
		{
		     FV_ENABLE_SAVE_BTN = "false";
		}
		else if ( ds_generalSale.GetColumn(0,"sale_chg_hst_cl") == "07" )
		{
		    div_prodExchange.cmb_salechgHstcl.Enable = false;
		}
	}
	else if (FV_IF_PROC_CL == "4")
	{
	    ds_cmbSaleChgHstCl.Filter("comm_cd_val=='07'");
        div_prodExchange.cmb_salechgHstcl.Enable = false;
	}

    return;
}

/*******************************************************************************
 * @description         : 폼 초기화
*******************************************************************************/
function lf_formInit()
{
    //처리자
    div_dealCoInfo.edt_insUserId.Text = FV_LOGIN_USER_ID;
    div_dealCoInfo.edt_insUserNm.Text = FV_LOGIN_USER_NM;

	lf_saleInfoInit("all");
}

/*******************************************************************************
 * @description         : 판매정보 조회 - Ukey 전문, Ps 처리 구분
*******************************************************************************/
function lf_getSaleInfo()
{
   if ( FV_IF_PROC_CL == "1" )
   {
       //Ukey Interface
       lf_getGeneralSaleIfInfo();
   }
   else
   {
       //Ps system
       lf_getGeneralSaleInfo();
   }
}

/*******************************************************************************
 * @description         : 일반판매정보 조회
*******************************************************************************/
function lf_getGeneralSaleInfo()
{
    //조회 조건
    cf_setParam(ds_input, "gnrl_sale_no"     , FV_GNRL_SALE_NO);       //일반판매번호
    cf_setParam(ds_input, "gnrl_sale_chg_seq", FV_GNRL_SALE_CHG_SEQ);  //일반판매변경순번

 	var sSvcID = "getSaleInfo";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_generalSale=ds_generalSale   ds_equipmentSale=ds_equipmentSale     ds_usimSale=ds_usimSale";
		sOutDs += " ds_tloginSale=ds_tloginSale";
	    sOutDs += " ds_suplservice=ds_suplservice ds_oldrtnEquipment=ds_oldrtnEquipment ds_allotSale=ds_allotSale";
	    sOutDs += " ds_sktPrprc=ds_sktPrprc       ds_agreementAstamt=ds_agreementAstamt ds_cashSale=ds_cashSale";
	    sOutDs += " ds_payment=ds_payment         ds_ocbMcard=ds_ocbMcard               ds_splstMdl=ds_splstMdl";
	    sOutDs += " ds_prodExchange=ds_prodExchange";
	    sOutDs += " ds_onlinePayment=ds_onlinePayment ds_onlineCmms=ds_onlineCmms";
	    sOutDs += " ds_saleCmms=ds_saleCmms ds_promotionMoney=ds_promotionMoney";
	var sArg   = "sktst.sal.SCO#getSaleInfo";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description         : 일반판매전문정보 조회
*******************************************************************************/
function lf_getGeneralSaleIfInfo()
{
    //조회 조건
    cf_setParam(ds_input, "op_dt" , FV_OP_DT );  //전송일자
    cf_setParam(ds_input, "op_tm" , FV_OP_TM );  //전송시각
    cf_setParam(ds_input, "seq"   , FV_SEQ   );  //순번

 	var sSvcID = "getGeneralSaleIfInfo";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_generalSaleIfInfo=ds_generalSaleIfInfo";
	var sArg   = "sktst.sal.SUI#getGeneralSaleIfInfo";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
}

/*******************************************************************************
 * @description         : 일반판매번호, 일반판매변경순번  MAX 조회
*******************************************************************************/
function lf_getLastGnrlSale()
{
    //조회 조건
    ds_input.Clear();
    //lf_formVarInit에서 초기화 해준 인터페이스 관리 화면에서 넘어온값임.
    cf_setParam(ds_input, "svc_mgmt_num" , FV_SVC_MGMT_NUM );  //서비스관리번호
    cf_setParam(ds_input, "prod_cl"      , FV_PROD_CL );       //상품구분
    cf_setParam(ds_input, "mdl_cd"       , FV_MDL_CD );        //모델코드
    cf_setParam(ds_input, "ser_num"      , FV_SER_NUM );       //일련번호

 	var sSvcID = "getLastGnrlSale";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_lastGnrlSale=ds_lastGnrlSale";
	var sArg   = "sktst.sal.SCO#getLastGnrlSale";

    http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}

/*******************************************************************************
 * @description         : "56" ->  "02" 기기변경 처리
*******************************************************************************/
function lf_getBfOrgSaleProdInfo()
{
    ds_input.Clear();
    cf_setParam(ds_input, "gnrl_sale_no" , FV_GNRL_SALE_NO );

 	var sSvcID = "getBfOrgSaleProdInfo";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_bfOrgSaleProdInfo=ds_bfOrgSaleProdInfo";
	var sArg   = "sktst.sal.SCO#getBfOrgSaleProdInfo";

    http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}

/*******************************************************************************
 * @description         : 일반판매정보 셋팅
*******************************************************************************/
function lf_setGeneralSaleInfo()
{
	//판매일시
	sf_setDateByDataSet("div_dealCoInfo.cal_saleDtm","div_dealCoInfo.edt_saleDtmHh", "div_dealCoInfo.edt_saleDtmMm", ds_generalSale.GetColumn(0, "sale_dtm"));
	//개통일시
	sf_setDateByDataSet("div_dealCoInfo.cal_svcDtm","div_dealCoInfo.edt_svcDtmHh", "div_dealCoInfo.edt_svcDtmMm", ds_generalSale.GetColumn(0, "svc_dtm"));

	//판매처
	if ( !uf_IsNull(ds_generalSale.GetColumn(0,"sale_plc_nm")) && !uf_IsNull(ds_generalSale.GetColumn(0,"sale_plc")))
	{
		div_dealCoInfo.edt_salePlcNm.Text        = ds_generalSale.GetColumn(0,"sale_plc_nm");
		div_dealCoInfo.edt_salePlcUkeyCd.Text    = ds_generalSale.GetColumn(0,"sale_agency_cd");
		div_dealCoInfo.edt_salePlcSubCd.Text     = ds_generalSale.GetColumn(0,"sale_sub_cd");
		div_dealCoInfo.edt_salePlcChannelCd.Text = ds_generalSale.GetColumn(0,"sale_channel_cd");
		div_dealCoInfo.edt_salePlc.Text          = ds_generalSale.GetColumn(0,"sale_plc");
	}

	//개통처
	if ( !uf_IsNull(ds_generalSale.GetColumn(0,"svc_plc_nm")) && !uf_IsNull(ds_generalSale.GetColumn(0,"svc_plc")))
	{
		div_dealCoInfo.edt_svcPlcNm.Text         = ds_generalSale.GetColumn(0,"svc_plc_nm");
		div_dealCoInfo.edt_svcPlcUkeyCd.Text     = ds_generalSale.GetColumn(0,"svc_agency_cd");
		div_dealCoInfo.edt_svcPlcSubCd.Text      = ds_generalSale.GetColumn(0,"svc_sub_cd");
		div_dealCoInfo.edt_svcPlcChannelCd.Text  = ds_generalSale.GetColumn(0,"svc_channel_cd");
		div_dealCoInfo.edt_svcPlc.Text           = ds_generalSale.GetColumn(0,"svc_plc");
	}

    var sSaleChgDtm = "";

    if ( FV_IF_PROC_CL == "1" )
    {
        FV_PROC_DTM = ds_generalSaleIfInfo.GetColumn(0,"proc_dt") + ds_generalsaleIfInfo.GetColumn(0,"proc_tm") + "00";
        sSaleChgDtm = ds_generalSaleIfInfo.GetColumn(0,"proc_dt") + ds_generalsaleIfInfo.GetColumn(0,"proc_tm");
    }
    else
    {
        FV_PROC_DTM = ds_generalSale.GetColumn(0, "sale_chg_dtm");
        sSaleChgDtm = FV_PROC_DTM;
    }

	//판매변경일시
	sf_setDateByDataSet("div_prodExchange.cal_saleChgDtm","div_prodExchange.edt_saleChgDtmHh", "div_prodExchange.edt_saleChgDtmMm", sSaleChgDtm);

	//변경처
	if ( ds_generalSale.GetColumn(0,"sale_chg_hst_cl") != "01")
	{
	    if ( FV_IF_PROC_CL == "1" )
	    {
	        f_setIfSaleChg();  //Ukey 기준 판매변경
	    }
	    else
	    {
	        f_setSaleChg();    //PS 처리 판매변경
	    }
	}

    //재고보유처
    div_dealCoInfo.edt_posAgencyCd.Text = ds_generalSale.GetColumn(0,"pos_agency");

	if( ds_generalSaleIfInfo.GetColumn(0,"sale_chg_hst_cl") == "02" )
	{
        lf_getDisInfo("true","true", "02");
	}

	//중고반납이 있을경우
	if ( !uf_IsNull(ds_oldRtnEquipment.GetColumn(0,"old_rtn_typ")) )
	{
		div_saleInfo.btn_oldRtn.Enable = true;
		div_saleInfo.edt_oldRtnTypNm.Text = ds_oldRtnEquipment.GetColumn(0,"old_rtn_mdl_nm") + "/" + ds_oldRtnEquipment.GetColumn(0,"old_rtn_ser_num");
	}

	//USIM 가격
	if ( ds_usimSale.GetColumn(0,"usim_old_sale_yn") <> "Y")
	{
		if ( ds_generalSale.GetColumn(0,"usim_allot_cl") == "Y")
		{
			div_usimInfo.msk_usimSalePrc.Value = ds_allotSale.GetColumn(0,"usim_allot_sale_prc");
		}
		else if ( ds_generalSale.GetColumn(0,"usim_allot_cl") == "N")
		{
			div_usimInfo.msk_usimSalePrc.Value = ds_cashSale.GetColumn(0,"usim_cash_sale_prc");
		}
		else
		{
			div_usimInfo.msk_usimSalePrc.Value = "0";
		}
	}
	else
	{
//      KIMYS - 2010.07.01 - 중고USIM의 경우 판매가는 Zero
//		div_usimInfo.msk_usimSalePrc.Value = ds_cashSale.GetColumn(0,"usim_cash_sale_prc");
		div_usimInfo.msk_usimSalePrc.Value = "0";
	}

	//skt예수금
	f_sktPrprcAmt();

    //변경을 못하게 함.
	f_divEnable(ds_generalSale.GetColumn(0,"sale_chg_hst_cl"));
}

/*******************************************************************************
 * @description         : 인터페이스 Data와 일반판매 Data를 Merge
*******************************************************************************/
function lf_setMerge()
{
    var sSaleChgHstCl = ds_generalSaleIfInfo.GetColumn(0,"sale_chg_hst_cl");
    cf_setParam(ds_generalSale, "sale_chg_hst_cl" , sSaleChgHstCl );
    cf_setParam(ds_generalSale, "sale_chg_dtm"    , ds_generalSaleIfInfo.GetColumn(0,"proc_dt") + ds_generalSaleIfInfo.GetColumn(0,"proc_tm") + "00" );

    if( sSaleChgHstCl == "02" )   //기기변경
    {
		var sIfRecTyp = ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ");

		var sPsUsimSerNum  = ds_usimSale.GetColumn(0,"usim_ser_num");
		var sPsUsimMdlCd   = ds_usimSale.GetColumn(0,"usim_mdl_cd");
		var sPsUsimMdlNm   = ds_usimSale.GetColumn(0,"usim_mdl_nm");
		var sIfUsimSerNum  = ds_generalSaleIfInfo.GetColumn(0,"usim_ser_num");
		var sIfUsimMdlCd   = ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_cd");
		var sIfUsimMdlNm   = ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_nm");

		if ( sIfRecTyp == "91"  || sIfRecTyp == "92"
			 || sIfRecTyp == "93"  || sIfRecTyp == "94" )
	    {
	        cf_setParam(ds_usimSale, "usim_ser_num", sIfUsimSerNum );
	        cf_setParam(ds_usimSale, "usim_mdl_cd" , sIfUsimMdlCd );
	        cf_setParam(ds_usimSale, "usim_mdl_nm" , sIfUsimMdlNm );

	        if ( sPsUsimSerNum != sIfUsimSerNum || sPsUsimMdlCd != sIfUsimMdlCd )
	        {
	            FV_USIM_CHG_YN = "Y";
	        }
	        else
	        {
	            FV_USIM_CHG_YN = "N";
	        }
	    }
	    else
	    {
	        var sPsEqpSerNum   = ds_equipmentSale.GetColumn(0,"eqp_ser_num");
	        var sPsEqpMdlCd    = ds_equipmentSale.GetColumn(0,"eqp_mdl_cd");
	        var sPsEqpMdlNm    = ds_equipmentSale.GetColumn(0,"eqp_mdl_nm");
	        var sPsEqpColorCd  = ds_equipmentSale.GetColumn(0,"eqp_color_cd");
	        var sIfEqpSerNum   = ds_generalSaleIfInfo.GetColumn(0,"eqp_ser_num");
	        var sIfEqpMdlCd    = ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd");
	        var sIfEqpMdlNm    = ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_nm");
	        var sIfEqpColorCd  = ds_generalSaleIfInfo.GetColumn(0,"color_cd");

	        var sEqpMdlComMthd = "";   //단말기 모델 통신방식(2G, 3G)

	        // 20091023
	        // '27' 회수기변 처리(기기변경)
	        // 변경 후 eqp_mdl_cd  -> tsal_prod_mgmt 조회
	        //  - 통신방식이 3G 이면 변경전 USIM chekc : 있으면 판매처리 , 없으면 skip
	        //               2G이면  현재처럼 flow

	        if ( sIfRecTyp == "27" )
	        {
	            sEqpMdlComMthd = lf_getEqpMdlComMthd(sIfEqpMdlCd);

	            // 2G : 1 , 3G : 2 , Wibro : 3
	            // KIMYS - 변경후 USIM이 Null인 경우만 변경전 USIM으로 Setting
	            //if ( sEqpMdlComMthd == "2" && !uf_IsNull(sPsUsimMdlCd) )
	            if ( sEqpMdlComMthd == "2" && !uf_IsNull(sPsUsimMdlCd) && uf_IsNull(sIfUsimMdlCd) )
	            {
	                sIfUsimSerNum = sPsUsimSerNum;
	                sIfUsimMdlCd  = sPsUsimMdlCd;
	                sIfUsimMdlNm  = sPsUsimMdlNm;
	            }
	        }

	        //타기종 교환 여부
	        if ( sPsEqpMdlCd != sIfEqpMdlCd )
	        {
                FV_DIFF_EQP_CHG_YN = "Y";
                FV_EQP_CHG_YN = "Y";
	        }
	        else
	        {
                FV_DIFF_EQP_CHG_YN = "N";

                if ( sPsEqpSerNum != sIfEqpSerNum || sPsEqpColorCd != sIfEqpColorCd )
                {
                    FV_EQP_CHG_YN = "Y";
                }
                else
                {
                    FV_EQP_CHG_YN = "N";
                }
	        }

            if ( uf_IsNull(sPsUsimSerNum ) && !uf_IsNull(sIfUsimSerNum) )
            {
                FV_USIM_CHG_YN = "X";

                var sUsimAllotCl  =  ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl");
                var sUsimAllotPrc =  ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc");
	            cf_setParam(ds_generalSale, "usim_allot_cl"  , sUsimAllotCl );
                sf_findCmbDsCdNm(ds_commUsimAllotCl, "div_usimInfo.edt_usimAllotClNm", sUsimAllotCl);

                div_usimInfo.msk_usimSalePrc.Value = sUsimAllotPrc;
                if ( sUsimAllotCl == "N" )
                {
                    cf_setParam(ds_cashSale , "usim_cash_sale_prc"   , sUsimAllotPrc );
                }
                else if ( sUsimAllotCl == "Y" )
                {
                    cf_setParam(ds_allotSale, "usim_allot_sale_prc" , sUsimAllotPrc );
                }
                else
                {
                    cf_setParam(ds_cashSale , "usim_cash_sale_prc"  , sUsimAllotPrc );
                    cf_setParam(ds_allotSale, "usim_allot_sale_prc" , sUsimAllotPrc );
                }
            }
	        else if ( sPsUsimSerNum != sIfUsimSerNum || sPsUsimMdlCd != sIfUsimMdlCd )
	        {
	            FV_USIM_CHG_YN = "Y";

	            if ( uf_IsNull(sIfUsimSerNum) )
	            {
	                cf_setParam(ds_generalSale, "usim_allot_cl"       , ""  );
	                cf_setParam(ds_generalSale, "usim_allot_cl_nm"    , ""  );
	                cf_setParam(ds_cashSale   , "usim_cash_sale_prc"  , "0" );
	                cf_setParam(ds_allotSale  , "usim_allot_sale_prc" , "0" );
	                cf_setParam(ds_usimSale   , "usim_old_sale_yn"    , ""  );
	                cf_setParam(ds_usimSale   , "hld_plc_id"          , ""  );
	                cf_setParam(ds_usimSale   , "hld_plc_nm"          , ""  );
	            }
	        }
	        else
	        {
	            FV_USIM_CHG_YN = "N";
	        }

	        //단말기
	        cf_setParam(ds_equipmentSale, "eqp_ser_num"  , sIfEqpSerNum );
	        cf_setParam(ds_equipmentSale, "eqp_mdl_cd"   , sIfEqpMdlCd );
	        cf_setParam(ds_equipmentSale, "eqp_mdl_nm"   , sIfEqpMdlNm );
	        cf_setParam(ds_equipmentSale, "eqp_color_cd" , sIfEqpColorCd );

	        f_getMdlNm("1", sIfEqpMdlCd);

            //USIM
	        cf_setParam(ds_usimSale, "usim_ser_num", sIfUsimSerNum );
	        cf_setParam(ds_usimSale, "usim_mdl_cd" , sIfUsimMdlCd );
	        cf_setParam(ds_usimSale, "usim_mdl_nm" , sIfUsimMdlNm );

	        f_getMdlNm("2", sIfUsimMdlCd);
	    }

		FV_DIS_FLAG  = "true";
		FV_USIM_FLAG = f_chgUsimAllotCl();

    }
    else if ( sSaleChgHstCl == "03" )  //할부추가
    {
		//단말기 결제조건
		cf_setParam(ds_generalSale, "settl_cond"        , ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") );
		cf_setParam(ds_generalSale, "settl_cond_nm"     , ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond_nm") );

		//단말기 할부기간
		cf_setParam(ds_generalSale, "allot_prd_cd"      , ds_generalSaleIfInfo.GetColumn(0,"allot_prd_cd") );
		cf_setParam(ds_generalSale, "allot_prd_nm"      , ds_generalSaleIfInfo.GetColumn(0,"allot_prd_nm") );

		//단말기 할부판매가
		cf_setParam(ds_allotSale  , "eqp_allot_sale_prc", ds_generalSaleIfInfo.GetColumn(0,"allot_sale_prc") );

        //유통망(약정개월수)
		cf_setParam(ds_generalSale, "ds_net_cd"         , ds_generalSaleIfInfo.GetColumn(0,"ds_net_cd") );
		cf_setParam(ds_generalSale, "ds_net_nm"         , ds_generalSaleIfInfo.GetColumn(0,"ds_net_nm") );

        //약정기간
		cf_setParam(ds_generalSale,     "agrmt_prd_cd",           ds_generalSaleIfInfo.GetColumn(0,"agrmt_prd_cd") );
		cf_setParam(ds_generalSale,     "excel_cust_prom_cd",     ds_generalSaleIfInfo.GetColumn(0,"excel_cust_prom_cd") );
		cf_setParam(ds_agreementastamt, "agrmt_astamt",           ds_generalSaleIfInfo.GetColumn(0,"agrmt_amt") );
		cf_setParam(ds_agreementastamt, "retention_agrmt_astamt", ds_generalSaleIfInfo.GetColumn(0,"retention_agrmt_astamt") );
		cf_setParam(ds_agreementastamt, "excel_cust_prom_amt",    ds_generalSaleIfInfo.GetColumn(0,"excel_cust_prom_amt") );

		//할부추가일때 현금은 0으로 해준다.
		if (ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") == "A" )
		{
			cf_setParam(ds_cashSale, "eqp_cash_sale_prc" , "0" );
		}

		FV_DIS_FLAG  = "false";
		FV_USIM_FLAG = f_chgUsimAllotCl();

    }
    else if ( sSaleChgHstCl == "04" )  //할부취소
    {
		//단말기 결제조건
		cf_setParam(ds_generalSale, "settl_cond"        , "C" ); //ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") );
		cf_setParam(ds_generalSale, "settl_cond_nm"     , ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond_nm") );
		//단말기 할부기간
		cf_setParam(ds_generalSale, "allot_prd_cd"      , ds_generalSaleIfInfo.GetColumn(0,"allot_prd_cd") );
		cf_setParam(ds_generalSale, "allot_prd_nm"      , ds_generalSaleIfInfo.GetColumn(0,"allot_prd_nm") );

		//단말기 할부판매가
		cf_setParam(ds_allotSale  , "eqp_allot_sale_prc", "0" );

        //유통망(약정개월수)
        if ( !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"ds_net_cd")) )
        {
			cf_setParam(ds_generalSale, "ds_net_cd"     , ds_generalSaleIfInfo.GetColumn(0,"ds_net_cd") );
			cf_setParam(ds_generalSale, "ds_net_nm"     , ds_generalSaleIfInfo.GetColumn(0,"ds_net_nm") );
        }

        //약정기간
        if ( !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"agrmt_prd_cd")) )
        {
			cf_setParam(ds_generalSale,     "agrmt_prd_cd"       , ds_generalSaleIfInfo.GetColumn(0,"agrmt_prd_cd") );
			cf_setParam(ds_agreementastamt, "agrmt_astamt"       , ds_generalSaleIfInfo.GetColumn(0,"agrmt_amt") );
		}
		cf_setParam(ds_agreementastamt, "retention_agrmt_astamt",  ds_generalSaleIfInfo.GetColumn(0,"retention_agrmt_astamt") );

        //우수고객기변프로모션
        if ( !uf_IsNull(ds_generalSaleIfInfo.GetColumn(0,"excel_cust_prom_cd")) )
        {
			cf_setParam(ds_generalSale,     "excel_cust_prom_cd" , ds_generalSaleIfInfo.GetColumn(0,"excel_cust_prom_cd") );
			cf_setParam(ds_agreementastamt, "excel_cust_prom_amt", ds_generalSaleIfInfo.GetColumn(0,"excel_cust_prom_amt") );
        }

		FV_DIS_FLAG  = "false";
		FV_USIM_FLAG = f_chgUsimAllotCl();

    }
    else if( sSaleChgHstCl == "07" )   //판매취소
    {
        lf_setSaleCncl();

    }
    return;
}

function lf_setSaleCncl()
{
	var sPsUsimSerNum  = ds_usimSale.GetColumn(0,"usim_ser_num");
	var sPsUsimOldSaleYn = ds_usimSale.GetColumn(0,"usim_old_sale_yn");

	var sPsEqpSerNum   = ds_equipmentSale.GetColumn(0,"eqp_ser_num");
	var sPsEqpOldSaleYn = ds_equipmentSale.GetColumn(0,"eqp_old_sale_yn");

	//단말기
	if ( uf_IsNull(sPsEqpSerNum) || sPsEqpOldSaleYn == "Y" )
	{
		FV_EQP_CHG_YN = "N";
	}
	else
	{
		FV_EQP_CHG_YN = "Y";
	}

	//USIM
	if ( uf_IsNull(sPsUsimSerNum) || sPsUsimOldSaleYn == "Y" )
	{
		FV_USIM_CHG_YN = "N";
	}
	else
	{
		FV_USIM_CHG_YN = "Y";
	}

	FV_DIS_FLAG  = "false";
	FV_USIM_FLAG = f_chgUsimAllotCl();
	return;
}

/*******************************************************************************
 * @description    : USIM 결제조건 변경
*******************************************************************************/
function f_chgUsimAllotCl()
{
    var sFlag = "true";
    var sIfRecTyp = ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ");
//20090717
//    if ( ( ds_generalSaleIfInfo.GetColumn(0,"sale_chg_hst_cl") != "02" ) && !uf_ISNull(ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl")) )
    if ( !uf_ISNull(ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl"))
         &&  (sIfRecTyp == "91"  || sIfRecTyp == "92"
			   || sIfRecTyp == "93"  || sIfRecTyp == "94") )
    {
		ds_generalSale.SetColumn(0,"usim_allot_cl"   , ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl"));
		ds_generalSale.SetColumn(0,"usim_allot_cl_nm", ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl_nm"));

		switch (trim(ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl")))
		{
			case "N" :  //1: 선납 - 현금판매
				div_usimInfo.msk_usimSalePrc.Value = 0;
				break;
			case "Y" :  //2 : 후납 - 할부매출
				div_usimInfo.msk_usimSalePrc.Value = ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc");
				//ds_cashSale.SetColumn(0,"usim_cash_sale_prc","0");
				break;
			default :
				sFlag = "false";
				f_nonChgUsimAllotCl();
				break;
		}

	}
	else
	{
	    sFlag = "false";
		f_nonChgUsimAllotCl();
	}
	return sFlag;
}

function f_nonChgUsimAllotCl()
{
	switch (trim(ds_generalSale.GetColumn(0,"usim_allot_cl")))
	{
		case "N" :  //1: 선납 - 현금판매
			div_usimInfo.msk_usimSalePrc.Value = ds_cashSale.GetColumn(0,"usim_cash_sale_prc");

			break;
		case "Y" :  //2 : 후납 - 할부매출
			div_usimInfo.msk_usimSalePrc.Value = ds_allotSale.GetColumn(0,"usim_allot_sale_prc");
			break;
		default :
			div_usimInfo.msk_usimSalePrc.Value = 0;
			break;
	}
}

/*******************************************************************************
 * @description    : 단말기,USIM 모델명 조회
*******************************************************************************/
function f_getMdlNm(sProdCl,sProdCd)
{
	ds_param.Clear();

	cf_setParam(ds_param, "prod_cl" , sProdCl );
	cf_setParam(ds_param, "prod_cd" , sProdCd );
	cf_setParam(ds_param, "prod_nm" , "");

	var sSvcID = "getProdNm";
	var sInDs  = "nc_input_fieldDs=ds_param";
	var sOutDs = "ds_param=List";
	var sArg   = "sktst.sal.SCO#getProdNmByProdCd";

	http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}


/*******************************************************************************
 * @description    : 판매처 변경시 정산처 조회
*******************************************************************************/
function lf_getStlPlc()
{
	cf_setParam(ds_input, "deal_dtm"   , FV_PROC_DTM );
	cf_setParam(ds_input, "deal_co_cd" , div_dealCoInfo.edt_salePlc.Text );

	var sSvcID = "getStlPlcByDealCoCd";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_output=List";
	var sArg   = "sktst.sal.SCO#getStlPlcByDealCoCd";

	http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}

/*******************************************************************************
 * @description    : 재고 보유처명 조회
*******************************************************************************/
function lf_getHldPlc(sProdCl, sHldPlc)
{
    cf_setParam(ds_input, "deal_dtm"   , FV_PROC_DTM );
    cf_setParam(ds_input, "deal_co_cd" , sHldPlc );

    var sSvcID = "";
    var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_output=List";
	var sArg   = "sktst.sal.SCO#getDealCoNmByDealCoCd";

    if (sProdCl == "1")
    {
        sSvcID = "getEqpHldPlcByDealCoCd";
    }
    else
    {
        sSvcID = "getUsimHldPlcByDealCoCd";
    }

    http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}

/*******************************************************************************
 * @description    : TLOGIN 재고 보유처명 조회
*******************************************************************************/
function lf_getTloginHldPlc(sProdCl, sHldPlc)
{
    cf_setParam(ds_input, "deal_dtm"   , FV_PROC_DTM );
    cf_setParam(ds_input, "deal_co_cd" , sHldPlc );

    var sSvcID = "";
    var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_output=List";
	var sArg   = "sktst.sal.SCO#getDealCoNmByDealCoCd";

    sSvcID = "getTloginHldPlcByDealCoCd";

    http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}

/*******************************************************************************
 * @description   : 파라미터값(0,1) 받아서 비교연산 0:정상, 1:오류
 *                  0 == 0 -> 0
 *                  0 == 1 -> 1
 *                  1 == 0 -> 1
 *                  1 == 1 -> 1
 *                  단말기/USIM 오류 비교에 사용
*******************************************************************************/
function lf_compareDis(param1, param2, param3)
{
    var sRtn = "";

    if (param1 != param2)
    {
        sRtn = "1";
    }
    else
    {
        if ( param1 == "0" )
        {
            if (param1 != param3)
		    {
		        sRtn = "1";
		    }
		    else
		    {
            	sRtn = "0";
            }
        }
        else
        {
            sRtn = "1";
        }
    }

    if ( sRtn == "1" )
    {
        lf_prodErrMsg("1", FV_EQP_ERR_CODE, FV_EQP_ERR_MSG, FV_TLOGIN_ERR_CODE, FV_TLOGIN_ERR_MSG, FV_USIM_ERR_CODE, FV_USIM_ERR_MSG);
    }


    //재고보유처가 다를경우 재고조정이동 버튼 활성화
    if ( FV_EQP_ERR_CODE  == "F004" || FV_EQP_ERR_CODE  == "F009" ||
    	 FV_TLOGIN_ERR_CODE  == "F004" || FV_TLOGIN_ERR_CODE  == "F009" ||
         FV_USIM_ERR_CODE == "F004" || FV_USIM_ERR_CODE == "F009" )
    {
        btn_disDtr.Enable = true;
    }
    else
    {
        btn_disDtr.Enable = false;
    }

    return sRtn;
}

/*******************************************************************************
 * @description   : 단말기,USIM 재고 메세지 및 가격정책 메세지 alert 처리
*******************************************************************************/
function lf_prodErrMsg(sCl,sEqpErrCd,sEqpErrMsg,sTloginErrCd,sTloginErrMsg,sUsimErrCd,sUsimErrMsg)
{
    var sOutMsg = "";

	if ( uf_IsNull(sEqpErrMsg) )
	{
		sOutMsg = "";
	}
	else
	{
	    //if ( !uf_IsNull(sEqpErrCd) || sEqpErrCd != "20" )
	    if ( sEqpErrCd != "20" )
	    {
		    sOutMsg =  "단말기 : " + sEqpErrMsg;
		}
	}

	if ( uf_IsNull(sTloginErrMsg) )
	{
		sOutMsg = sOutMsg + "";
	}
	else
	{
	    if( sTloginErrCd != "20" )
	    {
		    sOutMsg = sOutMsg + "\n" + "TLOGIN : " + sTloginErrMsg;
		}
	}

	if ( uf_IsNull(sUsimErrMsg) )
	{
		sOutMsg = sOutMsg + "";
	}
	else
	{
	    //if( !uf_IsNull(sUsimErrCd) )
	    if( sUsimErrCd != "20" )
	    {
		    sOutMsg = sOutMsg + "\n" + "USIM : " + sUsimErrMsg;
		}
	}

	if ( !uf_IsNull(sOutMsg) )
	{
	    alert( sOutMsg );

	    if ( sCl == "1" )
	    {
	        FV_DIS_ERR_YN = "Y";
	    }
	    else
	    {
	        FV_POL_ERR_YN = "Y";
	    }
    }
    else
    {
	    if ( sCl == "1" )
	    {
	        FV_DIS_ERR_YN = "N";
	    }
	    else
	    {
	        FV_POL_ERR_YN = "N";
	    }
    }

    lf_enableBtnSave("1");

	return;
}

/*******************************************************************************
 * @description   : 저장버튼 0:할성화 ,  1:비활성화
*******************************************************************************/
function lf_enableBtnSave(param)
{
    if (FV_DIS_ERR_YN == "N" && FV_POL_ERR_YN =="N")
    {
        btn_save.Enable = true;
    }
    else
    {
        btn_save.Enable = false;
    }
}

/*******************************************************************************
 * @description    : 콜백
 * @param sSvcID   : 서비스 아이디
*******************************************************************************/
function f_callBack(sSvcID)
{
    /* 일반판매번호, 일반판매변경순번 취득 */
    if (sSvcID == "getLastGnrlSale")
    {
        if (ds_lastGnrlSale.rowcount > 0)
        {
            FV_GNRL_SALE_NO      = ds_lastGnrlSale.GetColumn(0,"gnrl_sale_no");
            FV_GNRL_SALE_CHG_SEQ = ds_lastGnrlSale.GetColumn(0,"gnrl_sale_chg_seq");

            lf_getGeneralSaleInfo();   /* 일반판매정보 취득 */

            return;
        }
        else
        {
            alert("이전 판매 정보가 없습니다.");
            return;
        }
    }
    else if (sSvcID == "getBfOrgSaleProdInfo")
    {
        if (ds_bfOrgSaleProdInfo.rowcount > 0 )
        {
            var sMsg = "전산이력확인후 처리하세요(판매취소는 '확인'/ 회수기변철회는 '취소')\n";
                sMsg = sMsg + "처리후에는 취소 및 변경처리가 되지 않습니다.";
            var sSelRtn = Confirm(sMsg);

            if (sSelRtn == false)
            {
				// "56" 일때 기기변경으로 처리(기기변경으로 처리된건)

				cf_setParam(ds_generalSaleIfInfo, "sale_chg_hst_cl" , "02" );
				cf_setParam(ds_generalSaleIfInfo, "bf_eqp_mdl_cd"   , ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd") );
				cf_setParam(ds_generalSaleIfInfo, "bf_eqp_ser_num"  , ds_generalSaleIfInfo.GetColumn(0,"eqp_ser_num") );
				//cf_setParam(ds_generalSaleIfInfo, "bf_eqp_color_cd" , ds_generalSaleIfInfo.GetColumn(0,"color_cd") );
				cf_setParam(ds_generalSaleIfInfo, "bf_usim_mdl_cd"  , ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_cd") );
				cf_setParam(ds_generalSaleIfInfo, "bf_usim_ser_mum" , ds_generalSaleIfInfo.GetColumn(0,"usim_ser_num") );
				cf_setParam(ds_generalSaleIfInfo, "eqp_mdl_cd"      , ds_bfOrgSaleProdInfo.GetColumn(0,"bf_eqp_mdl_cd") );
				cf_setParam(ds_generalSaleIfInfo, "eqp_ser_num"     , ds_bfOrgSaleProdInfo.GetColumn(0,"bf_eqp_ser_num") );
				cf_setParam(ds_generalSaleIfInfo, "color_cd"        , ds_bfOrgSaleProdInfo.GetColumn(0,"bf_eqp_color_cd") );
				cf_setParam(ds_generalSaleIfInfo, "usim_mdl_cd"     , ds_bfOrgSaleProdInfo.GetColumn(0,"bf_usim_mdl_cd") );
				cf_setParam(ds_generalSaleIfInfo, "usim_ser_num"    , ds_bfOrgSaleProdInfo.GetColumn(0,"bf_usim_ser_num") );
			}
        }
        else
        {
            // "56" 일때 판매취소로 처리("01","12","13" 판매변경이력)

            //FV_ENABLE_SAVE_BTN = "false";
            //alert("기기변경으로 처리하기 위한 이전 판매 정보가 없습니다.");
        }
    }
    else if (sSvcID == "getGeneralSaleIfInfo")
    {
        if ( ds_generalSaleIfInfo.rowcount > 0 )
        {
            lf_getLastGnrlSale();
        }
        else
        {
            alert("Ukey 전문이 없습니다.");
        }
        return;
    }
    else if (sSvcID == "getSaleInfo")
    {
        if ( ds_generalSale.rowcount > 0 )
        {
			if ( FV_IF_PROC_CL == "1")
			{
                FV_PROC_DTM = ds_generalSaleIfInfo.GetColumn(0,"proc_dt") + ds_generalsaleIfInfo.GetColumn(0,"proc_tm");

                lf_getStlPlc();

				if (ds_generalSaleIfInfo.GetColumn(0,"if_rec_typ") == "56" )
				{
					lf_getBfOrgSaleProdInfo();
				}

				// Ukey 전문일때
				lf_setMerge();

			}
			else if (FV_IF_PROC_CL == "4")
			{
			    FV_PROC_DTM = parent.ds_channelChgIfInfo.getcolumn(0,"proc_dt") || parent.ds_channelChgIfInfo.getcolumn(0,"prod_tm");

   	            ds_generalSale.SetColumn(0,"sale_chg_hst_cl","07");

   	            lf_setSaleCncl();
			}
			else
			{
				// PS 정보처리
				lf_setGeneralSaleInfo();
			}
        }
        else
        {
            alert("판매정보가 존재하지 않습니다.");
            return;
        }

		//Mask 처리
		var sCustNm     = ds_generalSale.GetColumn(0,"cust_nm");
		var sSvcNum     = ds_generalSale.GetColumn(0,"svc_num");
		var sCustBizNum = ds_generalSale.GetColumn(0,"cust_biz_num");

       	sCustNm     = sf_getMasking(sCustNm, "custnm");
	    sSvcNum     = sf_getMasking(sSvcNum, "svcnum");
	    sCustBizNum = sf_getMasking(sCustBizNum, "custbiznum");

		ds_generalSale.SetColumn(0,"cust_nm_view"       , sCustNm);
		ds_generalSale.SetColumn(0,"svc_num_view"       , sSvcNum);
		ds_generalSale.SetColumn(0,"cust_biz_num_view"  , sCustBizNum);

        //변경구분 콤보 filter
        lf_setFilterSaleChgHstCl();

        //판매유형 셋팅
        ds_commSaleDtlTyp.Filter("substr(comm_cd_val,0,2) == '" + substr(ds_generalSale.GetColumn(0,"sale_dtl_typ"),0,2) + "'");

        //form 셋팅
        lf_setGeneralSaleInfo();

        //code 값에 대한 code 명 셋팅
        //고객구분
        //sf_findCmbDsCdNm(ds_cmbScrbFeeCl   , "div_sktPrprc.edt_scrbFeeClNm"   , ds_sktPrprc.GetColumn(0,"scrb_fee_cl"));
        //단말기결제조건
        sf_findCmbDsCdNm(ds_commSettlCond   , "div_eqpInfo.edt_settlcondNm"    , ds_generalSale.GetColumn(0,"settl_cond"));
        //단말기할부기간
        sf_findCmbDsCdNm(ds_commAllotPrdCd  , "div_eqpInfo.edt_allotPrdNm"     , ds_generalSale.GetColumn(0,"allot_prd_cd"));

        //유통망
        sf_findCmbDsCdNm(ds_commDsNetCd     , "div_saleInfo.edt_dsNetNm"       , ds_generalSale.GetColumn(0,"ds_net_cd"));
        //약정기간
        sf_findCmbDsCdNm(ds_commAgrmtPrdCd  , "div_saleInfo.edt_agrmtPrdNm"    , ds_generalSale.GetColumn(0,"agrmt_prd_cd"));
        //OCB/Mcard
        sf_findCmbDsCdNm(ds_commOcbMcard    , "div_saleInfo.edt_ocbMcard"      , ds_ocbMcard.GetColumn(0,"ocb_mcard_cd"));

        //SKT예수금
        sf_findCmbDsCdNm(ds_commScrbFeeCl   , "div_sktPrprc.edt_scrbFeeClNm"   , ds_sktPrprc.GetColumn(0,"scrb_fee_cl"));
        sf_findCmbDsCdNm(ds_commMnpCmmsCl   , "div_sktPrprc.edt_mnpCmmsClNm"   , ds_sktPrprc.GetColumn(0,"mnp_cmms_cl"));
        sf_findCmbDsCdNm(ds_commFrgGrtInsuCl, "div_sktPrprc.edt_frgGrtInsuClNm", ds_sktPrprc.GetColumn(0,"frg_grt_insu_cl"));

        f_getSaleChgrgId();   //판매담당자

        div_eqpInfo.edt_eqpHldPlcNm.Text   = ds_equipmentSale.GetColumn(0,"hld_plc_nm");
        div_usimInfo.edt_usimHldPlcNm.Text = ds_usimSale.GetColumn(0,"hld_plc_nm");

		var sSaleChgHstCl = ds_generalSale.GetColumn(0,"sale_chg_hst_cl") ;

        if (FV_IF_PROC_CL == "1")
        {
			if( sSaleChgHstCl == "02" )   //기기변경
			{
				//재고 조회 flag, USIM운영보델단가표 조회 flasg
				//lf_getDisInfo(FV_DIS_FLAG,FV_USIM_FLAG);
			}
			else if ( sSaleChgHstCl == "03" )  //할부추가
			{
				//재고 조회 flag, USIM운영보델단가표 조회 flasg
				lf_getDisInfo(FV_DIS_FLAG,FV_USIM_FLAG);
			}
			else if ( sSaleChgHstCl == "04" )  //할부취소
			{
				//재고 조회 flag, USIM운영보델단가표 조회 flasg
				lf_getDisInfo(FV_DIS_FLAG,FV_USIM_FLAG);
			}
			else if( sSaleChgHstCl == "07" )   //판매취소
			{
				//재고 조회 flag, USIM운영보델단가표 조회 flasg
				//lf_getDisInfo(sDisFlag,sUsimFlag);
			}
        }

	    //판매번호의 마지막 Data가 아니면 처리 못하게함.
	    if ( ds_generalSale.GetColumn(0,"sale_cncl_yn") == "Y"
	         || ds_generalSale.GetColumn(0,"max_gnrl_sale_chg_seq") > ds_generalSale.GetColumn(0,"gnrl_sale_chg_seq") )
        {
            div_prodExchange.cmb_saleChgHstCl.Enable = false;
            btn_save.Enable = false;
            btn_saleHist.Enable = true;
	    }
	    else
	    {
	        //"56"번 전문 처리일때 , 일반관리에서 기기변경 Data 확인시
	        if (FV_ENABLE_SAVE_BTN == "false")
	        {
	            btn_save.Enable = false;
	            btn_disDtr.Enable = false;
	        }

	        if (FV_IF_PROC_CL == "4")
	        {
	        	btn_payment.Enable = false;
	        }

            btn_saleHist.Enable = false;
	    }


        return;



	    /*
	    //원본 Data Backup
	    f_backUpDataSet();



	    //변경전 DATA BACKUP.
        cf_setParam(ds_beforeInfo, "sale_plc"           , ds_generalSale.GetColumn(0,"sale_plc") );
        cf_setParam(ds_beforeInfo, "sale_plc_nm"        , ds_generalSale.GetColumn(0,"sale_plc_nm") );
        cf_setParam(ds_beforeInfo, "eqp_ser_num"        , ds_equipmentSale.GetColumn(0,"eqp_ser_num") );
        cf_setParam(ds_beforeInfo, "eqp_mdl_cd"         , ds_equipmentSale.GetColumn(0,"eqp_mdl_cd") );
        cf_setParam(ds_beforeInfo, "usim_ser_num"       , ds_usimSale.GetColumn(0,"usim_ser_num") );
        cf_setParam(ds_beforeInfo, "usim_mdl_cd"        , ds_usimSale.GetColumn(0,"usim_mdl_cd") );
        cf_setParam(ds_beforeInfo, "sale_dtl_typ_nm"    , div_saleInfo.cmb_saleDtlTyp.Text );
        cf_setParam(ds_beforeInfo, "ds_net_nm"          , div_saleInfo.cmb_dsNetCd.Text );
        cf_setParam(ds_beforeInfo, "tagrmt_prd_nm"      , div_saleInfo.cmb_tAgrmtPrdCd.Text );
        cf_setParam(ds_beforeInfo, "settl_cond_nm"      , div_eqpInfo.rdo_settlCond.Text );
        cf_setParam(ds_beforeInfo, "allot_prd_nm"       , div_eqpInfo.cmb_allotPrdCd.Text );
        cf_setParam(ds_beforeInfo, "add_supt_nm"        , div_saleInfo.cmb_addSuptCd.Text );
        cf_setParam(ds_beforeInfo, "add_supt_cd_amt"    , ds_generalSale.GetColumn(0,"add_supt_cd_amt") );
        cf_setParam(ds_beforeInfo, "ocb_mcard_nm"       , div_saleInfo.cmb_ocbMcard.Text );
        cf_setParam(ds_beforeInfo, "ocb_mcard_prc"      , ds_ocbmcard.GetColumn(0,"ocb_mcard_prc") );
        cf_setParam(ds_beforeInfo, "eqp_allot_sale_prc" , ds_allotSale.GetColumn(0,"eqp_allot_sale_prc") );
        cf_setParam(ds_beforeInfo, "eqp_cash_sale_prc"  , ds_cashSale.GetColumn(0,"eqp_cash_sale_prc") );
        cf_setParam(ds_beforeInfo, "scrb_fee_cl_nm"     , div_sktPrprc.cmb_scrbFeeCl.Text );
        cf_setParam(ds_beforeInfo, "scrb_fee"           , ds_sktPrprc.GetColumn(0,"scrb_fee") );
        cf_setParam(ds_beforeInfo, "mnp_cmms_cl_nm"     , div_sktPrprc.cmb_mnpCmmsCl.Text );
        cf_setParam(ds_beforeInfo, "mnp_cmms"           , ds_sktPrprc.GetColumn(0,"mnp_cmms") );
        cf_setParam(ds_beforeInfo, "frg_grt_insu_cl_nm" , div_sktPrprc.cmb_frgGrtInsuCl.Text );
        cf_setParam(ds_beforeInfo, "frg_grt_insu_fee"   , ds_sktPrprc.GetColumn(0,"frg_grt_insu_fee") );
	    */

    }
    else if (sSvcID == "getDisEqpInfo")    //단말기 재고 상태
    {
        FV_EQP_ERR_MSG = "";
        var sConfirmYn = "N";
        //단말기 재고 상태
        if ( FV_DIS_FIRST_SEARCH_YN == "Y" )
        {
        }

        if (ds_output.rowcount > 0)
        {

             var sErrCode = ds_output.GetColumn(0,"errcode");
             if ( substr(sErrCode,0,1) == "F" )
             {
                 if (sErrCode == "F016")
                 {
				     var sConfirm = "";

					 if ( ds_generalSaleIfInfo.GetColumn(0,"color_cd") == "99" )
					 {
					     sConfirm = "1";
					 }
					 else
					 {
					     //sConfirm = Confirm(ds_output.GetColumn(0,"errmsg") + "\n PS 색상을 사용하시겠습니까?");
					     alert(ds_output.GetColumn(0,"errmsg") + "\n PS 색상을 적용합니다.");
					     sConfirm = "1";
					 }

				     if ( sConfirm == "1" )
					 {
					     sConfirmYn = "Y";
					     ds_generalSaleIfInfo.SetColumn(0,"color_cd",ds_output.GetColumn(0,"color_cd"));
					     ds_equipmentSale.SetColumn(0,"eqp_color_cd",ds_output.GetColumn(0,"color_cd"));

					     //errcode = F001 중고판매상품
					     div_eqpInfo.chk_eqpOldSaleYn.Value = "N";
                     }
                     else
                     {
					     sConfirmYn = "N";
					     //재고조정이동 불가
                     }
                 }
                 else if (sErrCode == "F001")
                 {
					 //errcode = F001 중고판매상품
					 div_eqpInfo.chk_eqpOldSaleYn.Value = "Y";
                     alert("PS 재고가 없으므로 중고판매로 처리됩니다.");

                     if (ds_eqpOldSaleBackup.GetColumn(0,"status") != "Y" || uf_IsNull(ds_eqpOldSaleBackup.GetColumn(0,"status")))
                     {
                         if ( ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") != "C" )
                         {
							 //backup
							 cf_setParam(ds_eqpOldSaleBackup, "status"           , "Y");
							 cf_setParam(ds_eqpOldSaleBackup, "eqp_settl_cond"   , ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond") );
							 cf_setParam(ds_eqpOldSaleBackup, "eqp_settl_cond_nm", ds_generalSaleIfInfo.GetColumn(0,"eqp_settl_cond_nm") );
							 cf_setParam(ds_eqpOldSaleBackup, "allot_prd_cd"     , ds_generalSaleIfInfo.GetColumn(0,"allot_prd_cd") );
							 cf_setParam(ds_eqpOldSaleBackup, "allot_prd_nm"     , ds_generalSaleIfInfo.GetColumn(0,"allot_prd_nm") );

							 //결제조건 : 할부 -> 현금
							 ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond"   ,"C");
							 ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond_nm","현금");
							 ds_generalSaleIfInfo.SetColumn(0,"allot_prd_cd"     ,"");
							 ds_generalSaleIfInfo.SetColumn(0,"allot_prd_nm"     ,"");
					     }
					 }

					 div_prcInfo.msk_eqpCashSalePrc.Enable = true;
                 }
                 else
                 {
					 //errcode = F001 중고판매상품
					 div_eqpInfo.chk_eqpOldSaleYn.Value = "N";
                     //재고 errmsg
                     FV_EQP_ERR_MSG = ds_output.GetColumn(0,"errmsg");
                 }
             }
             else
             {
			     //결제조건 : 중고판매 -> 일반판매
			     if ( div_eqpInfo.chk_eqpOldSaleYn.Value == "Y" )
			     {
			         //변경전 data로 복귀시킨다.
			         if (ds_eqpOldSaleBackup.GetColumn(0,"status") == "Y")
			         {
				         ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond"   ,ds_eqpOldSaleBackup.GetColumn(0,"eqp_settl_cond") );
				         ds_generalSaleIfInfo.SetColumn(0,"eqp_settl_cond_nm",ds_eqpOldSaleBackup.GetColumn(0,"eqp_settl_cond_nm") );
				         ds_generalSaleIfInfo.SetColumn(0,"allot_prd_cd"     ,ds_eqpOldSaleBackup.GetColumn(0,"allot_prd_cd"));
				         ds_generalSaleIfInfo.SetColumn(0,"allot_prd_nm"     ,ds_eqpOldSaleBackup.GetColumn(0,"allot_prd_nm"));
			             ds_eqpOldSaleBackup.ClearData();
			         }
			     }

                 div_eqpInfo.edt_eqpHldPlcNm.Text = div_dealCoInfo.edt_salePlcNm.Text;
                 div_eqpInfo.chk_eqpOldSaleYn.Value = "N";
             }

             FV_EQP_ERR_CODE = sErrCode;

             //단말기 재고 상태가 0:정상, 1: 오류
             if ( sErrCode == "S" || sErrCode == "F001" )
             {
                 FV_DIS_EQP_ERR_STATUS = "0";
             }
             else if ( sErrCode == "F016" )
             {
                 if ( sConfirmYn == "Y" )
                 {
                     FV_DIS_EQP_ERR_STATUS = "0";
                 }
                 else
                 {
                     FV_DIS_EQP_ERR_STATUS = "1";
                 }
             }
             else
             {
                 FV_DIS_EQP_ERR_STATUS = "1";
             }

             if (ds_output.rowcount == 1)
             {
                 cf_setParam(ds_disEqpInfo, "eqp_ser_num"     ,ds_output.getcolumn(0,"ser_num"));
                 cf_setParam(ds_disEqpInfo, "eqp_mdl_cd"      ,ds_output.getcolumn(0,"prod_cd"));
                 cf_setParam(ds_disEqpInfo, "eqp_mdl_nm"      ,ds_output.getcolumn(0,"prod_nm"));
                 cf_setParam(ds_disEqpInfo, "color_cd"        ,ds_output.getcolumn(0,"color_cd"));
                 cf_setParam(ds_disEqpInfo, "color_nm"        ,ds_output.getcolumn(0,"color_nm"));
                 //cf_setParam(ds_disEqpInfo, "hld_plc_id"      ,ds_output.getcolumn(0,"hld_plc_id"));
                 //cf_setParam(ds_disEqpInfo, "hld_plc_nm"      ,ds_output.getcolumn(0,"hld_plc_nm"));
                 cf_setParam(ds_disEqpInfo, "dis_hld_plc_id"  ,ds_output.getcolumn(0,"dis_hld_plc_id"));
                 cf_setParam(ds_disEqpInfo, "dis_upd_cnt"     ,ds_output.getcolumn(0,"dis_upd_cnt"));
                 cf_setParam(ds_disEqpInfo, "eqp_old_sale_yn" ,div_eqpInfo.chk_eqpOldSaleYn.Value );

                 cf_setParam(ds_equipmentSale, "hld_plc_id"   ,ds_output.getcolumn(0,"dis_hld_plc_id"));
             }

             lf_getHldPlc("1",ds_output.getcolumn(0,"dis_hld_plc_id"));
             lf_chkSlNetCd();

        }
        else
        {
            FV_EQP_ERR_MSG = "일련번호에 해당하는 단말기 정보가 없습니다.";
        }

    }
    else if (sSvcID == "getDisTloginInfo")    //TLOGIN단말기 재고 상태
    {
        FV_TLOGIN_ERR_MSG = "";
        var sConfirmYn = "N";

        if (ds_output.rowcount > 0)
        {
             var sErrCode = ds_output.GetColumn(0,"errcode");
             if ( substr(sErrCode,0,1) == "F" )
             {
                 if (sErrCode == "F016")
                 {
				     var sConfirm = "";

					 if ( ds_generalSaleIfInfo.GetColumn(0,"tlogin_color_cd") == "99" )
					 {
					     sConfirm = "1";
					 }
					 else
					 {
					     //sConfirm = Confirm(ds_output.GetColumn(0,"errmsg") + "\n PS 색상을 사용하시겠습니까?");
					     alert(ds_output.GetColumn(0,"errmsg") + "\n PS 색상을 적용합니다.");
					     sConfirm = "1";
					 }

				     if ( sConfirm == "1" )
					 {
					     sConfirmYn = "Y";
					     ds_generalSaleIfInfo.SetColumn(0,"tlogin_color_cd",ds_output.GetColumn(0,"color_cd"));
					     ds_tloginSale.SetColumn(0,"tlogin_color_cd",ds_output.GetColumn(0,"color_cd"));

					     //errcode = F001 중고판매상품
					     div_tloginInfo.chk_tloginOldSaleYn.Value = "N";
                     }
                     else
                     {
					     //재고조정이동 불가
					     //저장 불가
					     sConfirmYn = "N";
                     }
                 }
                 else if (sErrCode == "F001")
                 {
					 //errcode = F001 중고판매상품
					 div_tloginInfo.chk_tloginOldSaleYn.Value = "Y";
                     alert("TLOGIN PS 재고가 없으므로 중고판매로 처리됩니다.");
                 }
                 else
                 {
					 //errcode = F001 중고판매상품
					 div_tloginInfo.chk_tloginOldSaleYn.Value = "N";
                     //재고 errmsg
                     FV_TLOGIN_ERR_MSG = ds_output.GetColumn(0,"errmsg");
                 }
             }
             else
             {
			     div_tloginInfo.chk_tloginOldSaleYn.Value = "N";
             }

             FV_TLOGIN_ERR_CODE = sErrCode;

             //단말기 재고 상태가 0:정상, 1: 오류
             if ( sErrCode == "S" || sErrCode == "F001" )
             {
                 FV_DIS_TLOGIN_ERR_STATUS = "0";
             }
             else if ( sErrCode == "F016" )
             {
                 if ( sConfirmYn == "Y" )
                 {
                     FV_DIS_TLOGIN_ERR_STATUS = "0";
                 }
                 else
                 {
                     FV_DIS_TLOGIN_ERR_STATUS = "1";
                 }
             }
             else
             {
                 FV_DIS_TLOGIN_ERR_STATUS = "1";
             }

             if (ds_output.rowcount == 1)
             {
                 cf_setParam(ds_disTloginInfo, "tlogin_ser_num"     ,ds_output.getcolumn(0,"ser_num"));
                 cf_setParam(ds_disTloginInfo, "tlogin_mdl_cd"      ,ds_output.getcolumn(0,"prod_cd"));
                 cf_setParam(ds_disTloginInfo, "tlogin_mdl_nm"      ,ds_output.getcolumn(0,"prod_nm"));
                 cf_setParam(ds_disTloginInfo, "tlogin_color_cd"    ,ds_output.getcolumn(0,"color_cd"));
                 cf_setParam(ds_disTloginInfo, "tlogin_color_nm"    ,ds_output.getcolumn(0,"color_nm"));
                 cf_setParam(ds_disTloginInfo, "dis_hld_plc_id"  	,ds_output.getcolumn(0,"dis_hld_plc_id"));
                 cf_setParam(ds_disTloginInfo, "dis_upd_cnt"     	,ds_output.getcolumn(0,"dis_upd_cnt"));
                 cf_setParam(ds_disTloginInfo, "tlogin_old_sale_yn" ,div_tloginInfo.chk_tloginOldSaleYn.Value);

                 cf_setParam(ds_tloginSale, "hld_plc_id"   ,ds_output.getcolumn(0,"dis_hld_plc_id"));
             }

             lf_getTloginHldPlc("1",ds_output.getcolumn(0,"dis_hld_plc_id"));
        }
        else
        {
            FV_TLOGIN_ERR_MSG = "일련번호에 해당하는 TLOGIN단말기 정보가 없습니다.";
        }
    }
    else if (sSvcID == "getDisUsimInfo")   //USIM 재고 상태
    {
        FV_USIM_ERR_MSG = "";

        if (ds_output.rowcount > 0)
        {
             var sErrCode = ds_output.GetColumn(0,"errcode");

             if ( substr(sErrCode,0,1) == "F" )
             {

                 if (sErrCode == "F001")
                 {
					 //errcode = F001 중고판매상품
					 div_usimInfo.chk_usimOldSaleYn.Value = "Y";

                     if (ds_usimOldSaleBackup.GetColumn(0,"status") != "Y" || uf_IsNull(ds_usimOldSaleBackup.GetColumn(0,"status")) )
                     {
						 //backup
						 cf_setParam(ds_usimOldSaleBackup, "status"          , "Y");
						 cf_setParam(ds_usimOldSaleBackup, "usim_allot_cl"   , ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl") );
						 cf_setParam(ds_usimOldSaleBackup, "usim_allot_cl_nm", ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl_nm") );
						 cf_setParam(ds_usimOldSaleBackup, "usim_allot_prc"  , ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc") );

						 //결제조건 : 할부 -> 현금
						 ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl"   ,"N");
						 ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl_nm","선납");
						 ds_generalSaleIfInfo.SetColumn(0,"usim_allot_prc"  ,"0");
						 div_usimInfo.msk_usimSalePrc.Value = "0";
					 }

					 div_usimInfo.msk_usimSalePrc.Enable = true;
                 }
                 else
                 {
					 //errcode = F001 중고판매상품
					 div_usimInfo.chk_usimOldSaleYn.Value = "N";

                     FV_USIM_ERR_MSG = ds_output.GetColumn(0,"errmsg");
                 }
             }
             else
             {
			     //결제조건 : 중고판매 -> 일반판매
			     if ( div_usimInfo.chk_usimOldSaleYn.Value == "Y" )
			     {
			         //변경전 data로 복귀시킨다.
			         if (ds_usimOldSaleBackup.GetColumn(0,"status") == "Y")
			         {
				         ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl"   ,ds_usimOldSaleBackup.GetColumn(0,"usim_allot_cl") );
				         ds_generalSaleIfInfo.SetColumn(0,"usim_allot_cl_nm",ds_usimOldSaleBackup.GetColumn(0,"usim_allot_cl_nm") );
				         ds_generalSaleIfInfo.SetColumn(0,"usim_allot_prc"  ,ds_usimOldSaleBackup.GetColumn(0,"usim_allot_prc") );
	    				 div_usimInfo.msk_usimSalePrc.Value = ds_usimOldSaleBackup.GetColumn(0,"usim_allot_prc");
			             ds_usimOldSaleBackup.ClearData();
			         }
			     }

                 div_usimInfo.edt_usimHldPlcNm.Text = div_dealCoInfo.edt_salePlcNm.Text;
                 div_usimInfo.chk_usimOldSaleYn.Value = "N";
             }

             FV_USIM_ERR_CODE = sErrCode;

             //USIM 재고 상태가 0:정상, 1: 오류
             if ( sErrCode == "S" || sErrCode == "F001" )
             {
                 FV_DIS_USIM_ERR_STATUS = "0";
             }
             else
             {
                 FV_DIS_USIM_ERR_STATUS = "1";
             }

             if (ds_output.rowcount == 1)
             {
                 cf_setParam(ds_disUsimInfo, "usim_ser_num"    ,ds_output.getcolumn(0,"ser_num"));
                 cf_setParam(ds_disUsimInfo, "usim_mdl_cd"     ,ds_output.getcolumn(0,"prod_cd"));
                 cf_setParam(ds_disUsimInfo, "usim_mdl_nm"     ,ds_output.getcolumn(0,"prod_nm"));
                 cf_setParam(ds_disUsimInfo, "color_cd"        ,ds_output.getcolumn(0,"color_cd"));
                 cf_setParam(ds_disUsimInfo, "color_nm"        ,ds_output.getcolumn(0,"color_nm"));
                 //cf_setParam(ds_disUsimInfo, "hld_plc_id"      ,ds_output.getcolumn(0,"hld_plc_id"));
                 //cf_setParam(ds_disUsimInfo, "hld_plc_nm"      ,ds_output.getcolumn(0,"hld_plc_nm"));
                 cf_setParam(ds_disUsimInfo, "dis_hld_plc_id"  ,ds_output.getcolumn(0,"dis_hld_plc_id"));
                 cf_setParam(ds_disUsimInfo, "dis_upd_cnt"     ,ds_output.getcolumn(0,"dis_upd_cnt"));
                 cf_setParam(ds_disUsimInfo, "usim_old_sale_yn",div_usimInfo.chk_usimOldSaleYn.Value );

                 cf_setParam(ds_usimSale, "hld_plc_id"   ,ds_output.getcolumn(0,"dis_hld_plc_id"));
                 //div_usimInfo.edt_usimHldPlcNm.Text = ds_output.getcolumn(0,"hld_plc_nm");
             }
             lf_getHldPlc("2", ds_output.getcolumn(0,"dis_hld_plc_id"));

             if (ds_generalSale.GetColumn(0,"sale_chg_hst_cl") == "02" && FV_USIM_CHG_YN == "X" )
	 		 {
                 if ( uf_IsNull(ds_usimSale.GetColumn(0,"usim_old_sale_yn")) )
				 {
				     cf_setParam(ds_usimSale, "usim_old_sale_yn" , "N" );
				 }
			 }
        }
        else
        {
            FV_USIM_ERR_MSG = "일련번호에 해당하는 USIM 정보가 없습니다.";
        }

    }
    else if (sSvcID == "getStlPlcByDealCoCd")  //판매처별 정산처 조회
    {
        if (ds_output.rowcount > 0)
        {
            if (uf_IsNull(ds_output.GetColumn(0,"stl_plc")) )
            {
                alert("판매처에 대한 정산처가 없습니다.");
                return;
            }

            if (uf_IsNull(ds_output.GetColumn(0,"dis_hld_plc")) )
            {
                alert("판매처에 대한 재고보유처가 없습니다.");
                return;
            }

            div_dealCoInfo.edt_stlPlc.Text   = ds_output.GetColumn(0,"stl_plc");
            div_dealCoInfo.edt_stlPlcNm.Text = ds_output.GetColumn(0,"stl_plc_nm");

            div_dealCoInfo.edt_disHldPlc.Text   = ds_output.GetColumn(0,"dis_hld_plc");
            div_dealCoInfo.edt_posAgencyCd.Text = ds_output.GetColumn(0,"pos_agency");
        }
        else
        {
            div_dealCoInfo.edt_stlPlc.Text    = "";
            div_dealCoInfo.edt_stlPlcNm.Text  = "";

            div_dealCoInfo.edt_disHldPlc.Text = "";
            div_dealCoInfo.edt_posAgencyCd.Text = "";
        }
        return;
    }
    else if (sSvcID == "getEqpHldPlcByDealCoCd")  //단말기 재고보유처
    {
        if (ds_output.rowcount > 0)
        {
            cf_setParam(ds_disEqpInfo,"dis_hld_plc_nm", ds_output.GetColumn(0,"deal_co_nm"));
            div_eqpInfo.edt_eqpHldPlcNm.Text = ds_output.GetColumn(0,"deal_co_nm");
        }
        else
        {
            cf_setParam(ds_disEqpInfo,"dis_hld_plc_nm", "");
        }

        return;
    }
    else if (sSvcID == "getTloginHldPlcByDealCoCd")  //TLOGIN단말기 재고보유처
    {
        if (ds_output.rowcount > 0)
        {
            cf_setParam(ds_disTloginInfo,"dis_hld_plc_nm", ds_output.GetColumn(0,"deal_co_nm"));
            div_tloginInfo.edt_tloginHldPlcNm.Text = ds_output.GetColumn(0,"deal_co_nm");
        }
        else
        {
            cf_setParam(ds_disTloginInfo,"dis_hld_plc_nm", "");
        }
        return;
    }
    else if (sSvcID == "getUsimHldPlcByDealCoCd")  //USIM 재고보유처
    {
        if (ds_output.rowcount > 0)
        {
            cf_setParam(ds_disUsimInfo,"dis_hld_plc_nm", ds_output.GetColumn(0,"deal_co_nm"));
            div_usimInfo.edt_usimHldPlcNm.Text = ds_output.GetColumn(0,"deal_co_nm");
        }
        else
        {
            cf_setParam(ds_disUsimInfo,"dis_hld_plc_nm", "");
        }
        return;
    }

    if (sSvcID == "getUplst")      //USIM 단가표 조회
    {
		FV_USIM_POL_ERR_CODE = "";
		FV_USIM_POL_ERR_MSG  = "";

        if (ds_uplst.rowcount > 0)
        {

            if (ds_generalSaleIfInfo.GetColumn(0,"usim_allot_cl") == "Y" )
            {
                div_usimInfo.msk_usimSalePrc.Value  = ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc");
                div_usimInfo.msk_usimSalePrc.Enable = false;

                cf_setParam(ds_allotSale, "ps_usim_allot_sale_prc"  , ds_uplst.GetColumn(0,"fix_strd_sale_prc"));

                if ( ds_uplst.GetColumn(0,"fix_strd_sale_prc") != ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc") )
                {
				    FV_USIM_POL_ERR_CODE = "20";
				    FV_USIM_POL_ERR_MSG  = "USIM 후납금액 Ukey["+ds_generalSaleIfInfo.GetColumn(0,"usim_allot_prc")+"] PS["+ds_uplst.GetColumn(0,"fix_strd_sale_prc")+"] 오류입니다.";
				}
            }
            else
            {
                div_usimInfo.msk_usimSalePrc.Value = ds_uplst.GetColumn(0,"fix_strd_sale_prc");
                div_usimInfo.msk_usimSalePrc.Enable = true;
            }
            //btn_save.Enable = false;
        }
        else
        {
            div_usimInfo.msk_usimSalePrc.Value = 0;
	        div_usimInfo.msk_usimSalePrc.Enable = false;

            btn_save.Enable = false;

            FV_USIM_POL_ERR_CODE = "";
            FV_USIM_POL_ERR_MSG  = "운영모델단가표에 USIM판매가격 정책이 없습니다.";

        }
        return;
    }

    if (sSvcID == "getSplstMdlInfo" )  //단말기 단가표 조회
    {

        div_prcInfo.msk_eqpAllotSalePrc.Enable = false;

		FV_EQP_POL_ERR_CODE = "";
		FV_EQP_POL_ERR_MSG  = "";

		var sCalAllotSalePrc = 0;

		if(div_prodExchange.cmb_saleChgHstCl.Value == "09" )
		{
		    if(ds_splstMdl.rowcount > 0)
		    {
				btn_save.Enable = true;
		    }
		    else
		    {
		        //lf_setNonOldRtn();
				btn_save.Enable = false;

				FV_EQP_POL_ERR_CODE = "";
				FV_EQP_POL_ERR_MSG  = "모델별판매가격표에 단말기판매가격 정책이 없습니다.";
		    }
		    return;
		}
        else if(ds_splstMdl.rowcount > 0)
        {
            //단말기 결제 조건에 따른 처리
            if (ds_generalSale.GetColumn(0,"settl_cond") == "A" )
            {

                sCalAllotSalePrc = lf_calAllotSalePrc();

                div_prcInfo.msk_eqpAllotSalePrc.Value = sCalAllotSalePrc;
                div_prcInfo.msk_eqpCashSalePrc.value = 0;
                div_prcInfo.msk_eqpCashSalePrc.Enable = true;

                cf_setParam(ds_allotSale, "ps_eqp_allot_sale_prc"  , ds_splstMdl.GetColumn(0,"allot_sale_prc"));

                if ( ds_splstMdl.GetColumn(0,"allot_sale_prc") != sCalAllotSalePrc )
                {
				    FV_EQP_POL_ERR_CODE = "20";
				    FV_EQP_POL_ERR_MSG  = "할부판매가 Ukey["+sCalAllotSalePrc+"] PS["+ds_splstMdl.GetColumn(0,"allot_sale_prc")+"] 오류입니다.";
				}
            }
            else
            {
                div_prcInfo.msk_eqpAllotSalePrc.Value = 0;
                div_prcInfo.msk_eqpCashSalePrc.value = ds_splstMdl.GetColumn(0,"cash_sale_prc");
                //div_prcInfo.msk_eqpCashSalePrc.value = ds_generalSaleIfInfo.GetColumn(0,"cash_sale_prc");
                div_prcInfo.msk_eqpCashSalePrc.Enable = true;
            }

            btn_payment.Enable = true;
            lf_enableBtnSave("0");

            //중고반납여부 check
            if ( ds_splstMdl.GetColumn(0,"old_rtn_yn") == "Y" )
            {
                div_saleInfo.btn_oldRtn.Enable = true;
            }
            else
            {
                div_saleInfo.btn_oldRtn.Enable = false;
            }
        }
        else
        {
            if (ds_generalSale.GetColumn(0,"settl_cond") == "A" )
            {
                sCalAllotSalePrc = lf_calAllotSalePrc();

                div_prcInfo.msk_eqpAllotSalePrc.Value = sCalAllotSalePrc;
                div_prcInfo.msk_eqpCashSalePrc.value = 0;

                div_prcInfo.msk_eqpCashSalePrc.Enable = false;
            }
            else if(ds_generalSale.GetColumn(0,"settl_cond") == "C" )
            {
                div_prcInfo.msk_eqpAllotSalePrc.value =  0;
                div_prcInfo.msk_eqpCashSalePrc.value = 0;

                div_prcInfo.msk_eqpCashSalePrc.Enable = true;
            }
            else
            {
                div_prcInfo.msk_eqpAllotSalePrc.value =  0;
                div_prcInfo.msk_eqpCashSalePrc.value = 0;

                div_prcInfo.msk_eqpCashSalePrc.Enable = false;
            }

            div_saleInfo.btn_oldRtn.Enable = false;
            btn_payment.Enable = true;
            btn_save.Enable = false;

            FV_EQP_POL_ERR_CODE = "";
            FV_EQP_POL_ERR_MSG  = "모델별판매가격표에 단말기판매가격 정책이 없습니다.";

        }
        //가격표 조회후...
        lf_getOldSaleInfo();
        return;
    }

    if (sSvcID = "addEqpUsimTloginDisDtr")
    {
        if ( ds_rtnDisDtr.rowcount > 0 )
        {
            var errmsg = "";

            if (ds_rtnDisDtr.GetColumn(0,"eqp_errcode") == "F" || ds_rtnDisDtr.GetColumn(0,"eqp_errcode") == "E")
            {
                errmsg = "단말기 : " + ds_rtnDisDtr.GetColumn(0,"eqp_errmsg") + "\n";
            }

            if (ds_rtnDisDtr.GetColumn(0,"tlogin_errcode") == "F" || ds_rtnDisDtr.GetColumn(0,"tlogin_errcode") == "E")
            {
                errmsg = "TLOGIN단말기 : " + ds_rtnDisDtr.GetColumn(0,"tlogin_errmsg") + "\n";
            }

            if (ds_rtnDisDtr.GetColumn(0,"usim_errcode") == "F" || ds_rtnDisDtr.GetColumn(0,"usim_errcode") == "E")
            {
                errmsg = "USIM : " + ds_rtnDisDtr.GetColumn(0,"eqp_errmsg");
            }

            if ( !uf_IsNull(errmsg) )
            {
                alert(errmsg);
                return;
            }
            else
            {
                alert("재고조정이동이 완료 되었습니다.\n재고상태를 자동 조회 합니다.");
                lf_getDisInfo("true","true",div_prodExchange.cmb_saleChgHstCl.Value);
            }
        }
        return;
    }

    if (sSvcID == "getProdNm")
    {
        if ( ds_param.GetColumn(0,"prod_cl") == "1" )
        {
	        cf_setParam(ds_equipmentSale, "eqp_mdl_nm" , ds_param.GetColumn(0,"prod_nm") );
        }
        else
        {
	        cf_setParam(ds_usimSale, "usim_mdl_nm" , ds_param.GetColumn(0,"prod_nm") );
        }
        return;
    }

    if (sSvcID == "saveSaleChgInfo")
    {
        //cf_callnClose(excuteMethod, "");
        return;
    }


    if(sSvcId == "getOldSaleInfo")
    {
        if (substr(ds_generalSaleIfInfo.GetColumn(0,"sale_dtl_typ"),0,2) == "S2")
        {
            lf_setOldRtn();
        }
        else
        {
            lf_setNonOldRtn();
        }
    }

    return;
}

/*******************************************************************************
 * @description         : 재고 호출 시점 구분
 *                        인터페이스 Data 조회 후 callback, 판매처 셋팅 시 2번 조회 할 수
 *                        있기 때문에 FV_DIS_FIRST_SEARCH_YN로 구분
*******************************************************************************/
function lf_getDisInfo(sDisFlag, sUsimFlag, sSaleChgHstCl)
{
    var sFlag = "true";

    if ( uf_IsNull(div_prodExchange.cal_saleChgDtm.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_prodExchange.edt_saleChgDtmHh.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_prodExchange.edt_saleChgDtmMm.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_salePlc.Text ) )
    {
        sFlag = "false";
    }

    if (sFlag == "true")
    {
		if( sDisFlag == "true" )
		{
			//단말기 재고
			lf_getDisEqpInfo();
			//TLOGIN 재고
			lf_getDisTloginInfo();
			//USIM 재고
			lf_getDisUsimInfo();
		}

        var sCompareValue = lf_compareDis(FV_DIS_EQP_ERR_STATUS, FV_DIS_TLOGIN_ERR_STATUS, FV_DIS_USIM_ERR_STATUS);

        if ( sCompareValue  == "0" )
        {

            if ( sSaleChgHstCl != "02")
            {
				//단말기 모델별판매가격표 조회
				f_getSplstMdlInfo();

				if(sUsimFlag == "true")
				{
					//USIM 운영단가표 조회
					f_getUplst();
				}
			}


            FV_DIS_ERR_YN = "N";

            lf_prodErrMsg("2", FV_EQP_POL_ERR_CODE, FV_EQP_POL_ERR_MSG, FV_TLOGIN_POL_ERR_CODE, FV_TLOGIN_POL_ERR_MSG, FV_USIM_POL_ERR_CODE, FV_USIM_POL_ERR_MSG);
        }
        else
        {
            lf_enableBtnSave(sCompareValue);
        }
    }
}

/*******************************************************************************
 * @description         : 재고 - 단말기 재고 상태 조회
 *                               인터페이스 전문 Data에 단말기 모델과 일련번호가 있으면 조회
*******************************************************************************/
function lf_getDisEqpInfo()
{
    var sFlag    = "false";  //재고 조회 flag - true : 조회, false : skip
	var sSerNum  = trim(ds_generalSaleIfInfo.GetColumn(0,"eqp_ser_num"));       //일련번호
	var sMdlCd   = trim(ds_generalSaleIfInfo.GetColumn(0,"eqp_mdl_cd" ));       //모델코드
	var sColorCd = trim(ds_generalSaleIfInfo.GetColumn(0,"color_cd" ));         //색상코드

	//단말기 변경전 일련번호, 모델, 색상 비교
	if ( uf_IsNull(sSerNum) || ( sSerNum  == ds_equipmentSale.GetColumn(0,"eqp_ser_num_old")
	                          && sColorCd == ds_equipmentSale.GetColumn(0,"eqp_color_cd_old")
	                          && sMdlCd   == ds_equipmentSale.GetColumn(0,"eqp_mdl_cd_old")) )
	{
	    sFlag = "false";
	}
	else
    {
        sFlag = "true";
    }

    if ( sFlag == "true")
    {
	    var sSvcId   = "getDisEqpInfo";  //callback svcId
	    var sColorCd = sColorCd;         //색상코드
	    var sProdCl  = "1";              //상품구분

	    lf_getDisProdInfo(sSvcId, sProdCl, sSerNum, sMdlCd, sColorCd);
	}
}

/*******************************************************************************
 * @description         : 재고 - TLOGIN단말기 재고 상태 조회
 *                               인터페이스 전문 Data에 단말기 모델과 일련번호가 있으면 조회
*******************************************************************************/
function lf_getDisTloginInfo()
{
    var sFlag    = "false";  //재고 조회 flag - true : 조회, false : skip
	var sSerNum  = trim(ds_generalSaleIfInfo.GetColumn(0,"tlogin_ser_num"));       		//일련번호
	var sMdlCd   = trim(ds_generalSaleIfInfo.GetColumn(0,"tlogin_mdl_cd" ));       		//모델코드
	var sColorCd = trim(ds_generalSaleIfInfo.GetColumn(0,"tlogin_color_cd" ));         	//색상코드

	//단말기 변경전 일련번호, 모델, 색상 비교
	if ( uf_IsNull(sSerNum) || ( sSerNum  == ds_tloginSale.GetColumn(0,"tlogin_ser_num_old")
	                          && sColorCd == ds_tloginSale.GetColumn(0,"tlogin_color_cd_old")
	                          && sMdlCd   == ds_tloginSale.GetColumn(0,"tlogin_mdl_cd_old")) )
	{
	    sFlag = "false";
	}
	else
    {
        sFlag = "true";
    }

    if ( sFlag == "true")
    {
	    var sSvcId   = "getDisTloginInfo";  //callback svcId
	    var sColorCd = sColorCd;         	//색상코드
	    var sProdCl  = "1";              	//상품구분

	    lf_getDisProdInfo(sSvcId, sProdCl, sSerNum, sMdlCd, sColorCd);
	}
}

/*******************************************************************************
 * @description         : 재고 - USIM 재고 상태 조회
 *                               인터페이스 전문 Data에 USIM 모델과 일련번호가 있으면 조회
*******************************************************************************/
function lf_getDisUsimInfo()
{
    var sFlag = "false";
    var sSerNum = trim(ds_generalSaleIfInfo.GetColumn(0,"usim_ser_num"));
    var sMdlCd  = trim(ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_cd" ));

    //USIM 변경전 일련번호, 모델코드 비교
    if ( uf_IsNull(sSerNum) || ( sSerNum == ds_usimSale.GetColumn(0,"usim_ser_num_old")
                              && sMdlCd  == ds_usimSale.GetColumn(0,"usim_mdl_cd_old") ) )
    {
        sFlag = "false";
    }
    else
    {
        sFlag = "true";
    }

    if ( sFlag == "true" )
    {
        var sSvcId   = "getDisUsimInfo";                                   //callback svcId
	    var sColorCd = "99";                                               //색상코드 99:공통색상
        var sProdCl  = "2";                                                //상품구분

        lf_getDisProdInfo(sSvcId, sProdCl, sSerNum, sMdlCd, sColorCd);
    }
}

/*******************************************************************************
 * @description    : 단말기/USIM 상품 정보 및 재고 상태 조회
 *                   sSvcId : callBack svcID
 *                   sProdCl : 단말기/USIM 구분 (1:단말기,2:USIM,9:기타)
 *                   sSerNum : 단말기/USIM 일련번호
 *                   sMdlCd  : 모델코드
 *                   sColorCd: 색상코드
 ******************************************************************************/
function lf_getDisProdInfo(sSvcId, sProdCl, sSerNum, sMdlCd, sColorCd)
{
    //판매일시/판매변경일시(14자리)
    var sSaleDtm = "";
    if (ds_generalSale.GetColumn(0,"sale_chg_hst_cl") == "02" )
    {
        sSaleDtm  = FV_PROC_DTM;
    }
    else
    {
        sSaleDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00";
    }

    //처리 조건
    ds_input.clear();
    cf_setParam(ds_input, "sale_dtm"  , sSaleDtm);                          //판매일시
    cf_setParam(ds_input, "sale_plc"  , div_dealCoInfo.edt_disHldPlc.Text );  //판매처
    cf_setParam(ds_input, "prod_cl"   , sProdCl );                          //상품구분 1:단말기,2:USIM,9:기타
    cf_setParam(ds_input, "ser_num"   , sSerNum );                          //일련번호
    cf_setParam(ds_input, "prod_cd"   , sMdlCd  );                          //상품코드
    cf_setParam(ds_input, "color_cd"  , sColorCd);                          //상품색상코드
    cf_setParam(ds_input, "sale_qty"  , "1");                               //상품판매수량

	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_output=DisProdList";
	var sArg   = "sktst.sal.SCO#getDisProdList";

	http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;
}

/*******************************************************************************
 * @description    : 판매정보 -
*******************************************************************************/
function div_saleInfo_cmb_saleDtlTyp_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    FV_GET_SPLST_MDL_YN = "N";
}

/*******************************************************************************
 * @description    : 중고반납팝업화면 호출
*******************************************************************************/
function div_saleInfo_btn_oldRtn_OnClick(obj)
{

    //ds_param.CopyRow(0,"ds_oldrtnEquipment",0);
    ds_param.SetColumn(0, "old_rtn_typ"            , ds_oldrtnEquipment.GetColumn(0,"old_rtn_typ"));
	ds_param.SetColumn(0, "old_rtn_typ_nm"         , ds_oldrtnEquipment.GetColumn(0,"old_rtn_typ_nm"));
	ds_param.SetColumn(0, "old_rtn_cust_rtn_typ"   , ds_oldrtnEquipment.GetColumn(0,"old_rtn_cust_rtn_typ"));
	ds_param.SetColumn(0, "old_rtn_cust_rtn_typ_nm", ds_oldrtnEquipment.GetColumn(0,"old_rtn_cust_rtn_typ_nm"));
	ds_param.SetColumn(0, "old_rtn_schd_dt"        , ds_oldrtnEquipment.GetColumn(0,"old_rtn_schd_dt"));
	ds_param.SetColumn(0, "old_rtn_mdl"            , ds_oldrtnEquipment.GetColumn(0,"old_rtn_mdl"));
	ds_param.SetColumn(0, "old_rtn_ser_num"        , ds_oldrtnEquipment.GetColumn(0,"old_rtn_ser_num"));

	var sArg  = "excuteMethod="  + quote("lf_OldRtnPopupClose");

	// 팝업 함수
	dialog("SAL::SALSCP00300.xml", sArg, 400,400);
}

/*******************************************************************************
 * @description    : 부가서비스팝업화면 호출
*******************************************************************************/
function btn_supservice_OnClick(obj)
{
    if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) )
    {
        alert("영업망을 선택해 주십시요.");
        return;
    }

    ds_param.Copy("ds_suplservice");

    var sOrgId = div_dealcoInfo.edt_posAgencyCd.Text;//gds_session.GetColumn(0,"posAgencyId");

    var sSaleChgDtm = div_prodExchange.cal_saleChgDtm.Value + div_prodExchange.edt_saleChgDtmHh.Text + div_prodExchange.edt_saleChgDtmMm.Text + "00" ;

	var sArg  =  "excuteMethod="    + quote("lf_supservicePopupClose");
	    sArg  += " p_saleDtm="      + quote(sSaleChgDtm);                                 //판매일시
	    sArg  += " p_slNetCd="      + quote(div_saleInfo.cmb_slNetCd.Value);              //영업망코드
	    sArg  += " p_saleDtlTyp="   + quote(ds_generalSale.GetColumn(0,"sale_dtl_typ"));  //판매유형
	    sArg  += " p_dsNetCd="      + quote(ds_generalSale.GetColumn(0,"ds_net_cd"));     //유통망코드
	    sArg  += " p_orgId="        + quote(sOrgId);                                      //조직ID
	    sArg  += " p_slCl="         + quote(ds_generalSale.GetColumn(0,"sl_cl"));         //영업구분
	    sArg  += " p_svcDt="        + quote(div_dealCoInfo.cal_svcDtm.Value );            //개통일
	    sArg  += " p_salePlc="      + quote(div_dealCoInfo.edt_salePlc.Text );
	    sArg  += " p_mdlCd="        + quote(ds_equipmentSale.GetColumn(0,"eqp_mdl_cd") );

	// 팝업 함수
	dialog("SAL::SALSCP00400.xml", sArg, 400,400);
}

/*******************************************************************************
 * @description    : 변경처 조회
*******************************************************************************/
function div_prodExchange_edt_saleChgPlcNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	sf_clearControls("div_prodExchange.edt_saleChgPlcUkeyCd,div_prodExchange.edt_saleChgPlcSubCd,div_prodExchange.edt_saleChgPlcChannelCd,div_prodExchange.edt_saleChgPlc");
	if(nChar == 13)
	{
        lf_getSaleChgPlcInfo();
        f_getSaleChgChgrgId();
	}
}

function div_prodExchange_edt_saleChgPlc_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
    if ( nChar == 13 )
    {
        lf_getSaleChgPlcInfo();
        f_getSaleChgChgrgId();
	}
}

function div_prodExchange_btn_saleChgPlc_OnClick(obj)
{
    lf_getSaleChgPlcInfo();
    f_getSaleChgChgrgId();
}

function lf_getSaleChgPlcInfo()
{
	sf_clearControls("div_prodExchange.edt_saleChgPlcUkeyCd,div_prodExchange.edt_saleChgPlcSubCd,div_prodExchange.edt_saleChgPlcChannelCd");
	var sSaleChgDtm = div_prodExchange.cal_saleChgDtm.Value + div_prodExchange.edt_saleChgDtmHh.Text + div_prodExchange.edt_saleChgDtmMm.Text;

	var sArg  = "deal_co_cl1=" +quote(sf_getDealCoCl1());
		sArg += " deal_status="+quote("3"); 	//옵션 (거래처 상태) - 1: 수납정지 N  , 2: 출고정지 N , 3: 판매정지 N
		sArg += " pos_agency=" +quote(gds_session.GetColumn(0,"posAgencyId")); // 옵션
		sArg += " eff_dtm="    +quote(sSaleChgDtm);
		sArg += " deal_co_cd=" +quote(div_prodExchange.edt_saleChgPlc.Text );

	cf_callDealPop(sArg, div_prodExchange, "edt_saleChgPlcNm,edt_saleChgPlc,edt_saleChgPlcUkeyCd,edt_saleChgPlcSubCd,edt_saleChgPlcChannelCd");
}

/*******************************************************************************
 * @description    : 판매처 조회
*******************************************************************************/
function div_dealCoInfo_edt_salePlcNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if(nChar == 13)
	{
        lf_getSalePlcInfo();
	    f_getSaleChgrgId();
	}
}

function div_dealCoInfo_btn_salePlc_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	sf_clearControls("div_dealCoInfo.edt_salePlcUkeyCd,div_dealCoInfo.edt_salePlcSubCd,div_dealCoInfo.edt_salePlcChannelCd,div_dealCoInfo.edt_salePlc");
    if ( nChar == 13 )
    {
        lf_getSalePlcInfo();
	    f_getSaleChgrgId();
	}
}

function div_dealCoInfo_btn_salePlc_OnClick(obj)
{
    lf_getSalePlcInfo();
	f_getSaleChgrgId();
}

function lf_getSalePlcInfo()
{
	sf_clearControls("div_dealCoInfo.edt_salePlcUkeyCd,div_dealCoInfo.edt_salePlcSubCd,div_dealCoInfo.edt_salePlcChannelCd");
	//var sSaleDtm = div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text;
	//var sSvcDtm = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text;

	var sArg  = "deal_co_cl1=" +quote(sf_getDealCoCl1());
		sArg += " deal_status="+quote("3"); 	//옵션 (거래처 상태) - 1: 수납정지 N  , 2: 출고정지 N , 3: 판매정지 N
		sArg += " pos_agency=" +quote(gds_session.GetColumn(0,"posAgencyId")); // 옵션
		sArg += " eff_dtm="    +quote(FV_PROC_DTM);
		sArg += " deal_co_cd=" +quote(div_dealCoInfo.edt_salePlc.Text );

	cf_callDealPop(sArg, div_dealCoInfo, "edt_salePlcNm,edt_salePlc,edt_salePlcUkeyCd,edt_salePlcSubCd,edt_salePlcChannelCd");
}

/*******************************************************************************
 * @description    : 개통처 조회
*******************************************************************************/
function div_dealCoInfo_edt_svcPlcNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
    if ( nChar == 13 )
    {
		lf_getSvcPlcInfo();
	    f_getSvcChgrgId();
	}
}

function div_dealCoInfo_btn_svcPlc_OnClick(obj)
{
	lf_getSvcPlcInfo();
	f_getSvcChgrgId();
}

function div_dealCoInfo_btn_svcPlc_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
    if ( nChar == 13 )
    {
	    lf_getSvcPlcInfo();
	    f_getSvcChgrgId();
	}
}

function lf_getSvcPlcInfo()
{
	sf_clearControls("div_dealCoInfo.edt_svcPlcUkeyCd,div_dealCoInfo.edt_svcPlcSubCd,div_dealCoInfo.edt_svcPlcChannelCd");

	var sArg  = "deal_co_cl1="+quote(sf_getDealCoCl1(true));
		//sArg += " deal_status="+quote("3"); 	//옵션 (거래처 상태) - 1: 수납정지 N  , 2: 출고정지 N , 3: 판매정지 N
		sArg += " pos_agency="+quote(gds_session.GetColumn(0,"posAgencyId")); // 옵션
		//sArg += " eff_dtm="+quote(div_dealCoInfo.cal_svcDtm.Value);
	cf_callDealPop(sArg, div_dealCoInfo, "edt_svcPlcNm,edt_svcPlc,edt_svcPlcUkeyCd,edt_svcPlcSubCd,edt_svcPlcChannelCd");

	return;
}

/*******************************************************************************
 * @description    : 판매정보 초기화
*******************************************************************************/
function lf_saleInfoInit(typ)
{

    //판매세부유형, 유통망, 추가지원금, T약정기간 ...변경할때 초기화
    if ( typ == "getSaleDtlTypList" )
    {
        // 1.판매세부유형 콤보 셋팅 후 초기화
        div_saleInfo.cmb_saleDtlTyp.Enable = true; //판매세부유형
        div_saleInfo.btn_oldRtn.Enable = false; //중고단말기정보 pupup 버튼

        //ds_cmbAddSuptCd.ClearData();
        div_saleInfo.cmb_addSuptCd.Enable = false; //추가지원금
        div_saleInfo.msk_addSuptCdAmt.Text = 0;

        ds_cmbDsNetCd.ClearData();
        ds_cmbTAgrmtPrdCd.ClearData();
        ds_cmbAddSuptCd.ClearData();

        div_saleInfo.cmb_dsNetCd.Value = "";
        div_saleInfo.cmb_dsNetCd.Enable = false;    //유통망

        div_saleInfo.msk_agrmtPrdCdAmt.Value = 0;    // t-약정기간
        div_saleInfo.cmb_tAgrmtPrdCd.Enable = false;

        div_eqpInfo.rdo_settlCond.Value = "";
        div_eqpInfo.rdo_settlCond.Enable = false;  //결제조건
        div_eqpInfo.cmb_allotPrdCd.Value = "";
        div_eqpInfo.cmb_allotPrdCd.Enable = false;

        div_saleInfo.cmb_ocbMcard.index = 0;
        div_saleInfo.cmb_ocbMcard.Enable = false;
        div_saleInfo.msk_ocbMcardPrc.Value = 0;      //OCB/MCARD
        div_saleInfo.msk_ocbMcardPrc.Enable = false;

        ds_splstMdl.ClearData();
        f_procAmt();
    }
    else if ( typ == "getDsNetCdList" )
    {
        // 2. 유통망 콤보 셋팅 후 초기화
        div_saleInfo.cmb_dsNetCd.Enable = true;    //유통망

        ds_cmbTAgrmtPrdCd.ClearData();
        ds_cmbAddSuptCd.ClearData();

        div_saleInfo.cmb_tAgrmtPrdCd.Enable = false;  // t-약정기간
        div_saleInfo.msk_agrmtPrdCdAmt.Value = 0;

        div_eqpInfo.rdo_settlCond.Enable = false;  //결제조건
        div_eqpInfo.cmb_allotPrdCd.Enable = false;
        div_saleInfo.cmb_addSuptCd.Enable = false; //추가지원금

        div_saleInfo.cmb_ocbMcard.index = 0;
        div_saleInfo.cmb_ocbMcard.Enable = false;
        div_saleInfo.msk_ocbMcardPrc.Value = 0;      //OCB/MCARD
        div_saleInfo.msk_ocbMcardPrc.Enable = false;

        ds_splstMdl.ClearData();
        f_procAmt();
    }
    else if ( typ == "getTAgrmtPrdCdList" )
    {
        // 3. T-약정기간 콤보 셋팅 후 초기화
        div_saleInfo.cmb_TAgrmtPrdCd.Enable = true; // t-약정기간
        div_saleInfo.msk_agrmtPrdCdAmt.Value = 0;

        ds_cmbAddSuptCd.ClearData();

        div_saleInfo.cmb_addSuptCd.Enable = false; //추가지원금
        div_eqpInfo.rdo_settlCond.Value = "";
        div_eqpInfo.rdo_settlCond.Enable = false;  //결제조건
        div_eqpInfo.cmb_allotPrdCd.Value = "";
        div_eqpInfo.cmb_allotPrdCd.Enable = false;

        div_saleInfo.cmb_ocbMcard.index = 0;
        div_saleInfo.cmb_ocbMcard.Enable = false;
        div_saleInfo.msk_ocbMcardPrc.Value = 0;      //OCB/MCARD
        div_saleInfo.msk_ocbMcardPrc.Enable = false;

        ds_oldrtnEquipment.ClearData();
        ds_splstMdl.ClearData();
        f_procAmt();
    }
    else if ( typ == "getAddSuptCdList" )
    {
        // 4. 추가지원금 콤보 셋팅 후 초기화
        div_eqpInfo.rdo_settlCond.Enable = true;  //결제조건
        div_eqpInfo.cmb_allotPrdCd.Enable = false;

        div_saleInfo.cmb_addSuptCd.Enable = true; //추가지원금

        div_saleInfo.cmb_ocbMcard.index = 0;
        div_saleInfo.cmb_ocbMcard.Enable = true;
        div_saleInfo.msk_ocbMcardPrc.Value = 0;      //OCB/MCARD
        div_saleInfo.msk_ocbMcardPrc.Enable = false;

        ds_splstMdl.ClearData();
        f_procAmt();
    }
    else if (typ == "all")
    {
        ds_cmbSaleDtlTyp.ClearData();
        ds_cmbDsNetCd.ClearData();
        ds_cmbTAgrmtPrdCd.ClearData();
        ds_cmbAddSuptCd.ClearData();

        div_saleInfo.cmb_saleDtlTyp.Enable = false; //판매유형
        div_saleInfo.btn_oldRtn.Enable = false; //중고단말기정보 pupup 버튼

        div_saleInfo.cmb_dsNetCd.Enable = false;    //유통망

        div_eqpInfo.rdo_settlCond.Enable = false;  //결제조건
        div_eqpInfo.cmb_allotPrdCd.Enable = false;

        div_saleInfo.cmb_addSuptCd.Enable = false; //추가지원금
        div_saleInfo.msk_addSuptCdAmt.Enable = false;

        div_saleInfo.cmb_tAgrmtPrdCd.Enable = false;  // t-약정기간

        div_saleInfo.cmb_ocbMcard.index = 0;
        div_saleInfo.cmb_ocbMcard.Enable = false;
        div_saleInfo.msk_ocbMcardPrc.Value = 0;      //OCB/MCARD
        div_saleInfo.msk_ocbMcardPrc.Enable = false;

        ds_splstMdl.ClearData();
        f_procAmt();
    }
    else if (typ == "oldEqpSale")
    {
        div_saleInfo.cmb_saleDtlTyp.Enable = true; //판매유형
        div_saleInfo.btn_oldRtn.Enable = false; //중고단말기정보 pupup 버튼

        div_saleInfo.cmb_dsNetCd.Enable = true;    //유통망

        div_eqpInfo.rdo_settlCond.Value = "C";
        div_eqpInfo.rdo_settlCond.Enable = false;  //결제조건
        div_eqpInfo.cmb_allotPrdCd.Enable = false;

        div_saleInfo.cmb_addSuptCd.Enable = false; //추가지원금
        div_saleInfo.msk_addSuptCdAmt.Enable = false;

        div_saleInfo.cmb_tAgrmtPrdCd.Enable = true;  // t-약정기간

        div_saleInfo.cmb_ocbMcard.Index = 0;
        div_saleInfo.msk_ocbMcardPrc.Value = 0;

        div_saleInfo.cmb_ocbMcard.index = 0;
        div_saleInfo.cmb_ocbMcard.Enable = true;
        div_saleInfo.msk_ocbMcardPrc.Value = 0;      //OCB/MCARD
        div_saleInfo.msk_ocbMcardPrc.Enable = true;

        //ds_splstMdl.ClearData();

        div_prcInfo.msk_eqpAllotSalePrc.Enable = false;
        div_prcInfo.msk_eqpCashSalePrc.enable = true;
        div_prcInfo.msk_eqpCashSalePrc.Value = 0;

        f_procAmt();
    }
    return true;
}

/*******************************************************************************
 * @description    : 중고단말기 입력 팝업 종료시 호출
*******************************************************************************/
function lf_OldRtnPopupClose()
{
	if(ds_oldrtnEquipment.GetRowCount() < 1)
	{
		ds_oldrtnEquipment.AddRow();
	}

    ds_oldrtnEquipment.CopyRow(0, "ds_param", 0);
}

/*******************************************************************************
 * @description    : 부가서비스 선택 팝업 화면 종료시 호출
*******************************************************************************/
function lf_supservicePopupClose()
{
	ds_suplservice.ClearData();
    ds_suplservice.Copy("ds_param");
}


function btn_save_OnClick(obj)
{

    if ( !lf_saveValidationCheck() )
    {
        return;
    }

    var sFlag = false;
    var sSaleChgHstCl = div_prodExchange.cmb_saleChgHstCl.Value;


    switch (sSaleChgHstCl)
    {
        case "01" :  //01 : 판매
            //alert("변경구분이 판매일때 저장은 없음");
            break;
        case "02" :  //02 : 기기변경
            //일련번호, 모델 체크

            if ( FV_EQP_CHG_YN == "Y" || FV_USIM_CHG_YN == "Y" )
            {
                sFlag = "true";
            }
            else
            {
                alert("변경사항이 없습니다.");
                return;
            }

            break;
        case "03" :  //03 : 할부추가
            //단말기 결제조건이 현금 일때....할부로 변경가능

            //단말기 결제 조건체크 = 이전 조건값이 현금일때만 변경가능
            if ( ds_generalSale.GetColumn(0,"settl_cond_old") == "C" )
            {
                if ( ds_generalSale.GetColumn(0,"settl_cond") == ds_generalSale.GetColumn(0,"settl_cond_old") )
                {
                    //alert("단말기 결제조건 현금에서 할부로만 변경 할수 있습니다.");
                }
                else
                {
                    sFlag = "true";
                }
            }
            else
            {
                alert("결제조건이 할부일때는 추가 할 수 없습니다.");
                return;
            }

            break;
        case "04" :  //04 : 할부취소
            //단말기 결제조건이 할부 일때 ... 현금으로 변경가능

            //단말기 결제 조건체크 = 이전 조건값이 할부일때만 변경가능
            if ( ds_generalSale.GetColumn(0,"settl_cond_old") == "A" )
            {
                if ( ds_generalSale.GetColumn(0,"settl_cond") == ds_generalSale.GetColumn(0,"settl_cond_old") )
                {
                    //alert("단말기 결제조건 할부에서 현금로만 변경 할수 있습니다.");
                }
                else
                {
                    sFlag = "true";
                }
            }
            else
            {
                alert("결제조건이 현금일때는 추가 할 수 없습니다.");
                return;
            }
            break;
        case "05" :  //05 : 판매가변경
            //변경값이 있는지 check

            //skt 예수금 변경에 대한 check
            if ( ds_sktPrprc.GetColumn(0,"scrb_fee_cl") !=  ds_sktPrprc.GetColumn(0,"scrb_fee_cl_old")
                 || ds_sktPrprc.GetColumn(0,"tu_scrb_fee_cl") != ds_sktPrprc.GetColumn(0,"tu_scrb_fee_cl")
                 || ds_sktPrprc.GetColumn(0,"mnp_cmms_cl") != ds_sktPrprc.GetColumn(0,"mnp_cmms_cl_old") )
            {
                sFlag = "true";
            }
            else
            {
                alert("skt 예수금 변경사항이 없습니다.");
            }
            break;
        case "06" :  //06 : 부가서비스변경
            //부가서비스 변경이있는지 check

            break;
        case "07" :  //07 : 판매취소
            //판매취소 - 판매취소는 없음.
            //all
            if ( ds_generalSale.GetColumn(0,"sale_chg_hst_cl") != ds_generalSale.GetColumn(0,"sale_chg_hst_cl_old") )
            {
                sFlag = "true";
            }
            else
            {
                alert("판매취소 된 상태입니다.");
                return;
            }
            break;
        case "08" :  //08 : 판매삭제
        case "09" :  //09 : 판매수정
            //일마감전 + 변경이력 없을때.
            if ( ds_generalSale.GetColumn(0, "dt_cls_yn") == "N" )
            {
                alert("일마감된 DATA는 처리 할 수 없습니다.");
                return;
            }
            else
            {
                if ( ds_generalSale.GetColumn(0, "sale_chg_hst_cl_old") == "01"
                    || ds_generalSale.GetColumn(0, "sale_chg_hst_cl_old") == "09" )
                {
                    sFlag = "true";
                }
                else
                {
                    alert("변경구분이 '판매' 일때만 처리할수 있습니다.");
                    return;
                }
            }
            break;
        default:
            break;
    }

    //return sFlag;
    //판매변경일시 반드시 있어야함......
    //로직 추가...
    if ( uf_IsNull( div_prodExchange.cal_saleChgDtm.Value ) )
    {
        alert("판매변경일시를 입력해 주세요.");
        return;
    }

    if ( uf_IsNull( div_prodExchange.cmb_saleChgUserId.Value ) )
    {
        alert("판매변경담당자를 입력해 주세요.");
        return;
    }


    if (sFlag == "false")
    {
         return;
    }


	//일반판매
	//ds_generalSale
    var sSaleDtm = div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text + "00";
    var sSvcDtm  = div_dealCoInfo.cal_svcDtm.Value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text + "00";
    var sSaleChgDtm  = div_prodExchange.cal_saleChgDtm.Value + div_prodExchange.edt_saleChgDtmHh.Text + div_prodExchange.edt_saleChgDtmMm.Text + "00";

    //판매취소 구분 - 1 :  정상판매취소 , 2 :  기기변경판매취소, 3 : 거래처변경판매취소
    var sSaleCnclCl = "";
    if ( sSaleChgHstCl == "07" )
    {
        if ( FV_IF_PROC_CL == "4" )
        {
			sSaleCnclCl = "3";       //거래처변경 판매취소
        }
        else
        {
			if ( div_prodExchange.cal_saleChgDtm.Value == div_dealCoInfo.cal_svcDtm.Value )
			{
				sSaleCnclCl = "4";   //당일판매취소
			}
			else
			{
				sSaleCnclCl = "1";   //일반판매취소
			}
		}
    }
    else
    {
        //기기변경판매취소, 거래처변경판매취소는 java에서 처리
    }

    cf_setParam(ds_generalSale, "sale_dtm"          , sSaleDtm );                           //판매일시
    cf_setParam(ds_generalSale, "sale_chg_dtm"      , sSaleChgDtm );                        //판매변경일시
    cf_setParam(ds_generalSale, "svc_dtm"           , sSvcDtm );                            //개통일시
    cf_setParam(ds_generalSale, "rmks"              , div_rmks.txa_rmks.Text );             //비고
    cf_setParam(ds_generalSale, "sale_cncl_yn"      , "N");                                 //판매취소여부
    cf_setParam(ds_generalSale, "sale_cncl_cl"      , sSaleCnclCl );                        //판매취소구분
    cf_setParam(ds_generalSale, "dis_hld_plc"       , div_dealCoInfo.edt_disHldPlc.Text );  //재고 보유처
    cf_setParam(ds_generalSale, "acc_chg_hst_cl"    , sf_getAccChgHstCl(sSaleChgHstCl) );   //정산변경이력구분
    cf_setParam(ds_generalSale, "online_payment_cl" , "" );                                 //온라인수납구분

	//단말기판매
	//ds_equipmentSale
    if (ds_equipmentSale.rowcount <= 0)
    {
        ds_equipmentSale.AddRow();
    }

	//Usim 판매
	//ds_usimSale
    if (ds_usimSale.rowcount <= 0)
    {
        ds_usimSale.AddRow();
    }

	//중고반납기기
	//ds_oldrtnEquipment
    if (ds_oldrtnEquipment.rowcount <= 0)
    {
        ds_oldrtnEquipment.AddRow();
    }

    //수납정보
    if (ds_payment.rowcount <= 0)
    {
        ds_payment.AddRow();
    }

    //판매수수료
    if (ds_saleCmms.rowcount <= 0)
    {
        ds_saleCmms.AddRow();
    }

    if (sSaleChgHstCl == "04")
    {
	    ds_saleCmms.SetColumn(0, "cmms_adj"         , "0" );
    }

    //장려금
    if (ds_promotionMoney.rowcount <= 0)
    {
        ds_promotionMoney.AddRow();
    }

	//OCB/MCARD
    if (ds_ocbmcard.rowcount <= 0)
    {
        ds_ocbmcard.AddRow();
    }

	//온라인수납정보
    if (ds_onlinePayment.rowcount <= 0)
    {
        ds_onlinePayment.AddRow();
    }

	//온라인수수료
    if (ds_onlineCmms.rowcount <= 0)
    {
        ds_onlineCmms.AddRow();
    }

    var sUsimCashSalePrc = "0";
    var sUsimAllotSalePrc = "0";
    if(ds_generalSale.GetColumn(0,"usim_allot_cl") == "Y")
    {
        sUsimCashSalePrc = "0";
        sUsimAllotSalePrc = div_usimInfo.msk_usimSalePrc.Value ;
    }
    else
    {
        sUsimCashSalePrc = div_usimInfo.msk_usimSalePrc.Value ;
        sUsimAllotSalePrc = "0";
    }

    //현금판매
    cf_setParam(ds_cashSale, "eqp_cash_sale_prc"   , div_prcInfo.msk_eqpCashSalePrc.Value );
    cf_setParam(ds_cashSale, "usim_cash_sale_prc"  , sUsimCashSalePrc );

    //할부판매
    cf_setParam(ds_allotSale, "eqp_allot_sale_prc"   , div_prcInfo.msk_eqpAllotSalePrc.Value );
    cf_setParam(ds_allotSale, "usim_allot_sale_prc"  , sUsimAllotSalePrc );

    if( sSaleChgHstCl == "04")
    {
        cf_setParam(ds_allotSale, "ps_eqp_allot_sale_prc"  , "0");
    }

    //기기교환 처리
    if ( sSaleChgHstCl == "02" )
    {
        cf_setParam(ds_prodExchange, "exchg_dtm"           , sSaleChgDtm );
        cf_setParam(ds_prodExchange, "exchg_chgrg_id"      , ds_generalSale.GetColumn(0,"sale_mod_user_id") );
        cf_setParam(ds_prodExchange, "svc_dtm"             , ds_generalSale.GetColumn(0,"svc_dtm") );
        cf_setParam(ds_prodExchange, "svc_chgrg_id"        , ds_generalSale.GetColumn(0,"svc_chgrg_id") );
        cf_setParam(ds_prodExchange, "sl_net_cd"           , ds_generalSale.GetColumn(0,"sl_net_cd") );
        cf_setParam(ds_prodExchange, "sale_plc"            , ds_generalSale.GetColumn(0,"sale_plc") );
        cf_setParam(ds_prodExchange, "diff_eqp_chg_yn"     , FV_DIFF_EQP_CHG_YN );

        cf_setParam(ds_prodExchange, "bf_gnrl_sale_no"     , ds_generalSale.GetColumn(0,"gnrl_sale_no") );
        cf_setParam(ds_prodExchange, "bf_gnrl_sale_chg_seq", ds_generalSale.GetColumn(0,"gnrl_sale_chg_seq") );
        cf_setParam(ds_prodExchange, "bf_eqp_ser_num"      , ds_equipmentSale.GetColumn(0,"eqp_ser_num_old") );
        cf_setParam(ds_prodExchange, "bf_eqp_mdl_cd"       , ds_equipmentSale.GetColumn(0,"eqp_mdl_cd_old") );
        cf_setParam(ds_prodExchange, "bf_usim_ser_num"     , ds_usimSale.GetColumn(0,"usim_ser_num_old") );
        cf_setParam(ds_prodExchange, "bf_usim_mdl_cd"      , ds_usimSale.GetColumn(0,"usim_mdl_cd_old") );

        cf_setParam(ds_prodExchange, "af_gnrl_sale_no"     , "" );
        cf_setParam(ds_prodExchange, "af_gnrl_sale_chg_seq", "" );
        cf_setParam(ds_prodExchange, "af_eqp_ser_num"      , ds_equipmentSale.GetColumn(0,"eqp_ser_num") );
        cf_setParam(ds_prodExchange, "af_eqp_mdl_cd"       , ds_equipmentSale.GetColumn(0,"eqp_mdl_cd") );
        cf_setParam(ds_prodExchange, "af_usim_ser_num"     , ds_usimSale.GetColumn(0,"usim_ser_num") );
        cf_setParam(ds_prodExchange, "af_usim_mdl_cd"      , ds_usimSale.GetColumn(0,"usim_mdl_cd") );
    }

    if ( sSaleChgHstCl == "02" )
    {
        f_callProdChgProcess();
    }
    else
    {
        f_callSaleChgProcess();
    }
    return;

}

/*******************************************************************************
 * @description    : 일반판매 저장시 상품구분-단말기,USIM validation check
*******************************************************************************/
function lf_saveValidationCheck()
{
    var bFlag = true;

	// 일마감 체크
	cf_CheckCloseDay("02", div_prodExchange.cal_saleChgDtm.Value, "변경일자"); // 02 영업
	//cf_CheckCloseMnth("03", div_prodExchange.cal_saleChgDtm.Value, "변경일자"); // 03 정산
	if(FV_BOOLEAN_CLOSE) return false;                                         // 입력한 일자가 마감 되었을 경우 '1'(true) 리턴.

	var sSelRtn     = "";
    var sSaleChgDtm = "";
    var sSaleChgHstCl = div_prodExchange.cmb_saleChgHstCl.Value;

    if ( sSaleChgHstCl == "05" || sSaleChgHstCl == "06" || sSaleChgHstCl == "09" )
    {
        if ( uf_IsNull(div_prodExchange.cal_saleChgDtm.Value) )
        {
            alert("변경일자를 입력해 주십시요.");
            return false;
        }

        if ( uf_IsNull(div_prodExchange.edt_saleChgDtmHh.Text) )
        {
            alert("판매일시를 입력해 주십시요.");
            return false;
        }

        if ( uf_IsNull(div_prodExchange.edt_saleChgDtmMm.Text) )
        {
            alert("변경시간 및 분을 입력해 주십시요.");
            return false;
        }

        sSaleChgDtm = div_prodExchange.cal_saleChgDtm.Value + div_prodExchange.edt_saleChgDtmHh.Text + div_prodExchange.edt_saleChgDtmMm.Text + "00";
	    if ( substr(sSaleChgDtm,0,12) < substr(ds_generalSale.GetColumn(0,"sale_chg_dtm"),0,12) )
        {
            alert("입력한 변경일시가 최종이력의 변경일시 보다 이전입니다.");
            return false;
        }

        if ( sSaleChgDtm > getDate() )
        {
            alert("입력한 변경일시가 현재일시 보다 이후입니다.");
            return false;
        }

        if ( ( sSaleChgHstCl == "05" || sSaleChgHstCl == "06" )
             && substr(sSaleChgDtm,0,6) <> substr(ds_generalSale.GetColumn(0,"svc_dtm"),0,6) )
        {
            sSelRtn = Confirm("개통월과 변경월이 다릅니다. 처리하시겠습니까?");

            if (sSelRtn == false)
            {
                return false;
            }
        }
    }

    if ( uf_IsNull(div_prodExchange.cmb_saleChgUserId.Value ) )
    {
        alert("판매변경담당자를 선택해 주십시요.");
        return false;
    }


    if ( uf_IsNull(div_dealCoInfo.cal_saleDtm.Value) )
    {
        alert("판매일자를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmHh.Text ) )
    {
        alert("판매시간를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmMm.Text ) )
    {
        alert("판매시간 및 분을 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_salePlc.Text ) )
    {
        alert("판매처를 입력해 주십시요.");
        return false;
    }

/* KIMYS - 2010.06.03
   M 채널의 경우 판매담당자 의미 없음
    if ( uf_IsNull(div_dealCoInfo.cmb_saleChgrgId.Value ) )
    {
        alert("판매담당자를 입력해 주십시요.");
        return false;
    }
*/

    if ( uf_IsNull(div_dealCoInfo.cal_svcDtm.Value) )
    {
        alert("개통일자를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcDtmHh.Text ) )
    {
        alert("개통시간를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcDtmMm.Text ) )
    {
        alert("개통시간 및 분을 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcPlc.Text ) )
    {
        alert("개통처를 입력해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_svcChgrgNm.Value ) )
    {
        alert("개통담당자를 선택해 주십시요.");
        return false;
    }

    if ( uf_IsNull(div_dealCoInfo.edt_insUserId.Value ) )
    {
        alert("처리자를 선택해 주십시요.");
        return false;
    }

    if ( !uf_IsNull(div_eqpInfo.edt_eqpSerNum.Text) )
    {
		if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) )
		{
			alert("영업망을 선택해 주십시요.");
			return false;
		}

		if ( uf_IsNull(div_saleInfo.cmb_saleDtlTyp.Value) )
		{
			alert("판매유형을 선택해 주십시요.");
			return false;
		}
	}


    if ( sSaleChgHstCl == "02" || sSaleChgHstCl == "07")
    {
        if ( FV_EQP_CHG_YN == "Y" )
        {

            if ( ds_prodExchange.GetColumn(0,"eqp_exchg_rsn_cd") != "2" )
            {
				if ( uf_isNull(ds_prodExchange.GetColumn(0,"eqp_exchg_rsn_cd"))
					 || uf_isNull(ds_prodExchange.GetColumn(0,"eqp_bad_rsn_cd"))
					 || uf_isNull(ds_prodExchange.GetColumn(0,"eqp_bad_dtl_rsn_cd")) )
				{
					alert("단말기 불량사유를 입력해 주십시요.");
					return false;
				}
		    }
        }

        if ( FV_USIM_CHG_YN == "Y" )
        {
            if ( ds_prodExchange.GetColumn(0,"usim_exchg_rsn_cd") != "2" )
            {
				if ( uf_isNull(ds_prodExchange.GetColumn(0,"usim_exchg_rsn_cd"))
					 || uf_isNull(ds_prodExchange.GetColumn(0,"usim_bad_rsn_cd")) )
				{
					alert("USIM 불량사유를 입력해 주십시요.");
					return false;
				}
			}
        }
    }

    //판매수납대상금액  validation check
    var iUsimSalePrc = 0;
    if ( ds_generalSale.GetColumn(0,"usim_allot_cl") == "N" )
    {
        iUsimSalePrc = div_usimInfo.msk_usimSalePrc.Value;
    }
    else
    {
        iUsimSalePrc = 0;
    }

    var iTotSaleAmt     = ParseInt( div_prcInfo.msk_eqpCashSalePrc.Value ) + ParseInt(iUsimSalePrc);
    var iCashPayAmt     = ParseInt( ds_payment.GetColumn(0,"cash_pay_amt") );
    var iPhoneSafeAmt   = ParseInt( ds_payment.GetColumn(0,"phone_safe_amt") );
    var iCrdtcrdPayAmt1 = ParseInt( ds_payment.GetColumn(0,"crdtcrd_pay_amt1") );
    var iCrdtcrdPayAmt2 = ParseInt( ds_payment.GetColumn(0,"crdtcrd_pay_amt2") );

    if ( iTotSaleAmt != ( iCashPayAmt + iPhoneSafeAmt + iCrdtcrdPayAmt1 + iCrdtcrdPayAmt2 ) )
    {
        alert("판매수납대상금액과 수납금액이 일치하지 않습니다.");
        return false;
    }

/* M채널의 경우 (-) 입력 가능
    if ( iTotSaleAmt < 0 && ds_generalSale.GetColumn(0,"settl_cond") == "C" )
    {
        alert("현금판매가는 (-)불가합니다.\n대납여부 등 가입비 납부 항목을 다시 확인하시고,\n현금 판매가를 조정하시기 바랍니다.");
        return false;
    }
*/
    //SKT예수급 수납대상금액 validation check
    var iSktTotSaleAmt = ParseInt( div_sktPrprc.msk_sktTotSaleAmt.Value );
    var iSktPrprcCashPayAmt = ParseInt( ds_payment.GetColumn(0,"skt_prprc_cash_pay_amt") );
    var iSktPrprcPrxpayAmt = ParseInt( ds_payment.GetColumn(0,"skt_prprc_prxpay_amt") );

    if ( iSktTotSaleAmt != (iSktPrprcCashPayAmt + iSktPrprcPrxpayAmt ) )
    {
        alert("예수금수납대상금액과 수납금액이 일치하지 않습니다.");
        return false;
    }

    return bFlag;
}

/*******************************************************************************
 * @description    : 단말기 관련 validation check
*******************************************************************************/
function lf_eqpValidationCheck()
{
    var bFlag = true;

    if ( uf_IsNull(div_eqpInfo.edt_eqpMdlCd.Text) || uf_IsNull(div_eqpInfo.edt_eqpSerNum.Text) )
    {
        alert("단말기 정보를 입력해주세요");
        bFlag = false;
    }
    return bFlag;
}

/*******************************************************************************
 * @description    : Usim 관련 validation check
*******************************************************************************/
function lf_usimValidatinCheck()
{
    var bFlag = true;

    if ( uf_IsNull(div_usimInfo.edt_usimMdlCd.Text) || uf_IsNull(div_usimInfo.edt_usimSerNum.Text) )
    {
        alert("USIM 정보를 입력해주세요");
        bFlag = false;
    }

    return bFlag;
}

/*******************************************************************************
 * @description    : 시간 validation check
*******************************************************************************/
function div_dealCoInfo_edt_saleDtmHh_OnChanged(obj,strText)
{
	if (strText > 23)
	{
	    alert("유효한 시간을 입력해주세요.");
	}
	else
	{
	    if (length(strText) == 1)
	    {
	        obj.value = "0" + strText;
	    }
	}

}

/*******************************************************************************
 * @description    : 분 validation check
*******************************************************************************/
function div_dealCoInfo_edt_saleDtmMm_OnChanged(obj,strText)
{
	if (strText > 59)
	{
	    alert("유효한 시간을 입력해주세요.");
	}
	else
	{
	    if (length(strText) == 1)
	    {
	        obj.value = "0" + strText;
	    }
	}
}

/*******************************************************************************
 * @description    : 판매변경담당자
*******************************************************************************/
function f_getChgrgId()
{
    sf_getChgrgIdList("ds_input", "ds_cmbChgrgId", div_prodExchange.edt_saleChgPlc.Text );  //근무지기준
}

/*******************************************************************************
 * @description    : 판매담당자 콤보 셋팅
*******************************************************************************/
function f_getSaleChgrgId()
{
    sf_getChgrgIdList("ds_input", "ds_cmbSaleChgrgId", div_dealCoInfo.edt_salePlc.Text );  //근무지기준
}

/*******************************************************************************
 * @description    : 개통담당자 콤보 셋팅
*******************************************************************************/
function f_getSvcChgrgId()
{
    sf_getChgrgIdList("ds_input", "ds_cmbSvcChgrgId", div_dealCoInfo.edt_svcPlc.Text );
}

/*******************************************************************************
 * @description    : 판매변경 담당자 콤보 셋팅
*******************************************************************************/
function f_getSaleChgChgrgId()
{
    sf_getChgrgIdList("ds_input", "ds_cmbSaleChgChgrgId", div_prodExchange.edt_saleChgPlc.Text );
    if(uf_isNull(FV_STR_POP_RESULT) == true) return;
}

/*******************************************************************************
 * @description    : 판매변경 담당자 콤보 셋팅
*******************************************************************************/
function f_getIfSaleChgChgrgId(sPlc)
{
    sf_getChgrgIdList("ds_input", "ds_cmbSaleChgChgrgId", sPlc );  //소매 - 판매처
}


/*******************************************************************************
 * @description    : 변경구분에 따른 div 초기화
*******************************************************************************/
function f_divEnable(sSaleChgHstCl)
{
    f_enableProdExchange(sSaleChgHstCl);
    f_enableDealCoInfo(sSaleChgHstCl);
    f_enableCustInfo(sSaleChgHstCl);

    f_enableEqpInfo(sSaleChgHstCl);
    f_enableUsimInfo(sSaleChgHstCl);

    f_enableSaleInfo(sSaleChgHstCl);
    f_enablePrcInfo(sSaleChgHstCl);
    f_enableSktPrprc(sSaleChgHstCl);
    //f_enablePayment(sSaleChgHstCl);
    f_enableSuplservice(sSaleChgHstCl);
    f_enableEtc(sSaleChgHstCl);
}

/*******************************************************************************
 * @description    : 일반판매 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enableProdExchange(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //00  : 전체 false 처리
            div_prodExchange.cal_saleChgDtm.Enable    = false;
            div_prodExchange.edt_saleChgDtmHh.Enable  = false;
            div_prodExchange.edt_saleChgDtmMm.Enable  = false;
            div_prodExchange.edt_saleChgPlcNm.Enable  = false;
            div_prodExchange.btn_saleChgPlc.Enable    = false;
            div_prodExchange.cmb_saleChgUserId.Enable = false;
            break;
        case "02" :  //02 : 기기변경
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
            div_prodExchange.cal_saleChgDtm.Enable    = false;
            div_prodExchange.edt_saleChgDtmHh.Enable  = false;
            div_prodExchange.edt_saleChgDtmMm.Enable  = false;
            div_prodExchange.edt_saleChgPlcNm.Enable  = false;
            div_prodExchange.btn_saleChgPlc.Enable    = false;
            div_prodExchange.cmb_saleChgUserId.Enable = true;
            break;
        case "07" :  //07 : 판매취소
            if ( FV_IF_PROC_CL == "2" )
            {
                div_prodExchange.cmb_saleChgUserId.Enable = false;
            }
            else
            {
                div_prodExchange.cmb_saleChgUserId.Enable = true;
            }

            div_prodExchange.cal_saleChgDtm.Enable    = false;
            div_prodExchange.edt_saleChgDtmHh.Enable  = false;
            div_prodExchange.edt_saleChgDtmMm.Enable  = false;
            div_prodExchange.edt_saleChgPlcNm.Enable  = false;
            div_prodExchange.btn_saleChgPlc.Enable    = false;

            break;
        case "01" :  //01 : 판매
        case "05" :  //05 : 판매가변경
        case "06" :  //06 : 부가서비스변경
        case "08" :  //08 : 판매삭제
        case "09" :  //09 : 판매수정
            div_prodExchange.cal_saleChgDtm.Enable    = true;
            div_prodExchange.edt_saleChgDtmHh.Enable  = true;
            div_prodExchange.edt_saleChgDtmMm.Enable  = true;
            div_prodExchange.edt_saleChgPlcNm.Enable  = true;
            div_prodExchange.btn_saleChgPlc.Enable    = true;
            div_prodExchange.cmb_saleChgUserId.Enable = true;
            break;
        default:
            div_prodExchange.cal_saleChgDtm.Enable    = false;
            div_prodExchange.edt_saleChgDtmHh.Enable  = false;
            div_prodExchange.edt_saleChgDtmMm.Enable  = false;
            div_prodExchange.edt_saleChgPlcNm.Enable  = false;
            div_prodExchange.btn_saleChgPlc.Enable    = false;
            div_prodExchange.cmb_saleChgUserId.Enable = false;
            break;
    }

}

/*******************************************************************************
 * @description    : 거래처정보 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enableDealCoInfo(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "09" :   //09 : 판매수정
            div_dealCoInfo.cal_saleDtm.Enable     = false;
            div_dealCoInfo.edt_saleDtmHh.Enable   = true;
            div_dealCoInfo.edt_saleDtmMm.Enable   = true;
            div_dealCoInfo.edt_salePlcNm.Enable   = false;
            div_dealCoInfo.btn_salePlc.Enable     = false;
            div_dealCoInfo.cmb_saleChgrgId.Enable = true;

            div_dealCoInfo.cal_svcDtm.Enable      = false;
            div_dealCoInfo.edt_svcDtmHh.Enable    = false;
            div_dealCoInfo.edt_svcDtmMm.Enable    = false;
            div_dealCoInfo.edt_svcPlcNm.Enable    = false;
            div_dealCoInfo.btn_svcPlc.Enable      = false;
            div_dealCoInfo.edt_svcChgrgNm.Enable  = false;
            div_dealCoInfo.edt_insUserNm.Enable   = false;
            break;
        //case "00" :  //전체 false 처리
        //case "01" :  //01 : 판매
        //case "02" :  //02 : 기기변경
        //case "03" :  //03 : 할부추가
        //case "04" :  //04 : 할부취소
        //case "05" :  //05 : 판매가변경
        //case "06" :  //06 : 부가서비스변경
        //case "07" :  //07 : 판매취소
        //case "08" :  //08 : 판매삭제
        default:
            div_dealCoInfo.cal_saleDtm.Enable     = false;
            div_dealCoInfo.edt_saleDtmHh.Enable   = false;
            div_dealCoInfo.edt_saleDtmMm.Enable   = false;
            div_dealCoInfo.edt_salePlcNm.Enable   = false;
            div_dealCoInfo.btn_salePlc.Enable     = false;
            div_dealCoInfo.cmb_saleChgrgId.Enable = false;

            div_dealCoInfo.cal_svcDtm.Enable      = false;
            div_dealCoInfo.edt_svcDtmHh.Enable    = false;
            div_dealCoInfo.edt_svcDtmMm.Enable    = false;
            div_dealCoInfo.edt_svcPlcNm.Enable    = false;
            div_dealCoInfo.btn_svcPlc.Enable      = false;
            div_dealCoInfo.edt_svcChgrgNm.Enable  = false;
            div_dealCoInfo.edt_insUserNm.Enable   = false;
            break;
    }

}

/*******************************************************************************
 * @description    : 고객정보 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enableCustInfo(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //전체 false 처리
        case "01" :  //01 : 판매
        case "02" :  //02 : 기기변경
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "05" :  //05 : 판매가변경
        case "06" :  //06 : 부가서비스변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
        case "09" :  //09 : 판매수정
            div_custInfo.edt_custNm.Enable     = false;
            div_custInfo.edt_custClNm.Enable   = false;
            div_custInfo.edt_svcNum.Enable     = false;
            div_custInfo.edt_custBizNum.Enable = false;
            div_custInfo.edt_svcMgmtNum.Enable = false;
            break;
        default:
            div_custInfo.edt_custNm.Enable     = false;
            div_custInfo.edt_custClNm.Enable   = false;
            div_custInfo.edt_svcNum.Enable     = false;
            div_custInfo.edt_custBizNum.Enable = false;
            div_custInfo.edt_svcMgmtNum.Enable = false;
            break;
    }

}

/*******************************************************************************
 * @description    : 단말기정보 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enableEqpInfo(sSaleChgHstCl, sChkEqp, sChkUsim)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //전체 false 처리
        case "01" :  //01 : 판매
        case "02" :  //02 : 기기변경
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "05" :  //05 : 판매가변경
        case "06" :  //06 : 부가서비스변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
        case "09" :  //09 : 판매수정
	        div_eqpInfo.edt_eqpSerNum.Enable    = false;
	        div_eqpInfo.chk_eqpOldSaleYn.Enable = false;

            div_eqpInfo.edt_settlCondNm.Enable  = false;
            div_eqpInfo.edt_allotPrdNm.Enable   = false;
            break;
        default:
	        div_eqpInfo.edt_eqpSerNum.Enable    = false;
	        div_eqpInfo.chk_eqpOldSaleYn.Enable = false;

            div_eqpInfo.edt_settlCondNm.Enable  = false;
            div_eqpInfo.edt_allotPrdNm.Enable   = false;
            break;
    }
}

/*******************************************************************************
 * @description    : 단말기정보 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enableUsimInfo(sSaleChgHstCl, sChkEqp, sChkUsim)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //전체 false 처리
        case "01" :  //01 : 판매
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "06" :  //06 : 부가서비스변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
	        div_usimInfo.edt_usimSerNum.Enable    = false;
	        div_usimInfo.chk_UsimOldSaleYn.Enable = false;
	        div_usimInfo.edt_usimAllotClNm.Enable = false;
	        div_usimInfo.msk_usimSalePrc.Enable   = false;

            break;
        case "05" :  //05 : 판매가변경
	        div_usimInfo.edt_usimSerNum.Enable    = false;
	        div_usimInfo.chk_UsimOldSaleYn.Enable = false;
	        //div_usimInfo.rdo_usimAllotCl.Enable = false;
            div_usimInfo.edt_usimAllotClNm.Enable = false;

            if (ds_generalSale.GetColumn(0,"usim_allot_cl") == "N")
            {
	            div_usimInfo.msk_usimSalePrc.Enable = true;
	        }
	        else
	        {
	            div_usimInfo.msk_usimSalePrc.Enable = false;
	        }
	        break;
        case "02" :   //02 : 기기변경
        case "09" :   //09 : 판매수정
	        div_usimInfo.edt_usimSerNum.Enable    = false;
	        div_usimInfo.chk_UsimOldSaleYn.Enable = false;
            div_usimInfo.edt_usimAllotClNm.Enable = false;

            if (ds_generalSale.GetColumn(0,"usim_allot_cl") == "N")
            {
	            div_usimInfo.msk_usimSalePrc.Enable = true;
	        }
	        else
	        {
	            div_usimInfo.msk_usimSalePrc.Enable = false;
	        }
            break;
        default:
	        div_usimInfo.edt_usimSerNum.Enable    = false;
	        div_usimInfo.chk_UsimOldSaleYn.Enable = false;
	        div_usimInfo.edt_usimAllotClNm.Enable = false;
	        div_usimInfo.msk_usimSalePrc.Enable   = false;

            break;
    }
}

/*******************************************************************************
 * @description    : 판매정보 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enableSaleInfo(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //전체 false 처리
        case "01" :  //01 : 판매
        case "02" :  //02 : 기기변경
        case "06" :  //06 : 부가서비스변경
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "05" :  //05 : 판매가변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
            div_saleInfo.cmb_slNetCd.Enable    = false;
            div_saleInfo.cmb_saleDtlTyp.Enable = false;
            div_saleInfo.edt_dsNetNm.Enable    = false;

            div_saleInfo.edt_oldRtnTypNm.Enable  = false;
            div_saleInfo.btn_oldRtn.Enable     = false;

            div_saleInfo.edt_agrmtPrdNm.Enable = false;
            div_saleInfo.edt_addSuptNm.Enable  = false;
            div_saleInfo.edt_ocbMcard.Enable   = false;
            div_saleInfo.msk_ocbMcardPrc.Enable = false;

            break;
        case "09" :  //09 : 판매수정
            div_saleInfo.cmb_slNetCd.Enable    = true;
            div_saleInfo.cmb_saleDtlTyp.Enable = false;
            div_saleInfo.edt_dsNetNm.Enable    = false;

            div_saleInfo.edt_oldRtnTypNm.Enable  = false;
            div_saleInfo.btn_oldRtn.Enable     = false;

            div_saleInfo.edt_agrmtPrdNm.Enable  = false;
            div_saleInfo.edt_addSuptNm.Enable   = false;
            div_saleInfo.edt_ocbMcard.Enable    = false;
            div_saleInfo.msk_ocbMcardPrc.Enable = false;

            break;
        default:
            div_saleInfo.cmb_slNetCd.Enable    = false;
            div_saleInfo.cmb_saleDtlTyp.Enable = false;
            div_saleInfo.edt_dsNetNm.Enable    = false;

            div_saleInfo.edt_oldRtnTypNm.Enable  = false;
            div_saleInfo.btn_oldRtn.Enable     = false;

            div_saleInfo.edt_agrmtPrdNm.Enable = false;
            div_saleInfo.edt_addSuptNm.Enable  = false;
            div_saleInfo.edt_ocbMcard.Enable   = false;
            div_saleInfo.msk_ocbMcardPrc.Enable = false;

            break;
    }
}

/*******************************************************************************
 * @description    : 판매가정보 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enablePrcInfo(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //전체 false 처리
        case "01" :  //01 : 판매
        case "06" :  //06 : 부가서비스변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
            div_prcInfo.msk_eqpAllotSalePrc.Enable = false;
            div_prcInfo.msk_eqpCashSalePrc.Enable  = false;
            break;
        case "02" :  //02 : 기기변경
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "05" :  //05 : 판매가변경
        case "09" :  //09 : 판매수정
            div_prcInfo.msk_eqpAllotSalePrc.Enable = false;

            if ( ds_generalSale.GetColumn(0,"settl_cond") == "A" )  //할부 : A , 현금 : C
            {
                div_prcInfo.msk_eqpCashSalePrc.Enable = true;
            }
            else
            {
                div_prcInfo.msk_eqpCashSalePrc.Enable = true;
            }
            break;
        default:
            div_prcInfo.msk_eqpAllotSalePrc.Enable = false;
            div_prcInfo.msk_eqpCashSalePrc.Enable  = false;
            break;
    }
}

/*******************************************************************************
 * @description    : SKT예수금 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enableSktPrprc(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //전체 false 처리
        case "01" :  //01 : 판매
        case "02" :  //02 : 기기변경
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "05" :  //05 : 판매가변경
        case "06" :  //06 : 부가서비스변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
        case "09" :  //09 : 판매수정
            div_sktPrprc.edt_scrbFeeClNm.Enable    = false;
            div_sktPrprc.edt_mnpCmmsClNm.Enable    = false;
            div_sktPrprc.edt_frgGrtInsuClNm.Enable = false;
            break;
        default:
            div_sktPrprc.edt_scrbFeeClNm.Enable    = false;
            div_sktPrprc.edt_mnpCmmsClNm.Enable    = false;
            div_sktPrprc.edt_frgGrtInsuClNm.Enable = false;
            break;
    }
}

/*******************************************************************************
 * @description    : 수납정보 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enablePayment(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //전체 false 처리
        case "01" :  //01 : 판매
        case "02" :  //02 : 기기변경
        case "06" :  //06 : 부가서비스변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
            btn_payment.Enable = false;
            break;
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "05" :  //05 : 판매가변경
        case "09" :  //09 : 판매수정
            btn_payment.Enable = true;
            break;
        default:
            btn_payment.Enable = false;
            break;
    }
}

/*******************************************************************************
 * @description    : 부가서비스 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enableSuplservice(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //전체 false 처리
        case "01" :  //01 : 판매
        case "02" :  //02 : 기기변경
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "05" :  //05 : 판매가변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
            btn_supservice.Enable = false;
            break;
        case "06" :  //06 : 부가서비스변경
        case "09" :  //09 : 판매수정
            btn_supservice.Enable = true;
            break;
        default:
            btn_supservice.Enable = false;
            break;
    }
}

/*******************************************************************************
 * @description    : 기타버튼 - 변경구분에 따른 div 초기화
*******************************************************************************/
function f_enableEtc(sSaleChgHstCl)
{
    switch (sSaleChgHstCl)
    {
        case "00" :  //전체 false 처리
        case "01" :  //01 : 판매
            btn_disDtr.Enable    = false;
            btn_prodexchg.Enable = false;
            btn_save.Enable      = false;
            break;
        case "02" :  //02 : 기기변경
            btn_disDtr.Enable    = true;
            btn_prodexchg.Enable = true;
            //btn_save.Enable      = true;
            break;
        case "07" :  //07 : 판매취소
            btn_disDtr.Enable    = false;
            btn_prodexchg.Enable = true;

            if ( FV_IF_PROC_CL == "2" )
            {
                btn_save.Enable      = false;
            }
            break;
        case "03" :  //03 : 할부추가
        case "04" :  //04 : 할부취소
        case "05" :  //05 : 판매가변경
        case "07" :  //07 : 판매취소
        case "08" :  //08 : 판매삭제
        case "06" :  //06 : 부가서비스변경
        case "09" :  //09 : 판매수정
            btn_disDtr.Enable    = false;
            btn_prodexchg.Enable = false;

            lf_enableBtnSave(FV_SAVE_BTN);
            //btn_save.Enable      = true;
            break;
        default:
            btn_disDtr.Enable    = false;
            btn_prodexchg.Enable = false;
            btn_save.Enable      = false;
            break;
    }
}

/*******************************************************************************
 * @description    : 변경구분에 따른 div 초기화
*******************************************************************************/
function div_prodExchange_cmb_saleChgHstCl_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
    FV_GET_SPLST_MDL_YN = "Y";
    var sSaleChgHstClOld = trim(ds_generalSale.GetColumn(0,"sale_chg_hst_cl_old"));

    if (strcode == "09")
    {
        if( ds_generalSale.GetColumn(0,"dt_cls_yn") == "Y")
        {
            alert("일마감된 자료입니다.");
            return;
        }

        if( (!(sSaleChgHstClOld == "01" || sSaleChgHstClOld == "09"))
            || (ds_generalSale.GetColumn(0,"max_gnrl_sale_chg_seq") > ds_generalSale.GetColumn(0,"gnrl_sale_chg_seq")) )
        {
            alert("변경이력이 있는 자료는 수정할수 없습니다.");
            f_divEnable("01");
            return;
        }

    }

	var sToDtm = GetDate();
    // 판매변경구분 : 선택한 값이 이전 변경구분과 같을때
    if ( sSaleChgHstClOld == strCode )
    {
        if (strCode == "05" || strCode == "06") //판매가변경, 부가서비스 변경
        {

            if( ds_generalSale.GetColumn(0,"settl_cond") == "A" ) //할부판매경우
            {
                //alert("할부판매일 때는 판매가를 변경 할 수 없습니다.");
                //return;
            }
   	        f_divEnable(strCode);
   	    }
   	    else
   	    {
   	        f_divEnable("01");
   	    }
	}
    else
    {
        if (strCode == "03")  // 할부추가
        {
            //단말기결제조건 체크
            if ( ds_generalSale.GetColumn(0,"settl_cond")  == "A" )
            {
                //할부이면 할부추가 할수 없음.
                alert("단말기 결제 조건이 할부일때는 할부추가를 할 수 없습니다.");
                f_divEnable("01");
                return;
            }
            else
            {
                //결제조건 변경 :  현금 -> 할부
                //가격조회
                div_eqpInfo.rdo_settlCond.value = "A";
                f_getSplstMdlInfo();
            }
        }
        else if (strCode == "04")  //할부취소
        {
            //단말기결제조건 체크
            if ( ds_generalSale.GetColumn(0,"settl_cond")  != "A" )
            {
                //할부가아니면 할부취소 할수 없음.
                alert("단말기 결제 조건이 현금일때는 할부취소를 할 수 없습니다.");
                f_divEnable("01");
                return;
            }
            else
            {
                //결제조건 변경 :  할부 -> 현금
                div_eqpInfo.rdo_settlCond.value = "C";
                //가격조회
                f_getSplstMdlInfo();
            }
        }
        else if( strCode == "05" ) //판매가변경
        {
            if( ds_generalSale.GetColumn(0,"settl_cond") == "A" ) //할부판매경우
            {
                //alert("할부판매일 때는 판매가를 변경 할 수 없습니다.");
                //return;
            }
        }

   	    f_divEnable(strCode);

        //판매변경일시
        f_setSaleChg();
    }
}

/*******************************************************************************
 * @description    : 모델별판매가격표 정보를 조회(단말기)
*******************************************************************************/
function f_getSplstMdlInfo()
{
    var sSaleDtm = div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text + "00";
    var sOrgId   = div_dealCoInfo.edt_posAgencyCd.Text;
    if ( div_eqpInfo.chk_eqpOldSaleYn.Value == "Y" )
    {
        return;
    }

    //판매수작업입력->기기변경 일경우 정책은 6월 정책을 가져온다. -> 5월 판매수작업입력은 조회를 안하게 변경
    if ( substr(ds_generalSale.GetColumn(0,"rmks"),0,5) == "DUMMY" )
    {
        sSaleDtm = "20090601010101";
        return;
    }

    //있을때만 조회하게 한다.
    var sFlag = "true";

    if ( div_prodExchange.cmb_saleChgHstCl.Value == "09" )
    {
        sFlag = "true";
    }
    else if ( (ds_generalSale.GetColumn(0,"sale_chg_hst_cl") != "03") && (uf_IsNull(ds_disEqpInfo.GetColumn(0,"eqp_mdl_cd")) || uf_IsNull(ds_disEqpInfo.GetColumn(0,"eqp_ser_num")) ))
    {
        sFlag = "false";
    }

    if ( sFlag == "true" )
    {
		cf_setParam(ds_input, "sale_typ_cd_min" , div_saleInfo.cmb_saleDtlTyp.Value);           //판매유형
		cf_setParam(ds_input, "eqp_mdl_cd"      , ds_equipmentSale.GetColumn(0,"eqp_mdl_cd"));  //단말기모델코드
		cf_setParam(ds_input, "org_id"          , sOrgId);    //조직ID
		cf_setParam(ds_input, "sl_net_cd"       , div_saleInfo.cmb_slNetCd.Value );             //영업망
		cf_setParam(ds_input, "ds_net_cd"       , ds_generalSale.GetColumn(0,"ds_net_cd"));     //유통망
		cf_setParam(ds_input, "agrmt_prd_cd"    , ds_generalSale.GetColumn(0,"agrmt_prd_cd") ); //약정기간코드
		cf_setParam(ds_input, "sale_dtm"        , sSaleDtm);       //판매일시
		cf_setParam(ds_input, "sale_plc"        , div_dealCoInfo.edt_salePlc.Text );       //판매일시

		var sSvcID = "getSplstMdlInfo";
		var sInDs  = "nc_input_fieldDs=ds_input";
		var sOutDs = "ds_splstMdl=ds_splstMdl";
		var sArg   = "sktst.sal.SCO#getOnlineSplstMdlInfo";

		http.Sync = true;
		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
		http.Sync = false;
    }
}

/*******************************************************************************
 * @description    : USIM 운영모델 단가표 조회
*******************************************************************************/
function f_getUplst()
{
    var sUsimMdlCd = ds_generalSaleIfInfo.GetColumn(0,"usim_mdl_cd");
	var sSaleDtm = div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text + "00";

    //중고 판매일 경우 가격조회 안함.
    if ( div_usimInfo.chk_usimOldSaleYn.Value == "Y" )
    {
        return;
    }

    //판매수작업입력->기기변경 일경우 정책은 6월 정책을 가져온다.
    if ( substr(ds_generalSale.GetColumn(0,"rmks"),0,5) == "DUMMY" )
    {
        sSaleDtm = "20090601010101";
        return;
    }

    if ( !uf_IsNull(sUsimMdlCd) )
    {
		cf_setParam(ds_input, "mdl_id"     , sUsimMdlCd);   //USIM모델코드
		cf_setParam(ds_input, "sale_dtm"   , sSaleDtm );    //판매일시

		var sSvcID = "getUplst";
		var sInDs  = "nc_input_fieldDs=ds_input";
		var sOutDs = "ds_uplst=List";
		var sArg   = "sktst.sal.SCO#getUplst";

		http.Sync = true;
		cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
		http.Sync = false;
    }
}

/*******************************************************************************
 * @description    : 단말기 할부/현금에 따른 계산.
*******************************************************************************/
function f_procAmt()
{
/*
    var iAmt = 0;
    var iAgrmtPrdCdAmt = ParseInt(div_saleInfo.msk_agrmtPrdCdAmt.Value);
    var iAddSuptCdAmt = ParseInt(div_saleInfo.msk_addSuptCdAmt.Value);
    var iOcbMcardAmt = ParseInt(div_saleInfo.msk_ocbMcardPrc.Value);
    var iAllotSalePrc = ParseInt(ds_splstMdl.GetColumn(0,"allot_sale_prc"));
    var iCashSalePrc = ParseInt(ds_splstMdl.GetColumn(0,"cash_sale_prc"));

    //할부 : A, 현금 : B
    if ( ds_generalSale.GetColumn(0,"settl_cond") == "A" )
    {
        //할부금액 계산
        iAmt = iAllotSalePrc - iOcbMcardAmt;
        div_prcInfo.msk_eqpAllotSalePrc.Value = iAmt;

        //현금 표시는 0
        div_prcInfo.msk_eqpCashSalePrc.Value = 0;
        //div_payment.msk_totSaleAmt.Value = 0;
    }
    else
    {
        //할부금액 0
        div_prcInfo.msk_eqpAllotSalePrc.value = 0;

        //현금 표시는 계산
        iAmt = iCashSalePrc - iOcbMcardAmt;

        div_prcInfo.msk_eqpCashSalePrc.Value = iAmt;
        //div_payment.msk_totSaleAmt.Value = iAmt;
    }
*/
}

/*******************************************************************************
 * @description    : SKT예수금 변경시 수납정보의 SKT예수금 금액 변경
*******************************************************************************/
function f_sktPrprcAmt()
{
    var iAmt           = 0;
    var iScrbFee       = 0;
    var iMnpCmms       = 0;
    var iFrgGrtInsuFee = ParseInt(div_sktPrprc.msk_frgGrtInsuFee.Value);

    //가입비는 즉납 : 01 일때만 수납
    if ( ds_sktPrprc.GetColumn(0,"scrb_fee_cl") == "01" )
    {
        iScrbFee = ParseInt(div_sktPrprc.msk_scrbFee.Value);
    }

    //번호이동 수수료는 완납 : 1 일때만 수납
    if ( ds_sktPrprc.GetColumn(0,"mnp_cmms_cl") == "1" )
    {
        iMnpCmms = ParseInt(div_sktPrprc.msk_mnpCmms.Value);
    }

    iAmt = iScrbFee + iMnpCmms + iFrgGrtInsuFee;
    div_sktPrprc.msk_sktTotSaleAmt.Value = iAmt;
}

/*******************************************************************************
 * @description    : OCB/Mcard사 변경시 처리.
*******************************************************************************/
/*
function div_saleInfo_cmb_ocbMcard_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	if (uf_IsNull(strCode))
	{
	    div_saleInfo.msk_ocbMcardPrc.Value = "0";
	    div_saleInfo.msk_ocbMcardPrc.Enable = false;
	}
	else
	{
	    div_saleInfo.msk_ocbMcardPrc.Value = "0";
	    div_saleInfo.msk_ocbMcardPrc.Enable = true;
	}

	f_procAmt();
}

function div_saleInfo_msk_ocbMcardPrc_OnKeyDown(obj,nChar,bShift,bCtrl,bAlt,nLLParam,nHLParam)
{
    if(nChar == 13)
    {
	    f_procAmt();
	}
}
*/
/*******************************************************************************
 * @description    : 판매변경 전 값 backkup - 변경 전 값을 ds_beforeInfo 셋팅
*******************************************************************************/
function f_chgBeforeValueBackup()
{
//code, code명 초기값 backup 필요
//시점은 언제로 ??? --> 조회 call back 에서 backup
//ds_beforeInfo....
    cf_setParam(ds_beforeInfo, "sale_plc"           , div_dealCoInfo.edt_salePlc.Text );
    cf_setParam(ds_beforeInfo, "sale_plc_nm"        , div_dealCoInfo.edt_salePlcNm.Text );
    cf_setParam(ds_beforeInfo, "eqp_ser_num"        , div_eqpInfo.edt_eqpSerNum.Text );
    cf_setParam(ds_beforeInfo, "eqp_mdl_cd"         , div_eqpInfo.edt_eqpMdlCd.Text );
    cf_setParam(ds_beforeInfo, "usim_ser_num"       , div_usimInfo.edt_usimSerNum.Text );
    cf_setParam(ds_beforeInfo, "usim_mdl_cd"        , div_usimInfo.edt_usimMdlCd.Text );
    cf_setParam(ds_beforeInfo, "sale_dtl_typ_nm"    , div_saleInfo.cmb_saleDtlTyp.Text );
    cf_setParam(ds_beforeInfo, "ds_net_nm"          , div_saleInfo.cmb_dsNetCd.Text );
    cf_setParam(ds_beforeInfo, "tagrmt_prd_nm"      , div_saleInfo.cmb_tAgrmtPrdCd.Text );
    cf_setParam(ds_beforeInfo, "settl_cond_nm"      , div_eqpInfo.rdo_settlCond.Text );
    cf_setParam(ds_beforeInfo, "allot_prd_nm"       , div_eqpInfo.cmb_allotPrdCd.Text );
    cf_setParam(ds_beforeInfo, "add_supt_nm"        , div_saleInfo.cmb_addSuptCd.Text );
    cf_setParam(ds_beforeInfo, "add_supt_cd_amt"    , div_saleInfo.msk_addSuptCdAmt.Value );
    cf_setParam(ds_beforeInfo, "ocb_mcard_nm"       , div_saleInfo.cmb_ocbMcard.Text );
    cf_setParam(ds_beforeInfo, "ocb_mcard_prc"      , div_saleInfo.msk_addSuptCdAmt.Value );
    cf_setParam(ds_beforeInfo, "eqp_allot_sale_prc" , div_prcInfo.msk_eqpAllotSalePrc.Value );
    cf_setParam(ds_beforeInfo, "eqp_cash_sale_prc"  , div_prcInfo.msk_eqpCashSalePrc.Value );
    cf_setParam(ds_beforeInfo, "scrb_fee_cl"        , div_sktPrprc.edt_scrbFeeClNm.Text );
    cf_setParam(ds_beforeInfo, "scrb_fee"           , div_sktPrprc.msk_scrbFee.Value );
    cf_setParam(ds_beforeInfo, "mnp_cmms_cl"        , div_sktPrprc.edt_mnpCmmsClNm.Text );
    cf_setParam(ds_beforeInfo, "mnp_cmms"           , div_sktPrprc.msk_mnpCmms.Value );
    cf_setParam(ds_beforeInfo, "frg_grt_insu_fee_cl", div_sktPrprc.cmb_frgGrtInsuCl.Text );
    cf_setParam(ds_beforeInfo, "frg_grt_insu_fee"   , div_sktPrprc.msk_frgGrtInsuFee.Value );

    return;
}

/*******************************************************************************
 * @description    : 기기변경 처리 팝업 화면 open - 변경 후 값을 ds_afterInfo 셋팅
 *                                                  팝업화면 open
*******************************************************************************/
function f_callProdChgProcess()
{
    //ds_afterInfo.ClearData();
    //ds_beforeInfo.ClearData();

    var sExchgRsnCd = "";
    var nExchgRow   = "";
    var sExchgRsnNm = "";

    var sBadRsnCd = "";
    var nRow      = "";
    var sBadRsnNm = "";

    cf_setParam(ds_beforeInfo, "sale_plc"          , ds_generalSale.GetColumn(0,"sale_plc_old") );
    cf_setParam(ds_beforeInfo, "sale_plc_nm"       , ds_generalSale.GetColumn(0,"sale_plc_nm_old") );
    cf_setParam(ds_beforeInfo, "eqp_ser_num"       , ds_equipmentSale.GetColumn(0,"eqp_ser_num_old") );
    cf_setParam(ds_beforeInfo, "eqp_mdl_cd"        , ds_equipmentSale.GetColumn(0,"eqp_mdl_cd_old") );
    cf_setParam(ds_beforeInfo, "eqp_mdl_nm"        , ds_equipmentSale.GetColumn(0,"eqp_mdl_nm_old") );
    cf_setParam(ds_beforeInfo, "eqp_old_sale_yn"   , ds_equipmentSale.GetColumn(0,"eqp_old_sale_yn_old") );

    cf_setParam(ds_beforeInfo, "usim_ser_num"      , ds_usimSale.GetColumn(0,"usim_ser_num_old") );
    cf_setParam(ds_beforeInfo, "usim_mdl_cd"       , ds_usimSale.GetColumn(0,"usim_mdl_cd_old") );
    cf_setParam(ds_beforeInfo, "usim_mdl_nm"       , ds_usimSale.GetColumn(0,"usim_mdl_nm_old") );
    cf_setParam(ds_beforeInfo, "usim_old_sale_yn"  , ds_usimSale.GetColumn(0,"usim_old_sale_yn_old") );

    cf_setParam(ds_afterInfo, "sale_plc"           , div_dealCoInfo.edt_salePlc.Text );
    cf_setParam(ds_afterInfo, "sale_plc_nm"        , div_dealCoInfo.edt_salePlcNm.Text );

    if (FV_EQP_CHG_YN == "Y" )
    {
		cf_setParam(ds_afterInfo, "eqp_ser_num"        , ds_equipmentSale.GetColumn(0,"eqp_ser_num") );
		cf_setParam(ds_afterInfo, "eqp_mdl_cd"         , ds_equipmentSale.GetColumn(0,"eqp_mdl_cd") );
		cf_setParam(ds_afterInfo, "eqp_mdl_nm"         , ds_equipmentSale.GetColumn(0,"eqp_mdl_nm") );
		cf_setParam(ds_afterInfo, "eqp_old_sale_yn"    , div_eqpInfo.chk_eqpOldSaleYn.Value );
    }
    else
    {
		cf_setParam(ds_afterInfo, "eqp_ser_num"        , ds_equipmentSale.GetColumn(0,"eqp_ser_num_old") );
		cf_setParam(ds_afterInfo, "eqp_mdl_cd"         , ds_equipmentSale.GetColumn(0,"eqp_mdl_cd_old") );
		cf_setParam(ds_afterInfo, "eqp_mdl_nm"         , ds_equipmentSale.GetColumn(0,"eqp_mdl_nm_old") );
		cf_setParam(ds_afterInfo, "eqp_old_sale_yn"    , ds_equipmentSale.GetColumn(0,"eqp_old_sale_yn_old") );
    }

    sExchgRsnCd = ds_prodExchange.GetColumn(0,"eqp_exchg_rsn_cd");
    nExchgRow   = ds_cmbExchgRsnCd.FindRow("comm_cd_val", sExchgRsnCd);
    sExchgRsnNm = ds_cmbExchgRsnCd.GetColumn(nExchgRow,"comm_cd_val_nm");

    sBadRsnCd = ds_prodExchange.GetColumn(0,"eqp_bad_rsn_cd");
    nRow      = ds_cmbBadRsnCd.FindRow("comm_cd_val", sBadRsnCd);
    sBadRsnNm = ds_cmbBadRsnCd.GetColumn(nRow,"comm_cd_val_nm");

    cf_setParam(ds_afterInfo, "eqp_bad_rsn_cd"     , sExchgRsnNm );
    cf_setParam(ds_afterInfo, "eqp_bad_rsn_nm"     , sBadRsnNm );
    cf_setParam(ds_afterInfo, "eqp_allot_sale_prc" , div_prcInfo.msk_eqpAllotSalePrc.Value );

    if (FV_USIM_CHG_YN == "Y" )
    {
		cf_setParam(ds_afterInfo, "usim_ser_num"       , ds_disUsimInfo.GetColumn(0,"usim_ser_num") );
		cf_setParam(ds_afterInfo, "usim_mdl_cd"        , ds_disUsimInfo.GetColumn(0,"usim_mdl_cd") );
		cf_setParam(ds_afterInfo, "usim_mdl_nm"        , ds_usimSale.GetColumn(0,"usim_mdl_nm") );
		cf_setParam(ds_afterInfo, "usim_old_sale_yn"   , div_usimInfo.chk_UsimOldSaleYn.Value );
    }
    else
    {
		cf_setParam(ds_afterInfo, "usim_ser_num"       , ds_usimSale.GetColumn(0,"usim_ser_num_old") );
		cf_setParam(ds_afterInfo, "usim_mdl_cd"        , ds_usimSale.GetColumn(0,"usim_mdl_cd_old") );
		cf_setParam(ds_afterInfo, "usim_mdl_nm"        , ds_usimSale.GetColumn(0,"usim_mdl_nm_old") );
		cf_setParam(ds_afterInfo, "usim_old_sale_yn"   , ds_usimSale.GetColumn(0,"usim_old_sale_yn_old") );
    }

    sExchgBadRsnCd = "";
    nExchgRow      = "";
    sExchgBadRsnNm = "";

    sBadRsnCd = "";
    nRow      = "";
    sBadRsnNm = "";

    sExchgRsnCd = ds_prodExchange.GetColumn(0,"usim_exchg_rsn_cd");
    nExchgRow   = ds_cmbExchgRsnCd.FindRow("comm_cd_val", sExchgRsnCd);
    sExchgRsnNm = ds_cmbExchgRsnCd.GetColumn(nExchgRow,"comm_cd_val_nm");

    sBadRsnCd = ds_prodExchange.GetColumn(0,"usim_bad_rsn_cd");
    nRow      = ds_cmbBadRsnCd.FindRow("comm_cd_val", sBadRsnCd);
    sBadRsnNm = ds_cmbBadRsnCd.GetColumn(nRow,"comm_cd_val_nm");

    cf_setParam(ds_afterInfo, "usim_bad_rsn_cd"    , sExchgRsnCd );
    cf_setParam(ds_afterInfo, "usim_bad_rsn_nm"    , sBadRsnNm );
	var sArg  = "excuteMethod="  + quote("lf_saleChgProcessPopupClose");

	// 팝업 함수
	dialog("SAL::SALSCP00500.xml", sArg, 336,700);

}

/*******************************************************************************
 * @description    : 판매변경 처리 팝업 화면 open - 변경 후 값을 ds_afterInfo 셋팅
 *                                                  팝업화면 open
*******************************************************************************/
function f_callSaleChgProcess()
{
    //20090408
    var sSaleDtlTypNmOld   = ds_commSaleDtlTyp.getColumn( ds_commSaleDtlTyp.FindRow("comm_cd_val",ds_generalSale.GetColumn(0,"sale_dtl_typ_old")), "comm_cd_val_nm");
    var sDsNetNmOld        = ds_commDsNetCd.getColumn( ds_commDsNetCd.FindRow("comm_cd_val",ds_generalSale.GetColumn(0,"ds_net_cd_old")), "comm_cd_val_nm");
    var sAgrmtPrdNmOld     = ds_commAgrmtPrdCd.getColumn( ds_commAgrmtPrdCd.FindRow("comm_cd_val",ds_generalSale.GetColumn(0,"agrmt_prd_cd_old")), "comm_cd_val_nm");
    var sSettlCondNmOld    = ds_commSettlCond.getColumn( ds_commSettlCond.FindRow("comm_cd_val",ds_generalSale.GetColumn(0,"settl_cond_old")), "comm_cd_val_nm");
    var sAllotPrdNmOld     = ds_commAllotPrdCd.getColumn( ds_commAllotPrdCd.FindRow("comm_cd_val",ds_generalSale.GetColumn(0,"allot_prd_cd_old")), "comm_cd_val_nm");
    var sOcbMcardNmOld     = ds_commOcbMcard.getColumn( ds_commOcbMcard.FindRow("comm_cd_val",ds_ocbMcard.GetColumn(0,"ocb_mcard_old")), "comm_cd_val_nm");
    var sScrbFeeClNmOld    = ds_commScrbFeeCl.getColumn( ds_commScrbFeeCl.FindRow("comm_cd_val",ds_sktPrprc.GetColumn(0,"scrb_fee_cl_old")), "comm_cd_val_nm");
    var sMnpCmmsClNmOld    = ds_commMnpCmmsCl.getColumn( ds_commMnpCmmsCl.FindRow("comm_cd_val",ds_sktPrprc.GetColumn(0,"mnp_cmms_cl_old")), "comm_cd_val_nm");
    var sFrgGrtInsuClNmOld = ds_commFrgGrtInsuCl.getColumn( ds_commFrgGrtInsuCl.FindRow("comm_cd_val",ds_sktPrprc.GetColumn(0,"frg_grt_insu_cl_old")), "comm_cd_val_nm");

    cf_setParam(ds_beforeInfo, "sale_plc"           , ds_generalSale.GetColumn(0,"sale_plc_old") );
    cf_setParam(ds_beforeInfo, "sale_plc_nm"        , ds_generalSale.GetColumn(0,"sale_plc_nm_old") );
    cf_setParam(ds_beforeInfo, "eqp_ser_num"        , ds_equipmentSale.GetColumn(0,"eqp_ser_num_old") );
    cf_setParam(ds_beforeInfo, "eqp_mdl_cd"         , ds_equipmentSale.GetColumn(0,"eqp_mdl_nm_old") );
    cf_setParam(ds_beforeInfo, "usim_ser_num"       , ds_usimSale.GetColumn(0,"usim_ser_num_old") );
    cf_setParam(ds_beforeInfo, "usim_mdl_cd"        , ds_usimSale.GetColumn(0,"usim_mdl_nm_old") );
    cf_setParam(ds_beforeInfo, "sale_dtl_typ_nm"    , sSaleDtlTypNmOld );
    cf_setParam(ds_beforeInfo, "ds_net_nm"          , sDsNetNmOld );
    cf_setParam(ds_beforeInfo, "tagrmt_prd_nm"      , sAgrmtPrdNmOld );
    cf_setParam(ds_beforeInfo, "settl_cond_nm"      , sSettlCondNmOld );
    cf_setParam(ds_beforeInfo, "allot_prd_nm"       , sAllotPrdNmOld );
    cf_setParam(ds_beforeInfo, "add_supt_nm"        , ds_generalSale.GetColumn(0,"add_supt_nm_old") );
    cf_setParam(ds_beforeInfo, "add_supt_cd_amt"    , ds_generalSale.GetColumn(0,"add_supt_cd_amt_old") );
    cf_setParam(ds_beforeInfo, "ocb_mcard_nm"       , sOcbMcardNmOld );
    cf_setParam(ds_beforeInfo, "ocb_mcard_prc"      , ds_ocbmcard.GetColumn(0,"ocb_mcard_prc_old") );
    cf_setParam(ds_beforeInfo, "eqp_allot_sale_prc" , ds_allotSale.GetColumn(0,"eqp_allot_sale_prc_old") );
    cf_setParam(ds_beforeInfo, "eqp_cash_sale_prc"  , ds_cashSale.GetColumn(0,"eqp_cash_sale_prc_old") );
    cf_setParam(ds_beforeInfo, "scrb_fee_cl_nm"     , sScrbFeeClNmOld );
    cf_setParam(ds_beforeInfo, "scrb_fee"           , ds_sktPrprc.GetColumn(0,"scrb_fee_old") );
    cf_setParam(ds_beforeInfo, "mnp_cmms_cl_nm"     , sMnpCmmsClNmOld );
    cf_setParam(ds_beforeInfo, "mnp_cmms"           , ds_sktPrprc.GetColumn(0,"mnp_cmms_old") );
    cf_setParam(ds_beforeInfo, "frg_grt_insu_cl_nm" , sFrgGrtInsuClNmOld );
    cf_setParam(ds_beforeInfo, "frg_grt_insu_fee"   , ds_sktPrprc.GetColumn(0,"frg_grt_insu_fee_old") );

    cf_setParam(ds_afterInfo, "sale_plc"           , div_dealCoInfo.edt_salePlc.Text );
    cf_setParam(ds_afterInfo, "sale_plc_nm"        , div_dealCoInfo.edt_salePlcNm.Text );
    cf_setParam(ds_afterInfo, "eqp_ser_num"        , ds_equipmentSale.GetColumn(0,"eqp_ser_num") );
    cf_setParam(ds_afterInfo, "eqp_mdl_cd"         , div_eqpInfo.edt_eqpMdlCd.Text );
    cf_setParam(ds_afterInfo, "usim_ser_num"       , ds_usimSale.GetColumn(0,"usim_ser_num") );
    cf_setParam(ds_afterInfo, "usim_mdl_cd"        , div_usimInfo.edt_usimMdlCd.Text );
    cf_setParam(ds_afterInfo, "sale_dtl_typ_nm"    , div_saleInfo.cmb_saleDtlTyp.Text );
    cf_setParam(ds_afterInfo, "ds_net_nm"          , div_saleInfo.edt_dsNetNm.Text );
    cf_setParam(ds_afterInfo, "tagrmt_prd_nm"      , div_saleInfo.edt_agrmtPrdNm.Text );
    cf_setParam(ds_afterInfo, "settl_cond_nm"      , div_eqpInfo.edt_settlCondNm.Text );
    cf_setParam(ds_afterInfo, "allot_prd_nm"       , div_eqpInfo.edt_allotPrdNm.Text );
    cf_setParam(ds_afterInfo, "add_supt_nm"        , div_saleInfo.edt_addSuptNm.Text );
    cf_setParam(ds_afterInfo, "add_supt_cd_amt"    , div_saleInfo.msk_addSuptCdAmt.Value );
    cf_setParam(ds_afterInfo, "ocb_mcard_nm"       , div_saleInfo.edt_ocbMcard.Text );
    cf_setParam(ds_afterInfo, "ocb_mcard_prc"      , div_saleInfo.msk_ocbMcardPrc.Value );
    cf_setParam(ds_afterInfo, "eqp_allot_sale_prc" , div_prcInfo.msk_eqpAllotSalePrc.Value );
    cf_setParam(ds_afterInfo, "eqp_cash_sale_prc"  , div_prcInfo.msk_eqpCashSalePrc.Value );
    cf_setParam(ds_afterInfo, "scrb_fee_cl_nm"     , div_sktPrprc.edt_scrbFeeClNm.Text );
    cf_setParam(ds_afterInfo, "scrb_fee"           , div_sktPrprc.msk_scrbFee.Value );
    //cf_setParam(ds_afterInfo, "tu_scrb_fee_cl_nm"  , div_sktPrprc.cmb_tuScrbFeeCl.Text );
    //cf_setParam(ds_afterInfo, "tu_scrb_fee"        , div_sktPrprc.msk_tuScrbFee.Value );
    //cf_setParam(ds_afterInfo, "bond_prem"          , div_sktPrprc.msk_bondPrem.Value );
    cf_setParam(ds_afterInfo, "mnp_cmms_cl_nm"     , div_sktPrprc.edt_mnpCmmsClNm.Text );
    cf_setParam(ds_afterInfo, "mnp_cmms"           , div_sktPrprc.msk_mnpCmms.Value );
    cf_setParam(ds_afterInfo, "frg_grt_insu_cl_nm" , div_sktPrprc.edt_frgGrtInsuClNm.Text );
    cf_setParam(ds_afterInfo, "frg_grt_insu_fee"   , div_sktPrprc.msk_frgGrtInsuFee.Value );

	var sArg  = "excuteMethod="  + quote("lf_saleChgProcessPopupClose");

	// 팝업 함수
	dialog("SAL::SALAGS00400.xml", sArg, 452,700);

}

/*******************************************************************************
 * @description    : 판매변경 처리 팝업 저장 선택시 실행
 *                   판매변경된 값을 저장
*******************************************************************************/
function lf_saleChgProcessPopupClose()
{
    var sSaleChgHstCl = div_prodExchange.cmb_saleChgHstCl.Value;
    var iOcbMcardPrc = 0;

    //DataSet copy : ds_cashSale -> ds_cashSaleCopy
    ds_cashSaleCopy.Copy("ds_cashSale");
    ds_allotSaleCopy.Copy("ds_allotSale");
    ds_ocbMcardCopy.Copy("ds_ocbMcard");
    ds_paymentCopy.Copy("ds_payment");
    ds_agreementAstamtCopy.Copy("ds_agreementAstamt");
    ds_sktPrprcCopy.Copy("ds_sktPrprc");

    if (sSaleChgHstCl == "01")
    {
        return;
    }
    else if ( sSaleChgHstCl == "02" || sSaleChgHstCl == "09" )
    {
		//현금판매가 - 단말기/USIM
		//현재 판매가 OLD -> 이전판매가 , 현재판매가 - 입력 받은 판매가 사용
		ds_cashSaleCopy.SetColumn(0, "bf_eqp_cash_sale_prc" , "0" );
		ds_cashSaleCopy.SetColumn(0, "bf_usim_cash_sale_prc", "0" );
		ds_cashSaleCopy.SetColumn(0, "bf_etc_prod_sale_prc" , "0" );
		ds_cashSaleCopy.SetColumn(0, "bf_etc_prod_org_prc"  , "0" );

		//할부매출
		ds_allotSaleCopy.SetColumn(0, "bf_eqp_allot_sale_prc"  , "0" );
		ds_allotSaleCopy.SetColumn(0, "bf_usim_allot_sale_prc" , "0" );

		//약정보조금
		ds_agreementAstamtCopy.SetColumn(0, "bf_agrmt_astamt",           "0" );
		ds_agreementAstamtCopy.SetColumn(0, "bf_add_agrmt_astamt",       "0" );
		ds_agreementAstamtCopy.SetColumn(0, "bf_retention_agrmt_astamt", "0" );
		ds_agreementAstamtCopy.SetColumn(0, "bf_excel_cust_prom_amt",    "0" );

		//OCBMCARD
		ds_ocbMcardCopy.SetColumn(0, "bf_ocb_mcard"     , "" );
		ds_ocbMcardCopy.SetColumn(0, "bf_ocb_mcard_prc" , "0" );

		//SKT예수금
		ds_sktPrprcCopy.SetColumn(0, "bf_scrb_fee"         , "0" );
		ds_sktPrprcCopy.SetColumn(0, "bf_tu_scrb_fee"      , "0" );
		ds_sktPrprcCopy.SetColumn(0, "bf_mnp_cmms"         , "0" );
		ds_sktPrprcCopy.SetColumn(0, "bf_frg_grt_insu_fee" , "0" );

		//수납
		ds_paymentCopy.SetColumn(0, "bf_cash_pay_amt"            , "0" );
		ds_paymentCopy.SetColumn(0, "bf_phone_safe_amt"            , "0" );
		ds_paymentCopy.SetColumn(0, "bf_crdtcrd_corp1"           , "" );
		ds_paymentCopy.SetColumn(0, "bf_crdtcrd_pay_amt1"        , "0" );
		ds_paymentCopy.SetColumn(0, "bf_crdtcrd_corp2"           , "" );
		ds_paymentCopy.SetColumn(0, "bf_crdtcrd_pay_amt2"        , "0" );
		ds_paymentCopy.SetColumn(0, "bf_skt_prprc_cash_pay_amt"  , "0" );
		ds_paymentCopy.SetColumn(0, "bf_skt_prprc_prxpay_amt"    , "0" );

		//판매수수료
		ds_saleCmms.SetColumn(0, "bf_sale_cmms"         , "0" );
		ds_saleCmms.SetColumn(0, "bf_supl_svc_sale_cmms", "0" );
		ds_saleCmms.SetColumn(0, "bf_add_sale_cmms"     , "0" );
		ds_saleCmms.SetColumn(0, "bf_cmms_adj"          , "0" );

		//장려금
		ds_promotionMoney.SetColumn(0, "bf_gnrl_pr_mny"        , "0" );
		ds_promotionMoney.SetColumn(0, "bf_supl_svc_pr_mny"    , "0" );
		ds_promotionMoney.SetColumn(0, "bf_sale_suprt_amt"     , "0" );
		ds_promotionMoney.SetColumn(0, "bf_add_sale_suprt_amt" , "0" );

    }
    else
    {
		//현금판매가 - 단말기/USIM
		//현재 판매가 OLD -> 이전판매가 , 현재판매가 - 입력 받은 판매가 사용
		ds_cashSaleCopy.SetColumn(0, "bf_eqp_cash_sale_prc" , ds_cashSaleCopy.GetColumn(0, "eqp_cash_sale_prc_old") );
		ds_cashSaleCopy.SetColumn(0, "bf_usim_cash_sale_prc", ds_cashSaleCopy.GetColumn(0, "usim_cash_sale_prc_old") );
		ds_cashSaleCopy.SetColumn(0, "bf_etc_prod_sale_prc" , ds_cashSaleCopy.GetColumn(0, "etc_prod_sale_prc_old") );
		ds_cashSaleCopy.SetColumn(0, "bf_etc_prod_org_prc"  , ds_cashSaleCopy.GetColumn(0, "etc_prod_org_prc_old") );

		//할부매출
		ds_allotSaleCopy.SetColumn(0, "bf_eqp_allot_sale_prc"  , ds_allotSaleCopy.GetColumn(0, "eqp_allot_sale_prc_old") );
		ds_allotSaleCopy.SetColumn(0, "bf_usim_allot_sale_prc" , ds_allotSaleCopy.GetColumn(0, "usim_allot_sale_prc_old") );

		//약정보조금
		ds_agreementAstamtCopy.SetColumn(0, "bf_agrmt_astamt",           ds_agreementAstamtCopy.GetColumn(0, "agrmt_astamt_old") );
		ds_agreementAstamtCopy.SetColumn(0, "bf_add_agrmt_astamt",       ds_agreementAstamtCopy.GetColumn(0, "add_agrmt_astamt_old") );
		ds_agreementAstamtCopy.SetColumn(0, "bf_retention_agrmt_astamt", ds_agreementAstamtCopy.GetColumn(0, "retention_agrmt_astamt_old") );
		ds_agreementAstamtCopy.SetColumn(0, "bf_excel_cust_prom_amt",    ds_agreementAstamtCopy.GetColumn(0, "excel_cust_prom_amt_old") );

		//OCBMCARD
		ds_ocbMcardCopy.SetColumn(0, "bf_ocb_mcard"     , ds_ocbMcardCopy.GetColumn(0, "ocb_mcard_old") );
		ds_ocbMcardCopy.SetColumn(0, "bf_ocb_mcard_prc" , ds_ocbMcardCopy.GetColumn(0, "ocb_mcard_prc_old") );

		//SKT예수금
		ds_sktPrprcCopy.SetColumn(0, "bf_scrb_fee"         , ds_sktPrprcCopy.GetColumn(0, "scrb_fee_old") );
		ds_sktPrprcCopy.SetColumn(0, "bf_tu_scrb_fee"      , ds_sktPrprcCopy.GetColumn(0, "tu_scrb_fee_old") );
		ds_sktPrprcCopy.SetColumn(0, "bf_mnp_cmms"         , ds_sktPrprcCopy.GetColumn(0, "mnp_cmms_old") );
		ds_sktPrprcCopy.SetColumn(0, "bf_frg_grt_insu_fee" , ds_sktPrprcCopy.GetColumn(0, "frg_grt_insu_fee_old") );

		//수납
		ds_paymentCopy.SetColumn(0, "bf_cash_pay_amt"            , ds_paymentCopy.GetColumn(0, "cash_pay_amt_old") );
		ds_paymentCopy.SetColumn(0, "bf_phone_safe_amt"          , ds_paymentCopy.GetColumn(0, "phone_safe_amt_old") );
		ds_paymentCopy.SetColumn(0, "bf_crdtcrd_corp1"           , ds_paymentCopy.GetColumn(0, "crdtcrd_corp1_old") );
		ds_paymentCopy.SetColumn(0, "bf_crdtcrd_pay_amt1"        , ds_paymentCopy.GetColumn(0, "crdtcrd_pay_amt1_old") );
		ds_paymentCopy.SetColumn(0, "bf_crdtcrd_corp2"           , ds_paymentCopy.GetColumn(0, "crdtcrd_corp2_old") );
		ds_paymentCopy.SetColumn(0, "bf_crdtcrd_pay_amt2"        , ds_paymentCopy.GetColumn(0, "crdtcrd_pay_amt2_old") );
		ds_paymentCopy.SetColumn(0, "bf_skt_prprc_cash_pay_amt"  , ds_paymentCopy.GetColumn(0, "skt_cash_pay_amt_old") );
		ds_paymentCopy.SetColumn(0, "bf_skt_prprc_prxpay_amt"    , ds_paymentCopy.GetColumn(0, "skt_prxpay_amt_old") );

		//판매수수료
		ds_saleCmms.SetColumn(0, "bf_sale_cmms"         , ds_saleCmms.GetColumn(0, "sale_cmms_old") );
		ds_saleCmms.SetColumn(0, "bf_supl_svc_sale_cmms", ds_saleCmms.GetColumn(0, "supl_svc_sale_cmms_old") );
		ds_saleCmms.SetColumn(0, "bf_add_sale_cmms"     , ds_saleCmms.GetColumn(0, "add_sale_cmms_old") );
		ds_saleCmms.SetColumn(0, "bf_cmms_adj"          , ds_saleCmms.GetColumn(0, "cmms_adj_old") );

		//장려금
		ds_promotionMoney.SetColumn(0, "bf_gnrl_pr_mny"        , ds_promotionMoney.GetColumn(0, "gnrl_pr_mny_old") );
		ds_promotionMoney.SetColumn(0, "bf_supl_svc_pr_mny"    , ds_promotionMoney.GetColumn(0, "supl_svc_pr_mny_old") );
		ds_promotionMoney.SetColumn(0, "bf_sale_suprt_amt"     , ds_promotionMoney.GetColumn(0, "sale_suprt_amt_old") );
		ds_promotionMoney.SetColumn(0, "bf_add_sale_suprt_amt" , ds_promotionMoney.GetColumn(0, "add_sale_suprt_amt_old") );
    }

    //수납정보
    f_paymentChange();

    /*
    //업무처리구분     -  판매출고 : SO  , 기기교환출고 : EO
    //업무처리구분코드 -  판매출고 : 204 , 기기교환출고 : 205
    */
    var sEqpHldPlcId = ds_equipmentSale.GetColumn(0,"hld_plc_id");  //출고처
    var sEqpMdlCd    = ds_equipmentSale.GetColumn(0,"eqp_mdl_cd");  //단말기 모델
    var sEqpSerNum   = ds_equipmentSale.GetColumn(0,"eqp_ser_num"); //단말기일련번호
    var sEqpColorCd  = ds_equipmentSale.GetColumn(0,"eqp_color_cd");//단말기 색상
    var sSaleChgDt   = "";       //입출고일자

    if (FV_IF_PROC_CL == "4")
    {
        sSaleChgDt = parent.ds_channelChgIfInfo.getcolumn(0,"proc_dt");
    }
    else
    {
        sSaleChgDt = div_prodExchange.cal_saleChgDtm.value;
    }

    //판매 및 기기교환 출고
    var sEqpActFlag    = "SO";              //업무처리구분
    var sEqpProcFlag   = "I";               //트랜잭션
    var sEqpOutCl      = "204";             //업무처리구분코드
    var sEqpOutSchdDt  = sSaleChgDt;        //출고일자
    var sEqpOutPlcId   = sEqpHldPlcId;      //출고처
    var sEqpProdCl     = "1";               //상품구분 1:단말기, 2:USIM
    var sEqpProdCd     = sEqpMdlCd;         //상품코드(모델코드)
    //var sEqpSerNum     = sEqpSerNum;        //일련번호
    //var sEqpColorCd    = sEqpColorCd;       //색상코드
    var sEqpBadYn      = "01";              //불량여부   01:정상  02:불량
    var sEqpDisSt      = "01";              //재고상태  가용
    var sEqpOutQty     = "1";               //출고수량
    var sEqpUpdCnt     = ds_disEqpInfo.GetColumn(0,"dis_upd_cnt");   //update count
    var sSaveYn        = "N";
    //var sEqpOldSaleYn  = div_eqpInfo.chk_eqpOldSaleYn.Value;

    //판매취소 입고 및 기기교환 입고
    var sEqpInActFlag  = "SO";              //업무처리구분
    var sEqpInProcFlag = "I";               //트랜잭션
    var sEqpInCl       = "204";             //업무처리구분코드
    var sEqpInSchdDt   = sSaleChgDt;        //입고일자
    var sEqpInPlcId    = sEqpHldPlcId;      //입고처
    var sEqpInProdCl   = "1";               //상품구분 1:단말기, 2:USIM
    var sEqpInProdCd   = sEqpMdlCd;         //상품코드(모델코드)
    var sEqpInSerNum   = sEqpSerNum;        //일련번호
    var sEqpInColorCd  = sEqpColorCd;       //색상코드
    var sEqpInBadYn    = "01";              //불량여부  01:정상  02:불량
    var sEqpInDisSt    = "01";              //재고상태
    var sEqpInQty      = "1";               //입고수량
    var sEqpInUpdCnt   = "";                //update count
    var sEqpInSaveYn   = "N";
    var sEqpInOpLclCd  = "";                //불량사유 대분류
    var sEqpInOpMclCd  = "";                //불량사유 중분류

    var sEqpOldSaleYn   = div_eqpInfo.chk_eqpOldSaleYn.Value;
    var sEqpInOldSaleYn = ds_equipmentSale.GetColumn(0,"eqp_old_sale_yn_old");


   // var sSaleChgHstCl = ds_generalSale.GetColumn(0,"sale_chg_hst_cl");
    if ( !uf_IsNull(sEqpSerNum) && !uf_IsNull(sEqpMdlCd) )
    {
        //if ( div_eqpInfo.chk_eqpOldSaleYn.Value == "N" )
        //{
			if ( sSaleChgHstCl == "07") //판매취소
			{
			   if ( sEqpOldSaleYn == "N" )
			   {
					sSaveYn       = "Y";
					sEqpInActFlag = "SI";
					sEqpInCl      = "105";

					//sEqpInProcFlag = "I";   //c:정상(판매취소이지만 불량으로 등록안함)  I:불량
					//sEqpInBadYn    = "02";

					sEqpInOpLclCd  = ds_prodExchange.GetColumn(0,"eqp_bad_rsn_cd");
					sEqpInOpMclCd  = ds_prodExchange.GetColumn(0,"eqp_bad_dtl_rsn_cd");

					if (ds_prodExchange.GetColumn(0,"eqp_exchg_rsn_cd") == "2") //고객요청
					{
						sEqpInProcFlag = "C";
						sEqpInBadYn    = "01";
					}
					else
					{
						if (uf_IsNull(seqpInOpLclCd) || uf_IsNull(sEqpInOpMclCd))
						{
							alert("단말기 불량사유를 입력해 주십시요.");
							return;
						}

						sEqpInProcFlag = "I";   //c:정상(판매취소이지만 불량으로 등록안함)  I:불량
						sEqpInBadYn    = "02";
					}

					cf_setParam(ds_disInEqpInfo, "save_yn"          , sSaveYn );         //중고판매여부
					cf_setParam(ds_disInEqpInfo, "act_flag"         , sEqpInActFlag);    //업무처리구분-판매출고:SO, 기기교환출고:EO
					cf_setParam(ds_disInEqpInfo, "proc_flag"        , sEqpInProcFlag);   //Transaction처리 : I
					//cf_setParam(ds_disEqpInfo, "out_mgmt_no"      , "");               //출고관리번호 (채번 procedure)
					cf_setParam(ds_disInEqpInfo, "in_cl"            , sEqpInCl);         //출고구분- 판매출고:204, 기기교환출고:205
					cf_setParam(ds_disInEqpInfo, "in_schd_dt"       , sEqpInSchdDt);     //입고예정일자
					cf_setParam(ds_disInEqpInfo, "in_plc_id"        , sEqpInPlcId);      //출고처ID
					cf_setParam(ds_disInEqpInfo, "prod_cl"          , sEqpInProdCl);     //상품구분 - 단말기, USIM
					cf_setParam(ds_disInEqpInfo, "prod_cd"          , sEqpInProdCd);     //상품코드
					cf_setParam(ds_disInEqpInfo, "color_cd"         , sEqpInColorCd);    //색상코드
					cf_setParam(ds_disInEqpInfo, "ser_num"          , sEqpInSerNum);     //일련번호
					cf_setParam(ds_disInEqpInfo, "bad_yn"           , sEqpInBadYn);      //불량여부
					cf_setParam(ds_disInEqpInfo, "op_lcl_cd"        , sEqpInOpLclCd);    //불량사유 대분류
					cf_setParam(ds_disInEqpInfo, "op_mcl_cd"        , sEqpInOpMclCd);    //불량사유 중분류
					cf_setParam(ds_disInEqpInfo, "dis_st"           , sEqpInDisSt);      //재고상태
					cf_setParam(ds_disInEqpInfo, "in_qty"           , sEqpInQty);        //출고수량
					cf_setParam(ds_disInEqpInfo, "user_id"          , FV_LOGIN_USER_ID); //처리자
					cf_setParam(ds_disInEqpInfo, "rmks"             , "단말기판매취소입고"); //비고-판매출고, 기기교환출고

					cf_setParam(ds_disInEqpInfo, "eqp_old_sale_yn"  , sEqpOldSaleYn ); //중고판매여부
    			}
                else
                {
                    cf_setParam(ds_disInEqpInfo, "eqp_old_sale_yn"  , sEqpOldSaleYn);    //중고판매여부
                }
			}
			else if ( sSaleChgHstCl == "02" )
			{
				if ( uf_IsNull(ds_equipmentSale.GetColumn(0,"eqp_ser_num_old"))
			          && uf_IsNull(sEqpSerNum) )
			    {
			        //판매취소입고/출고
			        sEqpInActFlag  = "";
			        sEqpInOutCl    = "";
			        sEqpInProcFlag = "";
			        sEqpInBadYn    = "";
			        sEqpInOpLclCd  = "";
			        sEqpInOpMclCd  = "";

			        sEqpActFlag    = "";
			        sEqpOutCl      = "";

			        sEqpInOldSaleYn = "Y";   //재고에서 처리하지 않기 위해 중고로 셋팅
			        sEqpOldSaleYn   = "Y";   //재고에서 처리하지 않기 위해 중고로 셋팅
			    }
			    else if ( uf_IsNull(ds_equipmentSale.GetColumn(0,"eqp_ser_num_old")) && !uf_IsNull(sEqpSerNum) )
			    {
			        //판매취소입고/출고
			        sEqpInActFlag  = "";
			        sEqpInOutCl    = "";
			        sEqpInProcFlag = "";
			        sEqpInBadYn    = "";
			        sEqpInOpLclCd  = "";
			        sEqpInOpMclCd  = "";

			        sEqpActFlag    = "SO";
			        sEqpOutCl      = "204";

			        sEqpInOldSaleYn  = "Y";   //재고에서 처리하지 않기 위해 중고로 셋팅
			    }
			    if ( sEqpSerNum == ds_equipmentSale.GetColumn(0,"eqp_ser_num_old")
			         && sEqpMdlCd == ds_equipmentSale.GetColumn(0,"eqp_mdl_cd_old") )
			    {
			        //판매취소입고/출고
			        sEqpInActFlag  = "SI";
			        sEqpInCl       = "105";
			        sEqpInProcFlag = "C";
			        sEqpInBadYn    = "01";
			        sEqpInOpLclCd  = "";
			        sEqpInOpMclCd  = "";

			        sEqpActFlag    = "SO";
			        sEqpOutCl      = "204";
			    }
			    else
			    {
			        //기기교환입고/출고
			        sEqpInActFlag  = "EI";
			        sEqpInCl       = "104";
			        sEqpInProcFlag = "I";
			        sEqpInBadYn    = "02";
			        sEqpInOpLclCd  = ds_prodExchange.GetColumn(0,"eqp_bad_rsn_cd");
			        sEqpInOpMclCd  = ds_prodExchange.GetColumn(0,"eqp_bad_dtl_rsn_cd");

			        sEqpActFlag    = "EO";
			        sEqpOutCl      = "205";
			    }

			    //이전 판매된 단말기가 중고인지 check
			    var sEqpInSaveYn = "";
			    if (ds_equipmentSale.GetColumn(0,"eqp_old_sale_yn_old") == "N")
			    {
			        sEqpInSaveYn = "Y";
			    }
			    else
			    {
			        sEqpInSaveYn = "N";
			    }

				//sEqpInProcFlag = "I";
				sEqpInSchdDt   = sSaleChgDt;
				//sEqpInPlcId    = sDisHldPlcOld;
				sEqpInProdCl   = "1";
				sEqpInProdCd   = ds_equipmentSale.GetColumn(0,"eqp_mdl_cd_old");
				sEqpInColorCd  = ds_equipmentSale.GetColumn(0,"eqp_color_cd_old");
				sEqpInSerNum   = ds_equipmentSale.GetColumn(0,"eqp_ser_num_old");
				sEqpInDisSt    = "01";
				sEqpInOutQty   = "1";

			    //판매취소/기기교환 입고
				cf_setParam(ds_disInEqpInfo, "save_yn"           , sEqpInSaveYn );    //중고판매여부
				cf_setParam(ds_disInEqpInfo, "act_flag"          , sEqpInActFlag);    //업무처리구분-판매출고:SO, 기기교환출고:EO
				cf_setParam(ds_disInEqpInfo, "proc_flag"         , sEqpInProcFlag);   //Transaction처리 : I
				//cf_setParam(ds_disInEqpInfo, "out_mgmt_no"       , "");             //출고관리번호 (채번 procedure)
				cf_setParam(ds_disInEqpInfo, "in_cl"             , sEqpInCl);         //출고구분- 판매출고:204, 기기교환출고:205
				cf_setParam(ds_disInEqpInfo, "in_schd_dt"        , sEqpInSchdDt);     //출고예정일자
				cf_setParam(ds_disInEqpInfo, "in_plc_id"         , sEqpInPlcId);      //출고처ID
				cf_setParam(ds_disInEqpInfo, "prod_cl"           , sEqpInProdCl);     //상품구분 - 단말기, USIM
				cf_setParam(ds_disInEqpInfo, "prod_cd"           , sEqpInProdCd);     //상품코드
				cf_setParam(ds_disInEqpInfo, "color_cd"          , sEqpInColorCd);    //색상코드
				cf_setParam(ds_disInEqpInfo, "ser_num"           , sEqpInSerNum);     //일련번호
				cf_setParam(ds_disInEqpInfo, "bad_yn"            , sEqpInBadYn);      //불량여부
				cf_setParam(ds_disInEqpInfo, "op_lcl_cd"         , sEqpInOpLclCd);    //불량사유 대분류
				cf_setParam(ds_disInEqpInfo, "op_mcl_cd"         , sEqpInOpMclCd);    //불량사유 중분류
				cf_setParam(ds_disInEqpInfo, "dis_st"            , sEqpInDisSt);      //재고상태
				cf_setParam(ds_disInEqpInfo, "in_qty"            , sEqpInOutQty);     //출고수량
				cf_setParam(ds_disInEqpInfo, "user_id"           , FV_LOGIN_USER_ID); //처리자
				cf_setParam(ds_disInEqpInfo, "rmks"              , sEqpInActFlag + " : " + sEqpInCl + " : 입고"); //비고-판매출고, 기기교환출고
				cf_setParam(ds_disInEqpInfo, "eqp_old_sale_yn"   , sEqpInOldSaleYn); //중고판매여부

				//판매출고/기기교환 출고
				cf_setParam(ds_disOutEqpInfo, "save_yn"          , sSaveYn );         //중고판매여부
				cf_setParam(ds_disOutEqpInfo, "act_flag"         , sEqpActFlag);      //업무처리구분-판매출고:SO, 기기교환출고:EO
				cf_setParam(ds_disOutEqpInfo, "proc_flag"        , sEqpProcFlag);     //Transaction처리 : I
				//cf_setParam(ds_disOutEqpInfo, "out_mgmt_no"    , "");               //출고관리번호 (채번 procedure)
				cf_setParam(ds_disOutEqpInfo, "out_cl"           , sEqpOutCl);        //출고구분- 판매출고:204, 기기교환출고:205
				cf_setParam(ds_disOutEqpInfo, "out_schd_dt"      , sEqpOutSchdDt);    //출고예정일자
				cf_setParam(ds_disOutEqpInfo, "out_plc_id"       , sEqpOutPlcId);     //출고처ID
				cf_setParam(ds_disOutEqpInfo, "prod_cl"          , sEqpProdCl);       //상품구분 - 단말기, USIM
				cf_setParam(ds_disOutEqpInfo, "prod_cd"          , sEqpProdCd);       //상품코드
				cf_setParam(ds_disOutEqpInfo, "color_cd"         , sEqpColorCd);      //색상코드
				cf_setParam(ds_disOutEqpInfo, "ser_num"          , sEqpSerNum);       //일련번호
				cf_setParam(ds_disOutEqpInfo, "bad_yn"           , sEqpBadYn);        //불량여부
				cf_setParam(ds_disOutEqpInfo, "dis_st"           , sEqpDisSt);        //재고상태
				cf_setParam(ds_disOutEqpInfo, "out_qty"          , sEqpOutQty);       //출고수량
				cf_setParam(ds_disOutEqpInfo, "user_id"          , FV_LOGIN_USER_ID); //처리자
				cf_setParam(ds_disOutEqpInfo, "rmks"             , sEqpActFlag + " : " + sEqpOutCl +" : 출고"); //비고-판매출고, 기기교환출고
			    cf_setParam(ds_disOutEqpInfo, "eqp_old_sale_yn"  , sEqpOldSaleYn ); //중고판매여부

			}
        //}
    }






    /*
    //업무처리구분     -  판매출고 : SO  , 기기교환출고 : EO
    //업무처리구분코드 -  판매출고 : 204 , 기기교환출고 : 205
    */
    var sTloginHldPlcId = ds_tloginSale.GetColumn(0,"hld_plc_id");  //출고처
    var sTloginMdlCd    = ds_tloginSale.GetColumn(0,"tlogin_mdl_cd");  //단말기 모델
    var sTloginSerNum   = ds_tloginSale.GetColumn(0,"tlogin_ser_num"); //단말기일련번호
    var sTloginColorCd  = ds_tloginSale.GetColumn(0,"tlogin_color_cd");//단말기 색상
    var sSaleChgDt   = "";       //입출고일자

    //판매 및 기기교환 출고
    var sTloginActFlag    = "SO";              //업무처리구분
    var sTloginProcFlag   = "I";               //트랜잭션
    var sTloginOutCl      = "204";             //업무처리구분코드
    var sTloginOutSchdDt  = sSaleChgDt;        //출고일자
    var sTloginOutPlcId   = sTloginHldPlcId;      //출고처
    var sTloginProdCl     = "1";               //상품구분 1:단말기, 2:USIM
    var sTloginProdCd     = sTloginMdlCd;         //상품코드(모델코드)
    //var sEqpSerNum     = sEqpSerNum;        //일련번호
    //var sEqpColorCd    = sEqpColorCd;       //색상코드
    var sTloginBadYn      = "01";              //불량여부   01:정상  02:불량
    var sTloginDisSt      = "01";              //재고상태  가용
    var sTloginOutQty     = "1";               //출고수량
    var sTloginUpdCnt     = "";                //update count
    var sSaveYn        = "N";
    //var sEqpOldSaleYn  = div_eqpInfo.chk_eqpOldSaleYn.Value;

    //판매취소 입고 및 기기교환 입고
    var sTloginInActFlag  = "SO";              //업무처리구분
    var sTloginInProcFlag = "I";               //트랜잭션
    var sTloginInCl       = "204";             //업무처리구분코드
    var sTloginInSchdDt   = sSaleChgDt;        //입고일자
    var sTloginInPlcId    = sTloginHldPlcId;      //입고처
    var sTloginInProdCl   = "1";               //상품구분 1:단말기, 2:USIM
    var sTloginInProdCd   = sTloginMdlCd;         //상품코드(모델코드)
    var sTloginInSerNum   = sTloginSerNum;        //일련번호
    var sTloginInColorCd  = sTloginColorCd;       //색상코드
    var sTloginInBadYn    = "01";              //불량여부  01:정상  02:불량
    var sTloginInDisSt    = "01";              //재고상태
    var sTloginInQty      = "1";               //입고수량
    var sTloginInUpdCnt   = "";                //update count
    var sTloginInSaveYn   = "N";
    var sTloginInOpLclCd  = "";                //불량사유 대분류
    var sTloginInOpMclCd  = "";                //불량사유 중분류

    var sTloginOldSaleYn   = div_tloginInfo.chk_tloginOldSaleYn.Value;
    var sTloginInOldSaleYn = ds_tloginSale.GetColumn(0,"tlogin_old_sale_yn_old");


    if ( !uf_IsNull(sTloginSerNum) && !uf_IsNull(sTloginMdlCd) )
    {
        //if ( div_eqpInfo.chk_eqpOldSaleYn.Value == "N" )
        //{
			if ( sSaleChgHstCl == "07") //판매취소
			{
			    if ( sTloginOldSaleYn == "N" )
			    {
					sSaveYn       = "Y";
					sTloginInActFlag = "SI";
					sTloginInCl      = "105";

					//sTloginInOpLclCd  = ds_prodExchange.GetColumn(0,"eqp_bad_rsn_cd");
					//sTloginInOpMclCd  = ds_prodExchange.GetColumn(0,"eqp_bad_dtl_rsn_cd");

					cf_setParam(ds_disInTloginInfo, "save_yn"          , sSaveYn );         //중고판매여부
					cf_setParam(ds_disInTloginInfo, "act_flag"         , sTloginInActFlag);    //업무처리구분-판매출고:SO, 기기교환출고:EO
					cf_setParam(ds_disInTloginInfo, "proc_flag"        , sTloginInProcFlag);   //Transaction처리 : I
					//cf_setParam(ds_disTloginInfo, "out_mgmt_no"      , "");               //출고관리번호 (채번 procedure)
					cf_setParam(ds_disInTloginInfo, "in_cl"            , sTloginInCl);         //출고구분- 판매출고:204, 기기교환출고:205
					cf_setParam(ds_disInTloginInfo, "in_schd_dt"       , sTloginInSchdDt);     //입고예정일자
					cf_setParam(ds_disInTloginInfo, "in_plc_id"        , sTloginInPlcId);      //출고처ID
					cf_setParam(ds_disInTloginInfo, "prod_cl"          , sTloginInProdCl);     //상품구분 - 단말기, USIM
					cf_setParam(ds_disInTloginInfo, "prod_cd"          , sTloginInProdCd);     //상품코드
					cf_setParam(ds_disInTloginInfo, "color_cd"         , sTloginInColorCd);    //색상코드
					cf_setParam(ds_disInTloginInfo, "ser_num"          , sTloginInSerNum);     //일련번호
					cf_setParam(ds_disInTloginInfo, "bad_yn"           , sTloginInBadYn);      //불량여부
					cf_setParam(ds_disInTloginInfo, "op_lcl_cd"        , sTloginInOpLclCd);    //불량사유 대분류
					cf_setParam(ds_disInTloginInfo, "op_mcl_cd"        , sTloginInOpMclCd);    //불량사유 중분류
					cf_setParam(ds_disInTloginInfo, "dis_st"           , sTloginInDisSt);      //재고상태
					cf_setParam(ds_disInTloginInfo, "in_qty"           , sTloginInQty);        //출고수량
					cf_setParam(ds_disInTloginInfo, "user_id"          , FV_LOGIN_USER_ID); //처리자
					cf_setParam(ds_disInTloginInfo, "rmks"             , "TLOGIN단말기판매취소입고"); //비고-판매출고, 기기교환출고

					cf_setParam(ds_disInTloginInfo, "tlogin_old_sale_yn"  , sTloginOldSaleYn ); //중고판매여부
    			}
                else
                {
                    cf_setParam(ds_disInTloginInfo, "tlogin_old_sale_yn"  , sTloginOldSaleYn);  //중고판매여부
                }
			}
			else if ( sSaleChgHstCl == "02" )
			{
			    if ( uf_IsNull(ds_tloginSale.GetColumn(0,"tlogin_ser_num_old"))
			          && uf_IsNull(sTloginSerNum) )
			    {
			        //판매취소입고/출고
			        sTloginInActFlag  = "";
			        sTloginInOutCl    = "";
			        sTloginInProcFlag = "";
			        sTloginInBadYn    = "";
			        sTloginInOpLclCd  = "";
			        sTloginInOpMclCd  = "";

			        sTloginActFlag    = "";
			        sTloginOutCl      = "";

			        sTloginInOldSaleYn = "Y";   //재고에서 처리하지 않기 위해 중고로 셋팅
			        sTloginOldSaleYn   = "Y";   //재고에서 처리하지 않기 위해 중고로 셋팅
			    }
			    else if ( uf_IsNull(ds_tloginSale.GetColumn(0,"tlogin_ser_num_old")) && !uf_IsNull(sTloginSerNum) )
			    {
			        //판매취소입고/출고
			        sTloginInActFlag  = "";
			        sTloginInOutCl    = "";
			        sTloginInProcFlag = "";
			        sTloginInBadYn    = "";
			        sTloginInOpLclCd  = "";
			        sTloginInOpMclCd  = "";

			        sTloginActFlag    = "SO";
			        sTloginOutCl      = "204";

			        sTloginInOldSaleYn  = "Y";   //재고에서 처리하지 않기 위해 중고로 셋팅
			    }
			    if ( sTloginSerNum == ds_tloginSale.GetColumn(0,"tlogin_ser_num_old")
			         && sTloginMdlCd == ds_tloginSale.GetColumn(0,"tlogin_mdl_cd_old") )
			    {
			        //판매취소입고/출고
			        sTloginInActFlag  = "SI";
			        sTloginInCl       = "105";
			        sTloginInProcFlag = "C";
			        sTloginInBadYn    = "01";
			        sTloginInOpLclCd  = "";
			        sTloginInOpMclCd  = "";

			        sTloginActFlag    = "SO";
			        sTloginOutCl      = "204";
			    }
			    else
			    {
					//기기교환입고/출고
			        sTloginInActFlag  = "EI";
			        sTloginInCl       = "104";
			        sTloginInProcFlag = "I";
			        sTloginInBadYn    = "02";
			        sTloginInOpLclCd  = "";
			        sTloginInOpMclCd  = "";

			        sTloginActFlag    = "EO";
			        sTloginOutCl      = "205";
			    }

			    //이전 판매된 단말기가 중고인지 check
			    var sTloginInSaveYn = "";
			    if (ds_tloginSale.GetColumn(0,"tlogin_old_sale_yn_old") == "N")
			    {
			        sTloginInSaveYn = "Y";
			    }
			    else
			    {
			        sTloginInSaveYn = "N";
			    }

				//sTloginInProcFlag = "I";
				sTloginInSchdDt   = sSaleChgDt;
				//sTloginInPlcId    = sDisHldPlcOld;
				sTloginInProdCl   = "1";
				sTloginInProdCd   = ds_tloginSale.GetColumn(0,"tlogin_mdl_cd_old");
				sTloginInColorCd  = ds_tloginSale.GetColumn(0,"tlogin_color_cd_old");
				sTloginInSerNum   = ds_tloginSale.GetColumn(0,"tlogin_ser_num_old");
				sTloginInDisSt    = "01";
				sTloginInOutQty   = "1";

			    //판매취소/기기교환 입고
				cf_setParam(ds_disInTloginInfo, "save_yn"           , sTloginInSaveYn );    //중고판매여부
				cf_setParam(ds_disInTloginInfo, "act_flag"          , sTloginInActFlag);    //업무처리구분-판매출고:SO, 기기교환출고:EO
				cf_setParam(ds_disInTloginInfo, "proc_flag"         , sTloginInProcFlag);   //Transaction처리 : I
				//cf_setParam(ds_disInTloginInfo, "out_mgmt_no"       , "");             //입고관리번호 (채번 procedure)
				cf_setParam(ds_disInTloginInfo, "in_cl"             , sTloginInCl);         //입고구분- 판매출고:204, 기기교환출고:205
				cf_setParam(ds_disInTloginInfo, "in_schd_dt"        , sTloginInSchdDt);     //입고예정일자
				cf_setParam(ds_disInTloginInfo, "in_plc_id"         , sTloginInPlcId);      //입고처ID
				cf_setParam(ds_disInTloginInfo, "prod_cl"           , sTloginInProdCl);     //상품구분 - 단말기, USIM
				cf_setParam(ds_disInTloginInfo, "prod_cd"           , sTloginInProdCd);     //상품코드
				cf_setParam(ds_disInTloginInfo, "color_cd"          , sTloginInColorCd);    //색상코드
				cf_setParam(ds_disInTloginInfo, "ser_num"           , sTloginInSerNum);     //일련번호
				cf_setParam(ds_disInTloginInfo, "bad_yn"            , sTloginInBadYn);      //불량여부
				cf_setParam(ds_disInTloginInfo, "op_lcl_cd"         , sTloginInOpLclCd);    //불량사유 대분류
				cf_setParam(ds_disInTloginInfo, "op_mcl_cd"         , sTloginInOpMclCd);    //불량사유 중분류
				cf_setParam(ds_disInTloginInfo, "dis_st"            , sTloginInDisSt);      //재고상태
				cf_setParam(ds_disInTloginInfo, "in_qty"            , sTloginInOutQty);     //출고수량
				cf_setParam(ds_disInTloginInfo, "user_id"           , FV_LOGIN_USER_ID); //처리자
				cf_setParam(ds_disInTloginInfo, "rmks"              , sTloginInActFlag + " : " + sTloginInCl + " : 입고"); //비고-판매출고, 기기교환출고
				cf_setParam(ds_disInTloginInfo, "tlogin_old_sale_yn", sTloginInOldSaleYn); //중고판매여부

				//판매출고/기기교환 출고
				cf_setParam(ds_disOutTloginInfo, "save_yn"          , sSaveYn );         //중고판매여부
				cf_setParam(ds_disOutTloginInfo, "act_flag"         , sTloginActFlag);      //업무처리구분-판매출고:SO, 기기교환출고:EO
				cf_setParam(ds_disOutTloginInfo, "proc_flag"        , sTloginProcFlag);     //Transaction처리 : I
				//cf_setParam(ds_disOutTloginInfo, "out_mgmt_no"    , "");               //출고관리번호 (채번 procedure)
				cf_setParam(ds_disOutTloginInfo, "out_cl"           , sTloginOutCl);        //출고구분- 판매출고:204, 기기교환출고:205
				cf_setParam(ds_disOutTloginInfo, "out_schd_dt"      , sTloginOutSchdDt);    //출고예정일자
				cf_setParam(ds_disOutTloginInfo, "out_plc_id"       , sTloginOutPlcId);     //출고처ID
				cf_setParam(ds_disOutTloginInfo, "prod_cl"          , sTloginProdCl);       //상품구분 - 단말기, USIM
				cf_setParam(ds_disOutTloginInfo, "prod_cd"          , sTloginProdCd);       //상품코드
				cf_setParam(ds_disOutTloginInfo, "color_cd"         , sTloginColorCd);      //색상코드
				cf_setParam(ds_disOutTloginInfo, "ser_num"          , sTloginSerNum);       //일련번호
				cf_setParam(ds_disOutTloginInfo, "bad_yn"           , sTloginBadYn);        //불량여부
				cf_setParam(ds_disOutTloginInfo, "dis_st"           , sTloginDisSt);        //재고상태
				cf_setParam(ds_disOutTloginInfo, "out_qty"          , sTloginOutQty);       //출고수량
				cf_setParam(ds_disOutTloginInfo, "user_id"          , FV_LOGIN_USER_ID); //처리자
				cf_setParam(ds_disOutTloginInfo, "rmks"             , sTloginActFlag + " : " + sTloginOutCl +" : 출고"); //비고-판매출고, 기기교환출고
			    cf_setParam(ds_disOutTloginInfo, "tlogin_old_sale_yn"  , sTloginOldSaleYn ); //중고판매여부

			}
        //}
    }





    var sUsimHldPlcId = ds_usimSale.GetColumn(0,"hld_plc_id");  //출고처
    var sUsimMdlCd    = ds_usimSale.GetColumn(0,"usim_mdl_cd");      //USIM 모델
    var sUsimSerNum   = ds_usimSale.GetColumn(0,"usim_ser_num");     //USIM 일련번호

    //USIM  판매 및 기기교환 출고
    var sUsimActFlag    = "SO";                                      //업무처리구분
    var sUsimProcFlag   = "I";                                       //업무처리구분
    var sUsimOutCl      = "204";                                     //업무처리구분코드
    var sUsimOutSchdDt  = sSaleChgDt;                                //출고일자
    var sUsimOutPlcId   = sUsimHldPlcId;                             //출고처
    var sUsimProdCl     = "2";                                       //상품구분 1:단말기, 2:USIM
    var sUsimProdCd     = sUsimMdlCd;                                //상품코드(모델코드)
//    var sUsimSerNum     = ds_generalSaleIfInfo.GetColumn(0,"usim_ser_num");      //일련번호
//    var sUsimSerNum     = sUsimSerNum;                               //일련번호
    var sUsimColorCd    = "99";                                      //색상코드
    var sUsimBadYn      = "01";                                      //불량여부  01:정상  02:불량
    var sUsimDisSt      = "01";                                      //재고상태
    var sUsimOutQty     = "1";                                       //출고수량
    var sUsimUpdCnt     = "";                                        //update count

    //USIM 판매취소 및 기기교환 입고
    var sUsimInActFlag  = "SO";                                      //업무처리구분
    var sUsimInProcFlag = "I";                                       //업무처리구분
    var sUsimInCl       = "204";                                     //업무처리구분코드
    var sUsimInSchdDt   = sSaleChgDt;                                //출고일자
    var sUsimInPlcId    = sUsimHldPlcId;                             //출고처
    var sUsimInProdCl   = "2";                                       //상품구분 1:단말기, 2:USIM
    var sUsimInProdCd   = sUsimMdlCd;                                //상품코드(모델코드)
    var sUsimInSerNum   = sUsimSerNum;                               //일련번호
    var sUsimInColorCd  = "99";                                      //색상코드
    var sUsimInBadYn    = "01";                                      //불량여부  01:정상  02:불량
    var sUsimInDisSt    = "01";                                      //재고상태
    var sUsimInOutQty   = "1";                                       //출고수량
    var sUsimUpdCnt     = "";                                        //update count
    var sUsimInOpLclCd  = "";                                        //불량사유 대분류
    var sUsimInOpMclCd  = "";                                        //불량사유 중분류

    var sUsimOldSaleYn   = div_usimInfo.chk_usimOldSaleYn.Value;
    var sUsimInOldSaleYn = ds_usimSale.GetColumn(0,"usim_old_sale_yn_old");
    if ( !uf_IsNull(sUsimSerNum) && uf_IsNull(sUsimInOldSaleYn) )
    {
        //sUsimInOldSaleYn = iif(uf_IsNull(sUsimInOldSaleYn), "N", sUsimInOldSaleYn);
        sUsimInOldSaleYn = "N";
    }



    //var sSaleChgHstCl = ds_generalSale.GetColumn(0,"sale_chg_hst_cl");
    if ( !uf_IsNull(sUsimSerNum) && !uf_IsNull(sUsimMdlCd) )
    {

        //if ( sUsimOldSaleYn == "N" )
        //{
			if ( sSaleChgHstCl == "07") //판매취소
			{
			    if ( sUsimOldSaleYn == "N" )
			    {
					sSaveYn = "Y";
					sUsimActFlag = "SI";
					sUsimOutCl   = "105";

					sUsimInOpLclCd  = ds_prodExchange.GetColumn(0,"usim_bad_rsn_cd");
					sUsimInOpMclCd  = ds_prodExchange.GetColumn(0,"usim_bad_dtl_rsn_cd");

					if (ds_prodExchange.GetColumn(0,"usim_exchg_rsn_cd") == "2") //고객요청 eqp_exchg_rsn_cd
					{
						sUsimInProcFlag = "C";
						sUsimInBadYn    = "01";
					}
					else
					{
						if (uf_IsNull(sUsimInOpLclCd) )
						{
							alert("USIM 불량사유를 입력해 주십시요.");
							return;
						}

						sUsimInProcFlag = "I";
						sUsimInBadYn    = "02";
					}

					cf_setParam(ds_disInUsimInfo, "save_yn"          , sSaveYn );           //중고판매여부
					cf_setParam(ds_disInUsimInfo, "usim_old_sale_yn" , sUsimOldSaleYn );    //중고판매여부
					cf_setParam(ds_disInUsimInfo, "act_flag"         , sUsimActFlag);       //업무처리구분-판매출고:SO, 기기교환출고:EO
					cf_setParam(ds_disInUsimInfo, "proc_flag"        , sUsimInProcFlag);    //Transaction처리 : I
					//cf_setParam(ds_disOutUsimInfo, "out_mgmt_no"      , "");              //출고관리번호 (채번 procedure)
					cf_setParam(ds_disInUsimInfo, "in_cl"            , sUsimOutCl);         //출고구분- 판매출고:204, 기기교환출고:205
					cf_setParam(ds_disInUsimInfo, "in_schd_dt"       , sUsimOutSchdDt);     //출고예정일자
					cf_setParam(ds_disInUsimInfo, "in_plc_id"        , sUsimOutPlcId);      //출고처ID
					cf_setParam(ds_disInUsimInfo, "prod_cl"          , sUsimProdCl);        //상품구분 - 단말기, USIM
					cf_setParam(ds_disInUsimInfo, "prod_cd"          , sUsimProdCd);        //상품코드
					cf_setParam(ds_disInUsimInfo, "color_cd"         , sUsimColorCd);       //색상코드
					cf_setParam(ds_disInUsimInfo, "ser_num"          , sUsimSerNum);        //일련번호
					cf_setParam(ds_disInUsimInfo, "bad_yn"           , sUsimBadYn);         //불량여부
					cf_setParam(ds_disInUsimInfo, "op_lcl_cd"        , sUsimInOpLclCd);     //불량사유 대분류
					cf_setParam(ds_disInUsimInfo, "op_mcl_cd"        , sUsimInOpMclCd);     //불량사유 중분류
					cf_setParam(ds_disInUsimInfo, "dis_st"           , sUsimDisSt);         //재고상태
					cf_setParam(ds_disInUsimInfo, "in_qty"           , sUsimOutQty);        //출고수량
					cf_setParam(ds_disInUsimInfo, "user_id"          , FV_LOGIN_USER_ID);   //처리자
					cf_setParam(ds_disInUsimInfo, "rmks"             , "USIM판매취소입고"); //비고-판매출고, 기기교환출고
                    cf_setParam(ds_disInUsimInfo, "usim_old_sale_yn"   , sUsimOldSaleYn);    //중고판매여부
                }
                else
                {
                    cf_setParam(ds_disInUsimInfo,  "usim_old_sale_yn"   , sUsimOldSaleYn);    //중고판매여부
                }
			}
			else if ( sSaleChgHstCl == "02" )
			{
			    if ( uf_IsNull(ds_usimSale.GetColumn(0,"usim_ser_num_old")) && uf_IsNull(sUsimSerNum) )
			    {
			        //판매취소입고/출고
			        sUsimInActFlag  = "";
			        sUsimInOutCl    = "";
			        sUsimInProcFlag = "";
			        sUsimInBadYn    = "";
			        sUsimInOpLclCd  = "";
			        sUsimInOpMclCd  = "";

			        sUsimActFlag    = "";
			        sUsimOutCl      = "";

			        sUsimInOldSaleYn = "Y";   //재고에서 처리하지 않기 위해 중고로 셋팅
			        sUsimOldSaleYn   = "Y";   //재고에서 처리하지 않기 위해 중고로 셋팅
			    }
			    else if ( uf_IsNull(ds_usimSale.GetColumn(0,"usim_ser_num_old")) && !uf_IsNull(sUsimSerNum) )
			    {
			        //판매취소입고/출고
			        sUsimInActFlag  = "";
			        sUsimInOutCl    = "";
			        sUsimInProcFlag = "";
			        sUsimInBadYn    = "";
			        sUsimInOpLclCd  = "";
			        sUsimInOpMclCd  = "";

			        sUsimActFlag    = "SO";
			        sUsimOutCl      = "204";

			        sUsimInOldSaleYn  = "Y";   //재고에서 처리하지 않기 위해 중고로 셋팅
			    }
			    else if ( sUsimSerNum == ds_usimSale.GetColumn(0,"usim_ser_num_old")
			         && sUsimMdlCd == ds_usimSale.GetColumn(0,"usim_mdl_cd_old") )
			    {
			        //판매취소입고/출고
			        sUsimInActFlag  = "SI";
			        sUsimInOutCl    = "105";
			        sUsimInProcFlag = "C";
			        sUsimInBadYn    = "01";
			        sUsimInOpLclCd  = "";
			        sUsimInOpMclCd  = "";

			        sUsimActFlag    = "SO";
			        sUsimOutCl      = "204";
			    }
			    else
			    {
			        //기기교환입고/출고
			        sUsimInActFlag  = "EI";
			        sUsimInOutCl    = "104";
			        sUsimInProcFlag = "I";
			        sUsimInBadYn    = "02";
			        sUsimInOpLclCd  = ds_prodExchange.GetColumn(0,"usim_bad_rsn_cd");
			        sUsimInOpMclCd  = ds_prodExchange.GetColumn(0,"usim_bad_dtl_rsn_cd");

			        sUsimActFlag    = "EO";
			        sUsimOutCl      = "205";
			    }

			    //이전 판매된 단말기가 중고인지 check
			    var sUsimInSaveYn = "";
			    if (ds_usimSale.GetColumn(0,"usim_old_sale_yn_old") == "N")
			    {
			        sUsimInSaveYn = "Y";
			    }
			    else
			    {
			        sUsimInSaveYn = "N";
			    }
				//sUsimInProcFlag = "I";
				sUsimInSchdDt    = sSaleChgDt;
				//sUsimInPlcId     = sDisHldPlcOld;
				sUsimInProdCl    = "2";
				sUsimInProdCd    = ds_usimSale.GetColumn(0,"usim_mdl_cd_old");
				sUsimInColorCd   = sUsimColorCd;
				sUsimInSerNum    = ds_usimSale.GetColumn(0,"usim_ser_num_old");

				sUsimInDisSt     = "01";
				sUsimInOutQty    = "1";

			    //판매취소/기기교환 입고
				cf_setParam(ds_disInUsimInfo, "save_yn"           , sUsimInSaveYn );     //중고판매여부
				cf_setParam(ds_disInUsimInfo, "usim_old_sale_yn"  , ds_usimSale.GetColumn(0,"usim_old_sale_yn_old")); //중고판매여부
				cf_setParam(ds_disInUsimInfo, "act_flag"          , sUsimInActFlag);     //업무처리구분-판매출고:SO, 기기교환출고:EO
				cf_setParam(ds_disInUsimInfo, "proc_flag"         , sUsimInProcFlag);    //Transaction처리 : I
				//cf_setParam(ds_disInEqpInfo, "out_mgmt_no"       , "");                //출고관리번호 (채번 procedure)
				cf_setParam(ds_disInUsimInfo, "in_cl"             , sUsimInCl);          //출고구분- 판매출고:204, 기기교환출고:205
				cf_setParam(ds_disInUsimInfo, "in_schd_dt"        , sUsimInSchdDt);      //출고예정일자
				cf_setParam(ds_disInUsimInfo, "in_plc_id"         , sUsimInPlcId);       //출고처ID
				cf_setParam(ds_disInUsimInfo, "prod_cl"           , sUsimInProdCl);      //상품구분 - 단말기, USIM
				cf_setParam(ds_disInUsimInfo, "prod_cd"           , sUsimInProdCd);      //상품코드
				cf_setParam(ds_disInUsimInfo, "color_cd"          , sUsimInColorCd);     //색상코드
				cf_setParam(ds_disInUsimInfo, "ser_num"           , sUsimInSerNum);      //일련번호
				cf_setParam(ds_disInUsimInfo, "bad_yn"            , sUsimInBadYn);       //불량여부
				cf_setParam(ds_disInUsimInfo, "op_lcl_cd"         , sUsimInOpLclCd);     //불량사유 대분류
				cf_setParam(ds_disInUsimInfo, "op_mcl_cd"         , sUsimInOpMclCd);     //불량사유 중분류
				cf_setParam(ds_disInUsimInfo, "dis_st"            , sUsimInDisSt);       //재고상태
				cf_setParam(ds_disInUsimInfo, "in_qty"            , sUsimInOutQty);      //출고수량
				cf_setParam(ds_disInUsimInfo, "user_id"           , FV_LOGIN_USER_ID);   //처리자
				cf_setParam(ds_disInUsimInfo, "rmks"              , "USIM판매취소입고"); //비고-판매출고, 기기교환출고
                cf_setParam(ds_disInUsimInfo, "usim_old_sale_yn"  , sUsimInOldSaleYn);

				//판매출고/기기교환 출고
				cf_setParam(ds_disOutUsimInfo, "save_yn"           , sSaveYn );          //중고판매여부
				cf_setParam(ds_disOutUsimInfo, "usim_old_sale_yn"  , sUsimOldSaleYn );   //중고판매여부
				cf_setParam(ds_disOutUsimInfo, "act_flag"          , sUsimActFlag);      //업무처리구분-판매출고:SO, 기기교환출고:EO
				cf_setParam(ds_disOutUsimInfo, "proc_flag"         , sUsimProcFlag);     //Transaction처리 : I
				//cf_setParam(ds_disOutUsimInfo, "out_mgmt_no"       , "");              //출고관리번호 (채번 procedure)
				cf_setParam(ds_disOutUsimInfo, "out_cl"            , sUsimOutCl);        //출고구분- 판매출고:204, 기기교환출고:205
				cf_setParam(ds_disOutUsimInfo, "out_schd_dt"       , sUsimOutSchdDt);    //출고예정일자
				cf_setParam(ds_disOutUsimInfo, "out_plc_id"        , sUsimOutPlcId);     //출고처ID
				cf_setParam(ds_disOutUsimInfo, "prod_cl"           , sUsimProdCl);       //상품구분 - 단말기, USIM
				cf_setParam(ds_disOutUsimInfo, "prod_cd"           , sUsimProdCd);       //상품코드
				cf_setParam(ds_disOutUsimInfo, "color_cd"          , sUsimColorCd);      //색상코드
				cf_setParam(ds_disOutUsimInfo, "ser_num"           , sUsimSerNum);       //일련번호
				cf_setParam(ds_disOutUsimInfo, "bad_yn"            , sUsimBadYn);        //불량여부
				cf_setParam(ds_disOutUsimInfo, "dis_st"            , sUsimDisSt);        //재고상태
				cf_setParam(ds_disOutUsimInfo, "out_qty"           , sUsimOutQty);       //출고수량
				cf_setParam(ds_disOutUsimInfo, "user_id"           , FV_LOGIN_USER_ID);  //처리자
				cf_setParam(ds_disOutUsimInfo, "rmks"              , "USIM판매출고");    //비고-판매출고, 기기교환출고
                cf_setParam(ds_disOutUsimInfo, "usim_old_sale_yn"  , sUsimOldSaleYn);    //중고판매여부

			}
    }

    // 판매번호 채번을 위한 정보
	// 영업망 - R: 소매, A:도매, O:온라인 소매, S: 온라인 도매, M:M채널
	// 판매구분 - E 공기기판매, G: 일반판매, P:수납대행, S:부가서비스유치
    //ds_input
    ds_input.Clear();
	cf_setParam(ds_input, "sl_net_cl"  , FV_SALE_NO_SL_NET_CD );  //영업망
	cf_setParam(ds_input, "sale_cl"    , FV_SALE_NO_SALE_CL );    //판매구분

	cf_setParam(ds_input, "if_proc_cl" , FV_IF_PROC_CL );   //Ukey Interface 처리구분  1:Ukey if     2:PS
	cf_setParam(ds_input, "op_dt"      , ds_generalSaleIfInfo.GetColumn(0,"op_dt") );   //처리일자
	cf_setParam(ds_input, "op_tm"      , ds_generalSaleIfInfo.GetColumn(0,"op_tm") );   //처리시각
	cf_setParam(ds_input, "seq"        , ds_generalSaleIfInfo.GetColumn(0,"seq") );     //순번
	cf_setParam(ds_input, "upd_cnt"    , ds_generalSaleIfInfo.GetColumn(0,"upd_cnt") ); //update count
	//cf_setParam(ds_input, "sale_chg_hst_cl", div_prodExchange.cmb_saleChgHstCl.Value);  //변경구분
	cf_setParam(ds_input, "old_rtn_yn" , FV_OLD_RTN_YN ); //중고반납여부

	cf_setParam(ds_input, "prod_cl"    , "G" );   //판매구분

	if ( uf_IsNull(FV_EQP_POL_ERR_CODE) || uf_IsNull(FV_USIM_POL_ERR_CODE) )
	{
	    FV_EQP_POL_ERR_CODE = "20";
	    FV_EQP_POL_ERR_MSG = FV_EQP_POL_ERR_MSG + "\n" + FV_USIM_POL_ERR_MSG;
	}

	cf_setParam(ds_input, "pol_error_cl"      , FV_EQP_POL_ERR_CODE);   //정책 오류 코드
	cf_setParam(ds_input, "pol_rmks"          , FV_EQP_POL_ERR_MSG );   //정책 오류 메세지
	cf_setParam(ds_input, "dis_eqp_error_yn"  , "N" );                  //단말기 오류 코드 clear
	cf_setParam(ds_input, "dis_eqp_rmrk"      , "" );                   //단말기 오류 메세지 clear
	cf_setParam(ds_input, "dis_usim_error_yn" , "N" );                  //USIM 오류 코드 clear
	cf_setParam(ds_input, "dis_usim_rmrk"     , "" );                   //USIM 오류 메세지 clear

    var sSvcID = "saveSaleChgInfo";
	var sInDs  = "nc_input_fieldDs=ds_input";
	    sINDs  += " ds_generalSale=ds_generalSale ds_equipmentSale=ds_equipmentSale     ds_usimSale=ds_usimSale";
	    sINDs  += " ds_tloginSale=ds_tloginSale";
	    sInDs  += " ds_suplservice=ds_suplservice ds_oldrtnEquipment=ds_oldrtnEquipment ds_allotSale=ds_allotSaleCopy ds_sktPrprc=ds_sktPrprcCopy";
	    sInDs  += " ds_agreementAstamt=ds_agreementAstamtCopy ds_cashSale=ds_cashSaleCopy ds_payment=ds_paymentCopy ds_ocbMcard=ds_ocbMcardCopy";
	    sInDs  += " ds_saleCmms=ds_saleCmms ds_promotionMoney=ds_promotionMoney";
	    sInDs  += " ds_onlinePayment=ds_onlinePayment ds_prodExchange=ds_prodExchange";
	    sInDs  += " ds_onlineCmms=ds_onlineCmms";
	    sInDs  += " ds_disInEqpInfo=ds_disInEqpInfo ds_disInUsimInfo=ds_disInUsimInfo";
	    sInDs  += " ds_disInTloginInfo=ds_disInTloginInfo ds_disOutTloginInfo=ds_disOutTloginInfo";
	    sInDs  += " ds_disOutEqpInfo=ds_disOutEqpInfo ds_disOutUsimInfo=ds_disOutUsimInfo";

	var sOutDs =  "";
	var sArg   = "sktst.sal.SCO#saveSaleChgInfo";

    http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
    http.Sync = false;

    f_saveEnd();
}

function f_saveEnd()
{

    f_divEnable("01");
    div_prodExchange.cmb_saleChgHstCl.Enable = false;

    if (FV_IF_PROC_CL == "1")
    {
        cf_callnClose("lf_dialogClose", "");
    }
    else if (FV_IF_PROC_CL == "4")
    {
        parent.lf_procStatus("3","U");
    }
    else
    {
        if ( excuteMethod == "lf_saleChgProcessPopupClose" )
        {
            excuteMethod = "lf_dialogClose";
        }

        cf_callnClose(excuteMethod, "");
    }

}


function f_paymentChange()
{
    //수납정보 - 현금
    var iCashPayAmt = ParseInt(ds_paymentCopy.GetColumn(0,"cash_pay_amt"));
    var iCashPayAmtOld = ParseInt(ds_paymentCopy.GetColumn(0,"cash_pay_amt_old"));

    ds_paymentCopy.SetColumn(0,"cash_pay_amt", iCashPayAmt);

    //수납정보 - 폰세이프금액
    var iPhoneSafeAmt    = ParseInt(ds_paymentCopy.GetColumn(0,"phone_safe_amt"));
    var iPhoneSafeAmtOld = ParseInt(ds_paymentCopy.GetColumn(0,"phone_safe_amt_old"));

    ds_paymentCopy.SetColumn(0,"phone_safe_amt", iPhoneSafeAmt);

    //수납정보 - 카드1
    var iCrdtcrdPayAmt1 = ParseInt(ds_paymentCopy.GetColumn(0,"crdtcrd_pay_amt1"));
    var iCrdtcrdPayAmt1Old = ParseInt(ds_paymentCopy.GetColumn(0,"crdtcrd_pay_amt1_old"));

    ds_paymentCopy.SetColumn(0,"crdtcrd_pay_amt1", iCrdtcrdPayAmt1 );

    //수납정보 - 카드2
    var iCrdtcrdPayAmt2 = ParseInt(ds_paymentCopy.GetColumn(0,"crdtcrd_pay_amt2"));
    var iCrdtcrdPayAmt2Old = ParseInt(ds_paymentCopy.GetColumn(0,"crdtcrd_pay_amt2_old"));

    ds_paymentCopy.SetColumn(0,"crdtcrd_pay_amt2", iCrdtcrdPayAmt2 );

    //수납정보 - SKT예수금 - 현금
    var iSktPrprcCashPayAmt = ParseInt(ds_paymentCopy.GetColumn(0,"skt_prprc_cash_pay_amt"));
    var iSktPrprcCashPayAmtOld = ParseInt(ds_paymentCopy.GetColumn(0,"skt_cash_pay_amt_old"));

    ds_paymentCopy.SetColumn(0,"skt_prprc_cash_pay_amt", iSktPrprcCashPayAmt );

    //수납정보 - SKT예수금 - 대납
    var iSktPrprcPrxpayAmt = ParseInt(ds_paymentCopy.GetColumn(0,"skt_prprc_prxpay_amt"));
    var iSktPrprcPrxpayAmtOld = ParseInt(ds_paymentCopy.GetColumn(0,"skt_prxpay_amt_old"));

    ds_paymentCopy.SetColumn(0,"skt_prprc_prxpay_amt", iSktPrprcPrxpayAmt);

    return;
}

/*******************************************************************************
 * @description    : oParam1 값이 없으면 oParam2,oParam3,oParam4 "" 처리
*******************************************************************************/
function f_clearNm(oParam1, oParam2, oParam3, oParam4)
{
     if ( uf_IsNull(oParam1.Text) )
     {
         oParam2.Text = "";

         if ( !uf_IsNull(oParam3) )
         {
             oParam3.Text = "";
             oParam4.Text = "";
         }
     }
}

function div_saleInfo_cmb_slNetCd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	 FV_GET_SPLST_MDL_YN = "N";

     lf_getPol();
}

function btn_payment_OnClick(obj)
{
    //현금 할부....일때  할부 : 현금 수납금액 없음.  SKT예수금 있음.
    //                   현금 : 현금 수납금액 있음.  SKT예수금 있음.

    //ds_param.ClearData();

    //현금 수납대상금액 = usim 판매금액 +  단말기판매금액 - (약정보조금 + 추가지원금 + OCBMCARD)
    //var sPayAmt = div_prcInfo.msk_eqpCashSalePrc.Value; //ds_cashSale.GetColumn(0,"eqp_cash_sale_prc");

    var iUsimSalePrc = 0;
    if( ds_generalSale.GetColumn(0,"usim_allot_cl") == "N" )
    {
        iUsimSalePrc = div_usimInfo.msk_usimSalePrc.Value;
    }
    else
    {
        iUsimSalePrc = 0;
    }

    var sPayAmt = ParseInt(div_prcInfo.msk_eqpCashSalePrc.Value) + ParseInt(iUsimSalePrc); //ds_cashSale.GetColumn(0,"eqp_cash_sale_prc");

	cf_setParam(ds_param, "pay_amt"                , sPayAmt);
	cf_setParam(ds_param, "cash_pay_amt"           , ds_payment.GetColumn(0,"cash_pay_amt") );
	cf_setParam(ds_param, "phone_safe_amt"         , ds_payment.GetColumn(0,"phone_safe_amt") );
	cf_setParam(ds_param, "crdtcrd_corp1"          , ds_payment.GetColumn(0,"crdtcrd_corp1") );
	cf_setParam(ds_param, "crdtcrd_pay_amt1"       , ds_payment.GetColumn(0,"crdtcrd_pay_amt1") );
	cf_setParam(ds_param, "crdtcrd_corp2"          , ds_payment.GetColumn(0,"crdtcrd_corp2") );
	cf_setParam(ds_param, "crdtcrd_pay_amt2"       , ds_payment.GetColumn(0,"crdtcrd_pay_amt2") );

	var iSktPayamt = 0;//ParseInt( ds_sktPrprc.GetColumn(0,"scrb_fee") );
    iSktPayamt = ParseInt(div_sktPrprc.msk_sktTotSaleAmt.Value );

	cf_setParam(ds_param, "skt_pay_amt"            , iSktPayamt);
	cf_setParam(ds_param, "skt_prprc_cash_pay_amt" , ds_payment.GetColumn(0,"skt_prprc_cash_pay_amt") );
	cf_setParam(ds_param, "skt_prprc_prxpay_amt"   , ds_payment.GetColumn(0,"skt_prprc_prxpay_amt") );

	var sArg = "param1=" + quote(div_prodExchange.cmb_saleChgHstCl.value);
	    sArg = sArg + " p_saleDtm="     + quote(FV_PROC_DTM);
	    sArg = sArg + " excuteMethod="  + quote("lf_paymentPopupClose");
	// 팝업 함수

	dialog("SAL::SALSCP00800.xml", sArg, 400,400);

}


function lf_paymentPopupClose()
{
    if (ds_payment.rowcount <= 0)
    {
        ds_payment.AddRow();
    }
    ds_payment.CopyRow(0, "ds_param", 0);

}


function btn_saleHist_OnClick(obj)
{
	var sArg     = "param1="+quote(ds_generalSale.GetColumn(0,"svc_mgmt_num"));
	// 팝업 함수
	dialog("SAL::SALSCO00200.xml", sArg, 452,700);

	this.Close();
}


function div_prodExchange_cmb_saleChgHstCl_OnCloseUp(obj,strCode,strText,nOldIndex,nNewIndex,bSelOK)
{
    var sSelectCd = ds_cmbSaleChgHstCl.GetColumn(nNewIndex,"comm_cd_val");

    if ( sSelectCd == "05" )
    {
        if ( strCode == sSelectCd )
        {
            f_divEnable("05");
        }
	}
}

/*******************************************************************************
 * @description    : 일반판매 원본DataSet Backup
*******************************************************************************/
function f_backUpDataSet()
{
	//원본 Data Backup

	//일반판매
	cf_setOrgDs(ds_generalSale);
	//단말기판매
	cf_setOrgDs(ds_equipmentSale);
	//USIM판매
	cf_setOrgDs(ds_usimSale);
	//부가서비스판매
	cf_setOrgDs(ds_suplservice);
	//중고반납기기
	cf_setOrgDs(ds_oldrtnEquipment);
	//할부매출
	cf_setOrgDs(ds_allotSale);
	//SKT예수금
	cf_setOrgDs(ds_sktPrprc);
	//약정보조금
	cf_setOrgDs(ds_agreementAstamt);
	//OCB/MCARD
	cf_setOrgDs(ds_ocbmcard);
	//현금매출
	cf_setOrgDs(ds_cashSale);
	//수납정보
	cf_setOrgDs(ds_payment);

	return;
}

/*******************************************************************************
 * @description    : 일반판매 원본DataSet 변경된 값이 있는지 Check
*******************************************************************************/
function f_chgChkDataSet()
{
    //판매변경구분 변경 되었을대...........
    //무조건 걸리므로 ......

	var sMsg = "";

	//일반판매
	if (cf_checkDsChanging(ds_generalSale) <= 4)
	{
	    sMsg = "변경된 일반판매 정보가 있습니다.";
	    return sMsg;
	}

	//단말기판매
	if (cf_checkDsChanging(ds_equipmentSale) <= 4)
	{
	    sMsg = "변경된 단말기 정보가 있습니다.";
	    return sMsg;
	}

	//USIM판매
	if (cf_checkDsChanging(ds_usimSale) <= 4)
	{
	    sMsg = "변경된 USIM 정보가 있습니다.";
	    return sMsg;
	}

	//부가상품판매
	if (cf_checkDsChanging(ds_suplservice) <= 4)
	{
	    sMsg = "변경된 부가상품 정보가 있습니다.";
	    return sMsg;
	}

	//중고반납기기
	if (cf_checkDsChanging(ds_oldrtnEquipment) <= 4)
	{
	    sMsg = "변경된 중고반납기기 정보가 있습니다.";
	    return sMsg;
	}

	//할부매출
	if (cf_checkDsChanging(ds_allotSale) <= 4)
	{
	    sMsg = "변경된 할부판매가 정보가 있습니다.";
	    return sMsg;
	}

	//SKT예수금
	if (cf_checkDsChanging(ds_sktPrprc) <= 4)
	{
	    sMsg = "변경된 SKT예수금 정보가 있습니다.";
	    return sMsg;
	}

	//약정보조금
	if (cf_checkDsChanging(ds_agreementAstamt) <= 4)
	{
	    sMsg = "변경된 약정보조금 정보가 있습니다.";
	    return sMsg;
	}

	//OCB/MCARD
	if (cf_checkDsChanging(ds_ocbmcard) <= 4)
	{
	    sMsg = "변경된 OCB/MCARD 정보가 있습니다.";
	    return sMsg;
	}

	//현금매출
	if (cf_checkDsChanging(ds_cashSale) <= 4)
	{
	    sMsg = "변경된 현금판매가 정보가 있습니다.";
	    return sMsg;
	}

	//수납정보
	if (cf_checkDsChanging(ds_payment) <= 4)
	{
	    sMsg = "변경된 수납 정보가 있습니다.";
	    return sMsg;
	}

	return true;
}

/*******************************************************************************
 * @description    : 공통 닫기 함수
*******************************************************************************/
function SALRGS00300_OnUnloadCompleted(obj)
{
    var sMsg = f_chgChkDataSet();
    var nResult;
}

/*******************************************************************************
 * @description    : 재고 보유처가 일치 하지 않을때 재고조정이동 처리를 해준다.
*******************************************************************************/
function btn_disDtr_OnClick(obj)
{
    var sDisDtrYn       = "";                                           // 재고이동여부
    var sErrcode        = "";                                           // ERROR CODE
    var sErrmsg         = "";                                           // ERROR MESSAGE
    var sAactFlag       = "MC";                                         // 업무처리구분 (MC:재고조정이동)
    var sProcFlag       = "";                                           // Transaction 처리 (I:등록,U:수정,D:개별삭제,AD:전체삭제) 사용안함
    var sOutMgmtNo      = "MV";                                         // 출고관리번호
    var sGnrlSaleNo     = "";                                           // 일반판매번호
    var sGnrlSaleChgSeq = "";                                           // 일반판매변경순번
    var sOutSchdDt      = substr(FV_PROC_DTM,0,8) ;                     // 출고예정일자
    var sOutPlcId       = "";                                           // 출고처ID
    var sInPlcId        = div_dealCoInfo.edt_disHldPlc.Text ;           // 입고처ID
    var sOutCl          = "301";                                        // 출고구분
    var sRmks           = "";                                           // 비고
	var sProdCl			= "";				                            // 상품구분
    var sProdCd         = "";                                           // 상품코드
    var sColorCd        = "";                                           // 색상코드
    var sSerNum         = "";                                           // 일련번호
    var sMovSeq         = "";                                           // 이동출고순번 (사용안함)
    var sBadYn          = "01";                                         // 불량여부
    var sDisSt          = "01";                                         // 재고상태
    var sMovOutQty      = "1";                                          // 이동출고수량
    var sUserId         = FV_LOGIN_USER_ID;                             // 처리자
    var sUpdCnt         = "";                                           // Update Count
    var sOpDt           = ds_generalSaleIfInfo.GetColumn(0,"op_dt");    // 일반판매 Ukey I/F  처리일자
    var sOpTm           = ds_generalSaleIfInfo.GetColumn(0,"op_tm");    // 일반판매 Ukey I/F  처리시간
    var sSeq            = ds_generalSaleIfInfo.GetColumn(0,"seq");      // 일반판매 Ukey I/F  처리순번

    if ( FV_EQP_ERR_CODE == "F004" || FV_EQP_ERR_CODE == "F009")
    {
        sDisDtrYn       = "Y";
        sOutPlcId       = ds_disEqpInfo.GetColumn(0,"dis_hld_plc_id");  // 출고처ID
        sRmks           = "단말기 재고조정이동";                        // 비고
	    sProdCl			= "1";				                            // 상품구분
        sProdCd         = ds_disEqpInfo.GetColumn(0,"eqp_mdl_cd");      // 상품코드
        sColorCd        = ds_disEqpInfo.GetColumn(0,"color_cd");        // 색상코드
        sSerNum         = ds_disEqpInfo.GetColumn(0,"eqp_ser_num");     // 일련번호
        sUpdCnt         = ds_disEqpInfo.GetColumn(0,"dis_upd_cnt");     // Update Count
    }
    else
    {
        sDisDtrYn       = "N";
    }

    cf_setParam(ds_disDtrEqpInfo, "dis_dtr_yn"        , sDisDtrYn);
    cf_setParam(ds_disDtrEqpInfo, "errcode"           , sErrcode);
    cf_setParam(ds_disDtrEqpInfo, "errmsg"            , sErrmsg);
    cf_setParam(ds_disDtrEqpInfo, "act_flag"          , sAactFlag);
    cf_setParam(ds_disDtrEqpInfo, "proc_flag"         , sProcFlag);
    cf_setParam(ds_disDtrEqpInfo, "out_mgmt_no"       , sOutMgmtNo);
    cf_setParam(ds_disDtrEqpInfo, "gnrl_sale_no"      , sGnrlSaleNo);
    cf_setParam(ds_disDtrEqpInfo, "gnrl_sale_chg_seq" , sGnrlSaleChgSeq);
    cf_setParam(ds_disDtrEqpInfo, "out_schd_dt"       , sOutSchdDt);
    cf_setParam(ds_disDtrEqpInfo, "out_plc_id"        , sOutPlcId);
    cf_setParam(ds_disDtrEqpInfo, "in_plc_id"         , sInPlcId);
    cf_setParam(ds_disDtrEqpInfo, "out_cl"            , sOutCl);
    cf_setParam(ds_disDtrEqpInfo, "rmks"              , sRmks);
    cf_setParam(ds_disDtrEqpInfo, "prod_cl"           , sProdCl);
    cf_setParam(ds_disDtrEqpInfo, "prod_cd"           , sProdCd);
    cf_setParam(ds_disDtrEqpInfo, "color_cd"          , sColorCd);
    cf_setParam(ds_disDtrEqpInfo, "ser_num"           , sSerNum);
    cf_setParam(ds_disDtrEqpInfo, "mov_seq"           , sMovSeq);
    cf_setParam(ds_disDtrEqpInfo, "bad_yn"            , sBadYn);
    cf_setParam(ds_disDtrEqpInfo, "dis_st"            , sDisSt);
    cf_setParam(ds_disDtrEqpInfo, "mov_out_qty"       , sMovOutQty);
    cf_setParam(ds_disDtrEqpInfo, "user_id"           , sUserId);
    cf_setParam(ds_disDtrEqpInfo, "upd_cnt"           , sUpdCnt);
    cf_setParam(ds_disDtrEqpInfo, "op_dt"             , sOpDt);
    cf_setParam(ds_disDtrEqpInfo, "op_tm"             , sOpTm);
    cf_setParam(ds_disDtrEqpInfo, "seq"               , sSeq);

	if ( FV_TLOGIN_ERR_CODE == "F004" || FV_TLOGIN_ERR_CODE == "F009")
    {
        sDisDtrYn       = "Y";
        sOutPlcId       = ds_disTloginInfo.GetColumn(0,"dis_hld_plc_id");  	// 출고처ID
        sRmks           = "TLOGIN단말기 재고조정이동";                      // 비고
	    sProdCl			= "1";				                            	// 상품구분
        sProdCd         = ds_disTloginInfo.GetColumn(0,"tlogin_mdl_cd");    // 상품코드
        sColorCd        = ds_disTloginInfo.GetColumn(0,"tlogin_color_cd");  // 색상코드
        sSerNum         = ds_disTloginInfo.GetColumn(0,"tlogin_ser_num");   // 일련번호
        sUpdCnt         = ds_disTloginInfo.GetColumn(0,"dis_upd_cnt");     	// Update Count
    }
    else
    {
        sDisDtrYn       = "N";
    }

    cf_setParam(ds_disDtrTloginInfo, "dis_dtr_yn"        , sDisDtrYn);
    cf_setParam(ds_disDtrTloginInfo, "errcode"           , sErrcode);
    cf_setParam(ds_disDtrTloginInfo, "errmsg"            , sErrmsg);
    cf_setParam(ds_disDtrTloginInfo, "act_flag"          , sAactFlag);
    cf_setParam(ds_disDtrTloginInfo, "proc_flag"         , sProcFlag);
    cf_setParam(ds_disDtrTloginInfo, "out_mgmt_no"       , sOutMgmtNo);
    cf_setParam(ds_disDtrTloginInfo, "gnrl_sale_no"      , sGnrlSaleNo);
    cf_setParam(ds_disDtrTloginInfo, "gnrl_sale_chg_seq" , sGnrlSaleChgSeq);
    cf_setParam(ds_disDtrTloginInfo, "out_schd_dt"       , sOutSchdDt);
    cf_setParam(ds_disDtrTloginInfo, "out_plc_id"        , sOutPlcId);
    cf_setParam(ds_disDtrTloginInfo, "in_plc_id"         , sInPlcId);
    cf_setParam(ds_disDtrTloginInfo, "out_cl"            , sOutCl);
    cf_setParam(ds_disDtrTloginInfo, "rmks"              , sRmks);
    cf_setParam(ds_disDtrTloginInfo, "prod_cl"           , sProdCl);
    cf_setParam(ds_disDtrTloginInfo, "prod_cd"           , sProdCd);
    cf_setParam(ds_disDtrTloginInfo, "color_cd"          , sColorCd);
    cf_setParam(ds_disDtrTloginInfo, "ser_num"           , sSerNum);
    cf_setParam(ds_disDtrTloginInfo, "mov_seq"           , sMovSeq);
    cf_setParam(ds_disDtrTloginInfo, "bad_yn"            , sBadYn);
    cf_setParam(ds_disDtrTloginInfo, "dis_st"            , sDisSt);
    cf_setParam(ds_disDtrTloginInfo, "mov_out_qty"       , sMovOutQty);
    cf_setParam(ds_disDtrTloginInfo, "user_id"           , sUserId);
    cf_setParam(ds_disDtrTloginInfo, "upd_cnt"           , sUpdCnt);
    cf_setParam(ds_disDtrTloginInfo, "op_dt"             , sOpDt);
    cf_setParam(ds_disDtrTloginInfo, "op_tm"             , sOpTm);
    cf_setParam(ds_disDtrTloginInfo, "seq"               , sSeq);

    if ( FV_USIM_ERR_CODE == "F004" || FV_USIM_ERR_CODE == "F009")
    {
        sDisDtrYn       = "Y";
        sOutPlcId       = ds_disUsimInfo.GetColumn(0,"dis_hld_plc_id");  // 출고처ID
        sRmks           = "USIM 재고조정이동";                           // 비고
	    sProdCl			= "2";				                             // 상품구분
        sProdCd         = ds_disUsimInfo.GetColumn(0,"usim_mdl_cd");     // 상품코드
        sColorCd        = "99";              // 색상코드
        sSerNum         = ds_disUsimInfo.GetColumn(0,"usim_ser_num");    // 일련번호
        sUpdCnt         = ds_disUsimInfo.GetColumn(0,"dis_upd_cnt");     // Update Count

    }
    else
    {
        sDisDtrYn       = "N";
    }

    cf_setParam(ds_disDtrUsimInfo, "dis_dtr_yn"        , sDisDtrYn);
    cf_setParam(ds_disDtrUsimInfo, "errcode"           , sErrcode);
    cf_setParam(ds_disDtrUsimInfo, "errmsg"            , sErrmsg);
    cf_setParam(ds_disDtrUsimInfo, "act_flag"          , sAactFlag);
    cf_setParam(ds_disDtrUsimInfo, "proc_flag"         , sProcFlag);
    cf_setParam(ds_disDtrUsimInfo, "out_mgmt_no"       , sOutMgmtNo);
    cf_setParam(ds_disDtrUsimInfo, "gnrl_sale_no"      , sGnrlSaleNo);
    cf_setParam(ds_disDtrUsimInfo, "gnrl_sale_chg_seq" , sGnrlSaleChgSeq);
    cf_setParam(ds_disDtrUsimInfo, "out_schd_dt"       , sOutSchdDt);
    cf_setParam(ds_disDtrUsimInfo, "out_plc_id"        , sOutPlcId);
    cf_setParam(ds_disDtrUsimInfo, "in_plc_id"         , sInPlcId);
    cf_setParam(ds_disDtrUsimInfo, "out_cl"            , sOutCl);
    cf_setParam(ds_disDtrUsimInfo, "rmks"              , sRmks);
    cf_setParam(ds_disDtrUsimInfo, "prod_cl"           , sProdCl);
    cf_setParam(ds_disDtrUsimInfo, "prod_cd"           , sProdCd);
    cf_setParam(ds_disDtrUsimInfo, "color_cd"          , sColorCd);
    cf_setParam(ds_disDtrUsimInfo, "ser_num"           , sSerNum);
    cf_setParam(ds_disDtrUsimInfo, "mov_seq"           , sMovSeq);
    cf_setParam(ds_disDtrUsimInfo, "bad_yn"            , sBadYn);
    cf_setParam(ds_disDtrUsimInfo, "dis_st"            , sDisSt);
    cf_setParam(ds_disDtrUsimInfo, "mov_out_qty"       , sMovOutQty);
    cf_setParam(ds_disDtrUsimInfo, "user_id"           , sUserId);
    cf_setParam(ds_disDtrUsimInfo, "upd_cnt"           , sUpdCnt);
    cf_setParam(ds_disDtrUsimInfo, "op_dt"             , sOpDt);
    cf_setParam(ds_disDtrUsimInfo, "op_tm"             , sOpTm);
    cf_setParam(ds_disDtrUsimInfo, "seq"               , sSeq);

	var sSvcID = "addEqpUsimTloginDisDtr";
	var sInDs  = "ds_disDtrEqpInfo=ds_disDtrEqpInfo ds_disDtrTloginInfo=ds_disDtrTloginInfo ds_disDtrUsimInfo=ds_disDtrUsimInfo";
	var sOutDs = "ds_rtnDisDtr=disDtr";
	var sArg   = "sktst.sal.SCO#addEqpUsimTloginDisDtr";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);

}

/*******************************************************************************
 * @description    : 기기교환 사유 팝업 입력창 호출
*******************************************************************************/
function btn_prodExchg_OnClick(obj)
{
    var sSaleChgHstCl = "";

    sSaleChgHstCl = div_prodExchange.cmb_saleChgHstCl.Value;

    cf_setParam(ds_param, "eqp_exchg_rsn_cd"     , ds_prodExchange.GetColumn(0,"eqp_exchg_rsn_cd") );
    cf_setParam(ds_param, "eqp_bad_rsn_cd"       , ds_prodExchange.GetColumn(0,"eqp_bad_rsn_cd") );
    cf_setParam(ds_param, "eqp_bad_dtl_rsn_cd"   , ds_prodExchange.GetColumn(0,"eqp_bad_dtl_rsn_cd") );
    cf_setParam(ds_param, "eqp_exchg_rmks"       , ds_prodExchange.GetColumn(0,"eqp_exchg_rmks") );
    cf_setParam(ds_param, "usim_exchg_rsn_cd"    , ds_prodExchange.GetColumn(0,"usim_exchg_rsn_cd") );
    cf_setParam(ds_param, "usim_bad_rsn_cd"      , ds_prodExchange.GetColumn(0,"usim_bad_rsn_cd") );
    cf_setParam(ds_param, "usim_bad_dtl_rsn_cd"  , ds_prodExchange.GetColumn(0,"usim_bad_dtl_rsn_cd") );
    cf_setParam(ds_param, "usim_exchg_rmks"      , ds_prodExchange.GetColumn(0,"usim_exchg_rmks") );

	var sArg  = "p_eqpChgYn="      + quote(FV_EQP_CHG_YN);
	    sArg += " p_usimChgYn="    + quote(FV_USIM_CHG_YN);
	    sArg += " p_saleChgHstCl=" + quote(sSaleChgHstCl);
	    sArg += " p_ifProcCl="     + quote(FV_IF_PROC_CL);
	    sArg += " excuteMethod="   + quote("lf_prodExchgPopupClose");

	dialog("SAL::SALSCP00700.xml", sArg, 264,700);
}

/*******************************************************************************
 * @description    : 기기교환 사유 팝업창 종료시 실행
*******************************************************************************/
function lf_prodExchgPopupClose()
{
    if (ds_prodExchange.rowcount <= 0)
    {
        ds_prodExchange.AddRow();
    }
    ds_prodExchange.CopyRow(0, "ds_param", 0);

}

/*******************************************************************************
 * @description    : 판매변경구분 변경시 판매변경일시,판매변경처,판매변경자를
                     판매처로 기본 셋팅
*******************************************************************************/
function f_setSaleChg()
{
	var sToDtm       = "";
	var sSaleChgrgId = "";

    if (FV_IF_PROC_CL == "4")  //판매처변경
    {
        sToDtm       = parent.ds_channelChgIfInfo.getcolumn(0,"proc_dt") + parent.ds_channelChgIfInfo.getcolumn(0,"proc_tm");
        sSaleChgrgId = parent.ds_channelChgIfInfo.getColumn(0,"proc_chgrg_id");
    }
    else
    {
        sToDtm       = GetDate();
        sSaleChgrgId = div_dealCoInfo.cmb_saleChgrgId.Value;
    }

	if ( FV_IF_PROC_CL != "2" )  // PS처리가 아니면
	{
		//판매변경일시
		if ( div_prodExchange.cmb_saleChgHstCl.Value != "05" && div_prodExchange.cmb_saleChgHstCl.Value != "06" )
		{
			sf_setDateByDataSet("div_prodExchange.cal_saleChgDtm","div_prodExchange.edt_saleChgDtmHh", "div_prodExchange.edt_saleChgDtmMm", sToDtm);
		}
	}

	div_prodExchange.edt_saleChgPlcNm.Text        = div_dealCoInfo.edt_salePlcNm.Text;
	div_prodExchange.edt_saleChgPlc.Text          = div_dealCoInfo.edt_salePlc.Text;
	div_prodExchange.edt_saleChgPlcUkeyCd.Text    = div_dealCoInfo.edt_salePlcUkeyCd.Text;
	div_prodExchange.edt_saleChgPlcChannelCd.Text = div_dealCoInfo.edt_salePlcChannelCd.Text;
	div_prodExchange.edt_saleChgPlcSubCd.Text     = div_dealCoInfo.edt_salePlcSubCd.Text;

	div_prodExchange.btn_saleChgPlc.Click();
	div_prodExchange.cmb_saleChgUserId.value = sSaleChgrgId;

	return;
}

/*******************************************************************************
 * @description    : 판매변경구분 변경시 판매변경일시,판매변경처,판매변경자를
                     판매처로 기본 셋팅
*******************************************************************************/
function f_setIfSaleChg()
{
	var sSaleChgDtm   = ds_generalSaleIfInfo.GetColumn(0,"proc_dt")+ds_generalSaleIfInfo.GetColumn(0,"proc_tm");
    var sSaleChgHstCl = ds_generalSaleIfInfo.GetColumn(0,"sale_chg_hst_cl");

	sf_setDateByDataSet("div_prodExchange.cal_saleChgDtm","div_prodExchange.edt_saleChgDtmHh", "div_prodExchange.edt_saleChgDtmMm", sSaleChgDtm);

    if ( sSaleChgHstCl == "02" || sSaleChgHstCl == "03" )
    {
        //할부추가, 기기변경 --> sale_plc
		div_prodExchange.edt_saleChgPlcNm.Text        = ds_generalSaleIfInfo.GetColumn(0,"sale_plc_nm");
		div_prodExchange.edt_saleChgPlc.Text          = ds_generalSaleIfInfo.GetColumn(0,"sale_plc");
		div_prodExchange.edt_saleChgPlcUkeyCd.Text    = ds_generalSaleIfInfo.GetColumn(0,"sale_agency_cd");
		div_prodExchange.edt_saleChgPlcChannelCd.Text = ds_generalSaleIfInfo.GetColumn(0,"sale_channel_cd");
		div_prodExchange.edt_saleChgPlcSubCd.Text     = ds_generalSaleIfInfo.GetColumn(0,"sale_sub_cd");

        div_prodExchange.btn_saleChgPlc.Click();
    }
    else if ( sSaleChgHstCl == "04" || sSaleChgHstCl == "07" )
    {
        //할부취소, 판매취소 --> svc_plc
		div_prodExchange.edt_saleChgPlcNm.Text        = ds_generalSaleIfInfo.GetColumn(0,"svc_plc_nm");
		div_prodExchange.edt_saleChgPlc.Text          = ds_generalSaleIfInfo.GetColumn(0,"svc_plc");
		div_prodExchange.edt_saleChgPlcUkeyCd.Text    = ds_generalSaleIfInfo.GetColumn(0,"svc_agency_cd");
		div_prodExchange.edt_saleChgPlcChannelCd.Text = ds_generalSaleIfInfo.GetColumn(0,"svc_channel_cd");
		div_prodExchange.edt_saleChgPlcSubCd.Text     = ds_generalSaleIfInfo.GetColumn(0,"svc_sub_cd");

        div_prodExchange.btn_saleChgPlc.Click();
    }
    else
    {
		div_prodExchange.edt_saleChgPlcNm.Text        = div_dealCoInfo.edt_salePlcNm.Text;
		div_prodExchange.edt_saleChgPlc.Text          = div_dealCoInfo.edt_salePlc.Text;
		div_prodExchange.edt_saleChgPlcUkeyCd.Text    = div_dealCoInfo.edt_salePlcUkeyCd.Text;
		div_prodExchange.edt_saleChgPlcChannelCd.Text = div_dealCoInfo.edt_salePlcChannelCd.Text;
		div_prodExchange.edt_saleChgPlcSubCd.Text     = div_dealCoInfo.edt_salePlcSubCd.Text;

        div_prodExchange.btn_saleChgPlc.Click();
	}

    div_prodExchange.cmb_saleChgUserId.Value = ds_generalSaleIfInfo.GetColumn(0,"proc_chgrg_id");
    return;
}

/*******************************************************************************
 * @description    : 닫기 버튼 처리
*******************************************************************************/
function btn_close_OnClick(obj)
{
    //판매처 변경일 경우 작업자에 대한 처리
    if (FV_IF_PROC_CL == "4")
    {
        parent.lf_updateModUserId("C");
        parent.lf_close();
        return;
    }

	this.Close();
}

/*******************************************************************************
 * @description    : 판매일시 변경시 validation check
*******************************************************************************/
function div_dealCoInfo_edt_saleDtmHh_OnKillFocus(obj)
{
	if ( (div_dealCoInfo.cal_svcDtm.value + div_dealCoInfo.edt_svcDtmHh.Text)
		< (div_dealCoInfo.cal_saleDtm.Value + obj.Value) )
	{
		alert("판매일시는 개통일시와 같거나 이전이어야 합니다.");
		obj.SetFocus();
		return;
	}
}

function div_dealCoInfo_edt_saleDtmMm_OnKillFocus(obj)
{
	if (div_dealCoInfo.cal_svcDtm.value + div_dealCoInfo.edt_svcDtmHh.Text + div_dealCoInfo.edt_svcDtmMm.Text
		< div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + obj.Value )
	{
		alert("판매일시는 개통일시와 같거나 이전이어야 합니다.");
		obj.SetFocus();
		return;
	}
}

function div_dealCoInfo_cal_saleDtm_OnKillFocus(obj)
{

    if ( div_dealCoInfo.cal_svcDtm.Value < obj.value )
    {
        alert("판매일자는 개통일자와 같거나 이전이어야 합니다.");
        obj.Setfocus();
        return;
    }
}

/*******************************************************************************
 * @description    : 할부판매가에 대한 할부원금계산 처리.
*******************************************************************************/
function lf_calAllotSalePrc()
{
   /*
   == 전문에서 할부원금구하는 공식 ==

   1. T할부지원 계산식
      할부원금(할부이자제외금액) = 할부원금금액 - 선납조정금액 - 폰세이브금액

   2. T기본약정계산식
      할부원금(할부이자제외금액) = 할부원금금액 - 선납조정금액 - 폰세이브금액 - T약정금액 - 대리점밴드2
   */

	var sDsNetCd      = "";  //유통망     0 : 무약정, 1 : T할부지원 , 2 : T기본지원
	var iAllotSalePrc = 0;   //할부판매가
	var iOcbMcardPrc  = 0;   //OCB/MCARD금액
	var iAgrmtAmt     = 0;   //T약정금액
	var iRtnAgrmtAmt  = 0;   //대리점밴드2
	var iAllotIntAmt  = 0;   //할부이자금액
	var iFreeAllotAmt = 0;   //선납조정금액
	var iViewallotSalePrc = 0;
	var iUkeyAllotSalePrc = 0;

	sDsNetCd      = ds_generalSaleIfInfo.GetColumn(0,"ds_net_cd");

	iAllotSalePrc = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"allot_sale_prc"));
	iOcbMcardPrc  = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"ocb_mcard_prc"));
	iAgrmtAmt     = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"agrmt_amt"));
	iRtnAgrmtAmt  = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"retention_agrmt_astamt"));
	iAllotIntAmt  = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"allot_int_amt"));
	iFreeAllotAmt = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"free_allot_amt"));
	iUkeyAllotSalePrc = ParseInt(ds_generalSaleIfInfo.GetColumn(0,"ukey_allot_sale_prc"));

	if (sDsNetCd == "2")
	{
		//T기본약정 계산식
		iAllotSalePrc =  iAllotSalePrc - iFreeAllotAmt - iOcbMcardPrc - iAgrmtAmt - iRtnAgrmtAmt;
	}
	else
	{
		//T할부지원 계산식
		iAllotSalePrc =  iAllotSalePrc - iFreeAllotAmt - iOcbMcardPrc;
	}

	if(iUkeyAllotSalePrc > 0) {
		return iUkeyAllotSalePrc;
	} else {
		return iAllotSalePrc;
	}
}

/*******************************************************************************
 * @description    : 중고반납 버튼 클릭시 중고반납 정보 팝업창 호출
*******************************************************************************/
function div_saleInfo_btn_saleDtlTyp_OnClick(obj)
{
    cf_setParam(ds_param, "old_rtn_typ"            , ds_oldrtnEquipment.GetColumn(0,"old_rtn_typ"));
	cf_setParam(ds_param, "old_rtn_typ_nm"         , ds_oldrtnEquipment.GetColumn(0,"old_rtn_typ_nm"));
	cf_setParam(ds_param, "old_rtn_cust_rtn_typ"   , ds_oldrtnEquipment.GetColumn(0,"old_rtn_cust_rtn_typ"));
	cf_setParam(ds_param, "old_rtn_cust_rtn_typ_nm", ds_oldrtnEquipment.GetColumn(0,"old_rtn_cust_rtn_typ_nm"));
	cf_setParam(ds_param, "old_rtn_schd_dt"        , ds_oldrtnEquipment.GetColumn(0,"old_rtn_schd_dt"));
	cf_setParam(ds_param, "old_rtn_mdl"            , ds_oldrtnEquipment.GetColumn(0,"old_rtn_mdl"));
	cf_setParam(ds_param, "old_rtn_mdl_nm"         , ds_oldrtnEquipment.GetColumn(0,"old_rtn_mdl_nm"));
	cf_setParam(ds_param, "old_rtn_ser_num"        , ds_oldrtnEquipment.GetColumn(0,"old_rtn_ser_num"));

	var sArg  = "excuteMethod="  + quote("lf_OldRtnPopupClose");

	// 팝업 함수
	dialog("SAL::SALSCP00300.xml", sArg, 400,400);
}

/*******************************************************************************
 * @description    : 중고반납 기기가 있을 때 처리 및 DataSet 셋팅
*******************************************************************************/
function lf_setOldRtn()
{
    var sOldRtnrsnCd = ds_generalSaleIfInfo.GetColumn(0,"old_rtnrsn_cd");

    if (substr(ds_generalSaleIfInfo.GetColumn(0,"sale_dtl_typ"),0,2) == "S2")
    {
        if (uf_IsNull(sOldRtnrsnCd))
        {
            sOldRtnrsnCd = "1";
        }

		cf_setParam(ds_oldrtnEquipment, "old_rtn_typ"    ,sOldRtnrsnCd);
		cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl"    ,ds_generalSaleIfInfo.GetColumn(0,"bf_eqp_mdl_cd"));
		cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl_nm" ,ds_generalSaleIfInfo.GetColumn(0,"bf_eqp_mdl_nm"));
		cf_setParam(ds_oldrtnEquipment, "old_rtn_ser_num",ds_generalSaleIfInfo.GetColumn(0,"bf_eqp_ser_num"));

		var sViewMdl = "";
		sViewMdl =  ds_oldrtnEquipment.GetColumn(0,"old_rtn_mdl_nm") + "/" + ds_oldrtnEquipment.GetColumn(0,"old_rtn_ser_num");
		div_saleInfo.edt_oldRtnTypNm.Text = sViewMdl;
		div_saleInfo.btn_oldRtn.Enable = true;
		FV_OLD_RTN_YN = "Y";
	}
	return;
}

/*******************************************************************************
 * @description    : 중고반납 기기가 없을 때 DataSet Clear
*******************************************************************************/
function lf_setNonOldRtn()
{
	cf_setParam(ds_oldrtnEquipment, "old_rtn_typ"    ,"");
	cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl"    ,"");
	cf_setParam(ds_oldrtnEquipment, "old_rtn_mdl_nm" ,"");
	cf_setParam(ds_oldrtnEquipment, "old_rtn_ser_num","");

	div_saleInfo.edt_oldRtnTypNm.Text = "";
	div_saleInfo.btn_oldRtn.Enable = false;
	FV_OLD_RTN_YN = "N";

    return;
}

/*******************************************************************************
 * @description    : 중고반납여부 정보를 조회(단말기)
*******************************************************************************/
function lf_getOldSaleInfo()
{
    var sSaleDtm = div_dealCoInfo.cal_saleDtm.Value + div_dealCoInfo.edt_saleDtmHh.Text + div_dealCoInfo.edt_saleDtmMm.Text + "00";
    var sOrgId   = div_dealCoInfo.edt_posAgencyCd.Text;

    var sFlag = "true";
    if ( uf_IsNull(div_dealCoInfo.cal_saleDtm.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmHh.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_saleDtmMm.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_dealCoInfo.edt_salePlc.Text ) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_saleInfo.cmb_slNetCd.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(div_saleInfo.cmb_saleDtlTyp.Value) )
    {
        sFlag = "false";
    }

    if ( uf_IsNull(ds_disEqpInfo.GetColumn(0,"eqp_mdl_cd") ) )
    {
        sFlag = "false";
    }

    if ( sFlag == "true")
    {
		//cf_setParam(ds_input, "settl_cond"     , ds_generalSaleIfInfo.GetColumn(0,"settl_cond") );   //단말기결제조건
		cf_setParam(ds_input, "sale_typ_cd_min", div_saleInfo.cmb_saleDtlTyp.Value );                //판매세부유형
		cf_setParam(ds_input, "sale_dtm"       , sSaleDtm);                                          //판매일시
		cf_setParam(ds_input, "org_id"         , sOrgId);                                            //대리점
		cf_setParam(ds_input, "eqp_mdl_cd"     , ds_equipmentSale.GetColumn(0,"eqp_mdl_cd") );       //단말기모델코드
		cf_setParam(ds_input, "sl_net_cd"      , div_saleInfo.cmb_slNetCd.Value );                   //영업망
		cf_setParam(ds_input, "ds_net_cd"      , ds_generalSale.GetColumn(0,"ds_net_cd") );          //유통망
		cf_setParam(ds_input, "agrmt_prd_cd"   , ds_generalSale.GetColumn(0,"agrmt_prd_cd") );       //단말기결제조건

        var sSvcID = "getOldSaleInfo";
	    var sInDs  = "nc_input_fieldDs=ds_input";
	    var sOutDs = "ds_oldSaleInfo=ds_splstMdl";
	    var sArg   = "sktst.sal.SCO#getSplstMdlInfo";
	    http.Sync = true;
	    cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	    http.Sync = false;
    }

    return;
}

/*******************************************************************************
 * @description    : IF 판매유형과 재고조회 후 단말기 판매유형이 다를경우
*******************************************************************************/
function lf_chkSlNetCd()
{
    var sEqpOldSaleYn = div_eqpInfo.chk_eqpOldSaleYn.Value;
    var sSaleDtlTyp   = substr(ds_generalSale.GetColumn(0,"sale_dtl_typ"),0,2);
    var sFlag         = "true";

    if ( FV_DIS_EQP_ERR_STATUS == "0" )
    {
		if ( sSaleDtlTyp == "S1" && sEqpOldSaleYn == "Y" )
		{
            sFlag = "false";
		}

		if ( sSaleDtlTyp == "S3" && sEqpOldSaleYn <> "Y" )
		{
            sFlag = "false";
		}

		if ( sFlag == "false" )
		{
			alert("판매유형이 변경되었습니다. 재조회 후  처리하십시요.");
			btn_disDtr.Enable = false;
			btn_save.Enable   = false;
		}
    }
    return;
}

/*******************************************************************************
 * @description    : 부가상품, 단말기 모델별 판매단가표, 운영모델 단가표 조회
*******************************************************************************/
function lf_getPol()
{
     f_getSplstMdlInfo();

     lf_prodErrMsg("2", FV_EQP_POL_ERR_CODE, FV_EQP_POL_ERR_MSG, FV_TLOGIN_POL_ERR_CODE, FV_TLOGIN_POL_ERR_MSG, FV_USIM_POL_ERR_CODE, FV_USIM_POL_ERR_MSG);
}

/*******************************************************************************
 * @description    : 변경일시 중 입력 시간에 대한 validation check
*******************************************************************************/
function div_prodExchange_edt_saleChgDtmHh_OnChanged(obj,strText)
{
	if (strText > 23)
	{
	    alert("유효한 시간을 입력해주세요.");
	    div_prodExchange.edt_saleChgDtmHh.SetFocus();
	}
	else
	{
	    if (length(strText) == 1)
	    {
	        obj.value = "0" + strText;
	    }
	}
	return;
}

/*******************************************************************************
 * @description    : 변경일시 중 입력 분에 대한 validation check
*******************************************************************************/
function div_prodExchange_edt_saleChgDtmMm_OnChanged(obj,strText)
{
	if (strText > 59)
	{
	    alert("유효한 시간을 입력해주세요.");
	    div_prodExchange.edt_saleChgDtmMm.SetFocus();
	}
	else
	{
	    if (length(strText) == 1)
	    {
	        obj.value = "0" + strText;
	    }
	}
	return;
}

/*******************************************************************************
 * @description    : '27'번 전문 처리일때 단말기 통신방식 조회 (2G, 3G)
*******************************************************************************/
function lf_getEqpMdlComMthd(sEqpMdlCd)
{
    var sRtn = "";

	cf_setParam(ds_input, "prod_cd", sEqpMdlCd );                //판매세부유형

	var sSvcID = "getEqpMdlComMthd";
	var sInDs  = "nc_input_fieldDs=ds_input";
	var sOutDs = "ds_output=ds_output";
	var sArg   = "sktst.sal.SCO#getEqpMdlComMthd";

	http.Sync = true;
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);
	http.Sync = false;

	sRtn = ds_output.GetColumn(0,"com_mthd");

	return sRtn;
}
]]></Script>
</Window>
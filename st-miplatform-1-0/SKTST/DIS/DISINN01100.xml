<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="600" Id="DISINN01100" Left="8" OnLoadCompleted="DISINN01100_OnLoadCompleted" PidAttrib="7" Title="단말기구성등록" Top="8" Ver="1.0" Width="830" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_condition">
				<Contents></Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_color">
				<Contents>
					<colinfo id="COLOR_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="COLOR_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_consult_m">
				<Contents>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SER_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="CON_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="CON_PLC_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="COLOR_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="SVC_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="EQP_ST" size="256" summ="default" type="STRING"/>
					<colinfo id="USEPRD_DDCT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="CORROSION_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="POWER_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="CALL_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="DATA_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="DIS_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="FUNCTION_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="RMKS" size="256" summ="default" type="STRING"/>
					<colinfo id="CONFIRM_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="CON_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="BUY_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="INS_USER_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="MOD_USER_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="CON_SEQ" size="256" summ="default" type="STRING"/>
					<colinfo id="AGENCY_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="UKEY_AGENCY_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="POS_AGENCY" size="256" summ="default" type="STRING"/>
					<colinfo id="CON_PLC_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="LOST_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="RETURN_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="LEASE_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="FLOOD_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="USIM_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="OTHER_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="RES_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="DEPO" size="256" summ="default" type="STRING"/>
					<colinfo id="BANK_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="ACC_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="TEL_NO" size="256" summ="default" type="STRING"/>
					<colinfo id="DEAL_CO_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="FULLSET_YN" size="256" summ="default" type="STRING"/>
					<record>
						<ACC_NO></ACC_NO>
						<AGENCY_NM></AGENCY_NM>
						<BANK_CD></BANK_CD>
						<BUY_CL></BUY_CL>
						<CALL_YN></CALL_YN>
						<COLOR_CD></COLOR_CD>
						<CON_AMT></CON_AMT>
						<CON_DT></CON_DT>
						<CON_PLC_CD></CON_PLC_CD>
						<CON_PLC_NM></CON_PLC_NM>
						<CON_SEQ></CON_SEQ>
						<CONFIRM_YN></CONFIRM_YN>
						<CORROSION_YN></CORROSION_YN>
						<DATA_YN></DATA_YN>
						<DEAL_CO_NM></DEAL_CO_NM>
						<DEPO></DEPO>
						<DIS_YN></DIS_YN>
						<EQP_ST></EQP_ST>
						<FLOOD_YN></FLOOD_YN>
						<FULLSET_YN></FULLSET_YN>
						<FUNCTION_YN></FUNCTION_YN>
						<INS_USER_ID></INS_USER_ID>
						<LEASE_YN></LEASE_YN>
						<LOST_YN></LOST_YN>
						<MOD_USER_ID></MOD_USER_ID>
						<OTHER_YN></OTHER_YN>
						<POS_AGENCY></POS_AGENCY>
						<POWER_YN></POWER_YN>
						<PROD_CD></PROD_CD>
						<PROD_NM></PROD_NM>
						<RES_NO></RES_NO>
						<RETURN_YN></RETURN_YN>
						<RMKS></RMKS>
						<SER_NUM></SER_NUM>
						<SVC_DT></SVC_DT>
						<TEL_NO></TEL_NO>
						<UKEY_AGENCY_CD></UKEY_AGENCY_CD>
						<USEPRD_DDCT_AMT></USEPRD_DDCT_AMT>
						<USIM_YN></USIM_YN>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_consult_d">
				<Contents>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="DTL_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="DTL_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="QTY" size="256" summ="default" type="STRING"/>
					<colinfo id="PRICE" size="256" summ="default" type="STRING"/>
					<colinfo id="SALE_PRICE" size="256" summ="default" type="STRING"/>
					<colinfo id="HLD_QTY" size="256" summ="default" type="STRING"/>
					<colinfo id="DDCT_AMT" size="256" summ="default" type="STRING"/>
					<colinfo id="SER_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="CON_SEQ" size="256" summ="default" type="STRING"/>
					<colinfo id="DTL_SEQ" size="256" summ="default" type="STRING"/>
					<colinfo id="NRL_QTY" size="256" summ="default" type="STRING"/>
					<colinfo id="INS_USER_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="MOD_USER_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="TYPE_CL" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rdoYn">
				<Contents>
					<colinfo id="code" size="256" summ="default" type="STRING"/>
					<colinfo id="value" size="256" summ="default" type="STRING"/>
					<record>
						<code>Y</code>
						<value>Y</value>
					</record>
					<record>
						<code>N</code>
						<value>N</value>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_prod_m">
				<Contents>
					<colinfo id="PROD_CD" size="256" summ="default" type="STRING"/>
					<colinfo id="PROD_NM" size="256" summ="default" type="STRING"/>
					<colinfo id="MKTG_DT" size="256" summ="default" type="STRING"/>
					<colinfo id="SETOFF_NUM" size="256" summ="default" type="STRING"/>
					<colinfo id="PREFER_CL" size="256" summ="default" type="STRING"/>
					<colinfo id="FIX_CASH_PRCHS_PRC" size="256" summ="default" type="STRING"/>
					<colinfo id="POL_YM" size="256" summ="default" type="STRING"/>
					<colinfo id="POL_TS" size="256" summ="default" type="STRING"/>
					<colinfo id="RATE" size="256" summ="default" type="STRING"/>
					<colinfo id="MKTG_YN" size="256" summ="default" type="STRING"/>
					<colinfo id="MAX_PRICE" size="256" summ="default" type="STRING"/>
					<record>
						<FIX_CASH_PRCHS_PRC></FIX_CASH_PRCHS_PRC>
						<MAX_PRICE></MAX_PRICE>
						<MKTG_DT></MKTG_DT>
						<MKTG_YN></MKTG_YN>
						<POL_TS></POL_TS>
						<POL_YM></POL_YM>
						<PREFER_CL></PREFER_CL>
						<PROD_CD></PROD_CD>
						<PROD_NM></PROD_NM>
						<RATE></RATE>
						<SETOFF_NUM></SETOFF_NUM>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_rate">
				<Contents>
					<colinfo id="GRADE" size="256" summ="default" type="STRING"/>
					<colinfo id="RATE" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cpntDis">
				<Contents>
					<colinfo id="prchs_mgmt_no" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="color_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="prchs_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="mktg_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="svc_dt" size="256" summ="default" type="STRING"/>
					<colinfo id="eqp_st" size="256" summ="default" type="STRING"/>
					<colinfo id="useprd_ddct_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="rmks" size="256" summ="default" type="STRING"/>
					<colinfo id="prchs_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_id" size="256" summ="default" type="STRING"/>
					<colinfo id="fix_yn" size="256" summ="default" type="STRING"/>
					<colinfo id="reserve_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="tot_dis_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="dis_amt" size="256" summ="default" type="STRING"/>
					<colinfo id="hld_plc_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="pos_agency" size="256" summ="default" type="STRING"/>
					<colinfo id="pos_agency_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="upd_cnt" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cpntEtcDis">
				<Contents>
					<colinfo id="prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_prod_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_color_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="dtl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="dtl_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="base_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="prchs_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="add_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_price" size="256" summ="default" type="INT"/>
					<colinfo id="prchs_prc" size="256" summ="default" type="INT"/>
					<colinfo id="prchs_plc_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_selEtcDis"></Dataset>
			<Dataset DataSetType="Dataset" Id="ds_eqpSt">
				<Contents>
					<colinfo id="COMM_CD_ID" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL" size="256" summ="default" type="STRING"/>
					<colinfo id="COMM_CD_VAL_NM" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_viewCpntEtcDis">
				<Contents>
					<colinfo id="prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_prod_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_prod_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_color_cd" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_color_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="cpnt_ser_num" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="prod_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="dtl_cl" size="256" summ="default" type="STRING"/>
					<colinfo id="dtl_cl_nm" size="256" summ="default" type="STRING"/>
					<colinfo id="base_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="prchs_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="add_qty" size="256" summ="default" type="STRING"/>
					<colinfo id="sale_price" size="256" summ="default" type="INT"/>
					<colinfo id="prchs_prc" size="256" summ="default" type="INT"/>
					<colinfo id="prchs_plc_id" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Div Border="Raised" Height="41" Id="div_conInfo1" Left="10" Style="sty_div_dataview" TabOrder="1" Text="질의내용" Top="9" Width="810">
			<Contents>
				<Static Align="Right" Border="None" Height="20" Id="Static0" Left="583" Style="sty_lb_Search" TabOrder="1" Text="처리자" Top="7" VAlign="Middle" Width="55"></Static>
				<Edit BindDataset="ds_consult_m" Border="Flat" Column="INS_USER_ID" Enable="FALSE" Height="20" Id="edt_userId" Left="645" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="1" Top="7" UserData="처리자" Width="131"></Edit>
				<Edit BindDataset="ds_cpntDis" Border="Flat" Column="pos_agency_nm" Enable="FALSE" Height="20" Id="edt_agencyNm" ImeMode="native" Left="75" LeftMargin="2" OnChanged="div_search_edt_agencyNm_OnChanged" OnKeyDown="div_search_edt_agencyNm_OnKeyDown" RightMargin="2" Style="sty_ipt_form" TabOrder="7" Top="8" Width="120"></Edit>
				<Static Align="Right" Height="20" Id="Static3" Left="23" Style="sty_lb_Search" TabOrder="3" Text="팀" Top="9" VAlign="Middle" Width="45"></Static>
				<Button Cursor="HAND" Enable="FALSE" Height="21" Id="btn_agency" ImageID="btn_i_detail" Left="195" OnClick="btn_agency_OnClick" TabOrder="8" Text="Button0" Top="8" Width="19"></Button>
				<Edit BindDataset="ds_consult_m" Border="Flat" Column="POS_AGENCY" Height="20" Id="edt_posAgency" ImeMode="native" Left="273" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="10" Top="8" Visible="FALSE" Width="8"></Edit>
				<Edit BindDataset="ds_cpntDis" Border="Flat" Column="pos_agency" Enable="FALSE" Height="20" Id="edt_agency" ImeMode="none" Left="213" LeftMargin="2" Readonly="TRUE" RightMargin="2" Style="sty_ipt_form" TabOrder="9" Top="8" Width="60"></Edit>
				<Static Align="Right" Height="20" Id="Static2" Left="298" Style="sty_lb_Search" TabOrder="8" Text="보유처" Top="8" VAlign="Middle" Width="45"></Static>
				<Edit BindDataset="ds_cpntDis" Border="Flat" Column="hld_plc_nm" Enable="FALSE" Height="20" Id="edt_dealNm" Left="348" MaxLength="10" OnChanged="div_conInfo1_edt_dealNm_OnChanged" OnKeyDown="div_conInfo1_edt_dealNm_OnKeyDown" Style="sty_ipt_form" TabOrder="4" Top="8" UpperOnly="TRUE" Width="130"></Edit>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Enable="FALSE" Height="20" Id="btn_dealCo" ImageID="btn_i_detail_b" Left="478" OnClick="div_conInfo1_btn_dealCo_OnClick" TabOrder="5" Text="Button0" Top="8" Width="20"></Button>
				<Edit BindDataset="ds_cpntDis" Border="Flat" Column="hld_plc_id" Enable="FALSE" Height="20" Id="edt_dealCd" Left="496" MaxLength="10" Style="sty_ipt_form" TabOrder="6" Top="8" UpperOnly="TRUE" Width="60"></Edit>
			</Contents>
		</Div>
		<Div Border="Raised" Height="64" Id="div_dis" Left="11" Style="sty_div_dataview" TabOrder="2" Text="질의내용" Top="56" Width="810">
			<Contents>
				<Static Align="Right" Height="20" Id="Static3" Left="5" Style="sty_lb_Search" TabOrder="1" Text="일련번호" Top="7" VAlign="Middle" Width="64"></Static>
				<Edit BindDataset="ds_cpntDis" Border="Flat" Column="SER_NUM" Enable="FALSE" Height="20" Id="edt_serNm" Left="74" MaxLength="15" Style="sty_ipt_form" TabOrder="2" Top="7" UpperOnly="TRUE" Width="140"></Edit>
				<Static Align="Right" Border="None" Height="20" Id="Static0" Left="584" Style="sty_lb_Search" TabOrder="2" Text="색상" Top="7" VAlign="Middle" Width="55"></Static>
				<Static Align="Right" Height="20" Id="Static1" Left="298" Style="sty_lb_Search" TabOrder="4" Text="모델" Top="7" VAlign="Middle" Width="45"></Static>
				<Edit BindDataset="ds_cpntDis" Border="Flat" Column="PROD_CD" Enable="FALSE" Height="20" Id="edt_ProdCd" Left="348" MaxLength="10" Style="sty_ipt_form" TabOrder="4" Top="7" UpperOnly="TRUE" Width="55"></Edit>
				<Button BindDataset="ds_DlvFee" Cursor="HAND" Enable="FALSE" Height="20" Id="btn_ProdCd" ImageID="btn_i_detail" Left="403" OnClick="div_conInfo2_btn_ProdCd_OnClick" TabOrder="5" TabStop="FALSE" Text="Button0" Top="7" Width="20"></Button>
				<Edit BindDataset="ds_cpntDis" Border="Flat" Column="PROD_NM" Enable="FALSE" Height="20" Id="edt_ProdNm" Left="421" LeftMargin="2" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="7" Width="90"></Edit>
				<Static Align="Right" Height="21" Id="Static2" Left="271" Style="sty_lb_Search" TabOrder="8" Text="단말기등급" Top="32" VAlign="Middle" Width="72"></Static>
				<Static Align="Right" Height="20" Id="Static4" Left="587" Style="sty_lb_Search" TabOrder="8" Text="기준가" Top="31" VAlign="Middle" Width="52"></Static>
				<Static Align="Right" Height="20" Id="Static5" Left="7" Style="sty_lb_Search" TabOrder="10" Text="출시일자" Top="31" VAlign="Middle" Width="60"></Static>
				<Calendar BindDataset="ds_cpntDis" Border="Flat" ButtonImageID="btn_i_calendar" Column="mktg_dt" DayFont="Default,-1" Enable="FALSE" HeaderBorder="NONE" HeaderFont="Default,-1" HeadStyle="sty_calendar_head" Height="20" Id="Calendar0" Left="74" LeftMargin="2" MonthPopupBorder="RAISED" NullValue="&#32;" OnChanged="div_conInfo2_Calendar0_OnChanged" RightMargin="2" SaturdayTextColor="user28" Style="sty_calendar" SundayTextColor="user27" TabOrder="11" TodayColor="user26" Top="31" WeeksFont="Default,-1" WeekStyle="sty_calendar_week" Width="95"></Calendar>
				<MaskEdit BindDataset="ds_cpntDis" Border="Flat" Column="dis_amt" Enable="FALSE" Height="20" Id="msk_standardAmt" Left="645" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="12" Top="31" Value="0" Width="131"></MaskEdit>
				<Edit BindDataset="ds_cpntDis" Border="Flat" Column="eqp_st" Enable="FALSE" Height="20" Id="edt_eqpSt" Left="348" MaxLength="15" Style="sty_ipt_form" TabOrder="13" Top="31" UpperOnly="TRUE" Width="140"></Edit>
				<Edit BindDataset="ds_cpntDis" Border="Flat" Column="color_nm" Enable="FALSE" Height="20" Id="Edit0" Left="645" MaxLength="15" Style="sty_ipt_form" TabOrder="14" Top="7" UpperOnly="TRUE" Width="131"></Edit>
			</Contents>
		</Div>
		<Image Align="Left" Height="24" Id="Image1" ImageID="bul_tit" Left="10" LeftMargin="15" OnClick="Image2_OnClick" Style="sty_img_tit" TabOrder="3" Text="구성품&#32;정보" Top="132" Width="96"></Image>
		<Image Align="Left" Height="24" Id="Image3" ImageID="bul_tit" Left="10" LeftMargin="15" OnClick="Image2_OnClick" Style="sty_img_tit" TabOrder="4" Text="상품&#32;재고가" Top="388" Width="102"></Image>
		<Button Align="Left" ButtonStyle="TRUE" Cursor="HAND" Height="28" Id="btn_save" ImageID="btn_c_2" Left="760" LeftMargin="5" OnClick="btn_save_OnClick" Style="sty_btn_c" TabOrder="5" Text="저장" Top="532" Width="61"></Button>
		<Div Border="Raised" Height="40" Id="div_prodSalePrc" Left="10" Style="sty_div_input" TabOrder="6" Text="Div0" Top="413" Width="810">
			<Contents>
				<Static Align="Right" Height="20" Id="Static0" Left="9" Style="sty_lb_Basic" TabOrder="2" Text="상품매입가" Top="6" VAlign="Middle" Width="79"></Static>
				<Static Align="Right" Height="20" Id="Static4" Left="204" Style="sty_lb_Basic" TabOrder="1" Text="구성품추가금액" Top="6" VAlign="Middle" Width="94"></Static>
				<Static Align="Right" Height="20" Id="Static3" Left="590" Style="sty_lb_Basic" TabOrder="3" Text="재고가" Top="6" VAlign="Middle" Width="60"></Static>
				<MaskEdit Border="Flat" Enable="FALSE" Height="20" Id="msk_disAmt" Left="654" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="4" Top="6" Value="0" Width="102"></MaskEdit>
				<MaskEdit BindDataset="ds_cpntDis" Border="Flat" Column="dis_amt" Enable="FALSE" Height="20" Id="msk_prodPrchsAmt" Left="91" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="5" Top="6" Value="0" Width="102"></MaskEdit>
				<MaskEdit Border="Flat" Enable="FALSE" Height="20" Id="msk_cpntAddAmt" Left="302" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="6" Top="6" Value="0" Width="102"></MaskEdit>
				<Static Align="Right" Height="20" Id="Static1" Left="380" Style="sty_lb_Basic" TabOrder="7" Text="유보금액" Top="6" VAlign="Middle" Width="94"></Static>
				<MaskEdit BindDataset="ds_cpntDis" Border="Flat" Column="reserve_amt" Enable="FALSE" Height="20" Id="msk_reserveAmt" Left="478" LeftMargin="2" Mask="#,###,###,###" MaxLength="10" NullValue="0" RightMargin="2" Style="sty_ipt_form" TabOrder="8" Top="6" Value="0" Width="102"></MaskEdit>
			</Contents>
		</Div>
		<Grid AutoEnter="TRUE" AutoFit="TRUE" BindDataset="ds_viewCpntEtcDis" BkColor2="user32" BoldHead="true" Border="Flat" Bottom="379" CellMoving="TRUE" Editable="TRUE" Enable="true" EndLineColor="default" FillArea="TRUE" FillAreaType="Control" HeadBorder="Flat" HeadHeight="22" Height="219" Id="grd_cpntEtcDis" InputPanel="FALSE" Left="10" LineColor="user33" MinWidth="100" OnCellDBLClick="grd_cpntEtcDis_OnCellDblClick" Right="820" RowHeight="21" Style="sty_Grid" TabOrder="7" TabStop="true" Top="160" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="user33" WheelScrollRow="1" Width="810">
			<contents>
				<format id="Default">
					<columns>
						<col width="36"/>
						<col width="128"/>
						<col width="138"/>
						<col width="129"/>
						<col width="79"/>
						<col width="78"/>
						<col width="72"/>
						<col width="98"/>
					</columns>
					<head>
						<cell bkcolor="user34" col="0" color="user35" display="text" text="번호"/>
						<cell bkcolor="user34" col="1" color="user35" display="text" text="구분"/>
						<cell bkcolor="user34" col="2" color="user35" display="text" text="모델"/>
						<cell bkcolor="user34" col="3" color="user35" display="text" text="일련번호"/>
						<cell bkcolor="user34" col="4" color="user35" display="text" text="기준수량"/>
						<cell bkcolor="user34" col="5" color="user35" display="text" text="매입수량"/>
						<cell bkcolor="user34" col="6" color="user35" display="text" text="*&#32;추가수량"/>
						<cell bkcolor="user34" col="7" color="user35" display="text" text="매입금액"/>
					</head>
					<body>
						<cell align="center" col="0" display="text" expr="currow+1"/>
						<cell col="1" colid="prod_cl_nm" display="combo"/>
						<cell col="2" colid="cpnt_prod_nm" display="text"/>
						<cell col="3" colid="cpnt_ser_num" display="text"/>
						<cell align="right" col="4" colid="base_qty" display="text"/>
						<cell align="right" col="5" colid="prchs_qty" display="text"/>
						<cell align="right" col="6" colid="add_qty" display="text"/>
						<cell align="right" col="7" colid="prchs_prc" display="number"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Div Border="Raised" Height="59" Id="div_rmks" Left="10" Style="sty_div_input" TabOrder="8" Text="Div0" Top="464" Width="810">
			<Contents>
				<TextArea Border="Flat" Height="39" Id="txa_rmks" Left="88" Style="sty_ipt_form" TabOrder="1" Top="7" VScroll="TRUE" Width="709"></TextArea>
				<Static Align="Right" Height="20" Id="Static8" Left="24" Style="sty_lb_Basic" TabOrder="2" Text="비고" Top="7" VAlign="Middle" Width="60"></Static>
			</Contents>
		</Div>
	</Form>
	<Script><![CDATA[/*******************************************************************************
* 프로그램ID 	: DISINN01100
* 업무명      	: 재고관리 - 입고
* 프로그램명  	: 상품입고지시등록
--------------------------------------------------------------------------------
* 작성자      	: 이문규
* 작성일      	: 2011.07.19
--------------------------------------------------------------------------------
* 1. 변경이력
*******************************************************************************/

//==============================================================================
// 공통 스크립트 로딩
//==============================================================================
#include "lib::lib_commF.js"
#include "lib::lib_commMsg.js"
#include "lib::lib_commPopup.js"
#include "lib::lib_util.js"
//==============================================================================
// 폼 변수 정의
//==============================================================================
// 글로벌 세션정보
var FV_USER_ID;					// 사용자ID
var FV_USER_NM;					// 사용자명

var	FV_ORG_ID;					// 소속 
var	FV_ORG_NM;					// 소속명
var	FV_ORG_CL;					// 소속구분
var	FV_AGENCY_ID;           	// 소속 대리점ID
var	FV_AGENCY_NM;           	// 소속 대리점명
var	FV_AGENCY_UKEY_ID;      	// 소속 대리점UKEY ID	
	
var	FV_ORG_AREA_ID;				// 근무지 ID
var	FV_ORG_AREA_NM;				// 근무지명
var	FV_ORG_AREA_POS_AGENCY_CD;	// 근무지 
var	FV_ORG_AREA_UKEY_ID;     	// 근무지ukeyid
var	FV_ORG_AREA_SUB_CD;      	// 근무지subcd
var	FV_ORG_AREA_CHANNEL_CD;  	// 근무지 channelcd	
var	FV_USER_GRP;			 	// 유저그룹

var	FV_DUTY;					// 사용자 직책
var	FV_ORG_AREA_CL1;			// 근무지 구분

var FV_PROD_CD;
var FV_SER_NUM;
var FV_COLOR_CD;
var FV_IN_MGMT_NO;
var FV_IN_SEQ;
var FV_PRCHS_MGMT_NO;

var FV_NUM_ORG_QTY;
var FV_NUM_DIS_AMT;

/*******************************************************************************
 * @description    : 최초 폼 로드시 발생 - 이벤트
*******************************************************************************/
function DISINN01100_OnLoadCompleted(obj)
{
	cf_setAuth(pFrmNum);   // 권한 공통

	lf_getSession();           
	lf_setCombo();
	lf_formInit();
	lf_getCpntDisDtl();
}

/*******************************************************************************
 * @description    : 글로벌 섹션 정보
*******************************************************************************/
function lf_getSession()
{
    //
    if(IsExistVar("p_prod_cd" ,true)){ FV_PROD_CD = p_prod_cd;   }
    if(IsExistVar("p_ser_num" ,true)){ FV_SER_NUM = p_ser_num;   }
    if(IsExistVar("p_color_cd",true)){ FV_COLOR_CD = p_color_cd; }
    

	FV_USER_ID        = gds_session.GetColumn(0, "loginid");						// 사용자ID
	FV_USER_NM        = gds_session.GetColumn(0, "usernm");							// 사용자명
/*
	FV_ORG_ID         = gds_session.GetColumn(0, "orgid");							// 소속 
	FV_ORG_NM         = gds_session.GetColumn(0, "orgnm");							// 소속명
	FV_ORG_CL         = gds_session.GetColumn(0, "orgcl");							// 소속구분
	FV_AGENCY_ID      = gds_session.GetColumn(0, "posAgencyId");        			// 소속 대리점ID
	FV_AGENCY_NM      = gds_session.GetColumn(0, "posAgencyNm");        			// 소속 대리점명
	FV_AGENCY_UKEY_ID = gds_session.GetColumn(0, "posAgencyUkeyId");    			// 소속 대리점UKEY ID	
	
	FV_ORG_AREA_ID            = gds_session.GetColumn(0, "orgareaid");				// 근무지 ID
	FV_ORG_AREA_NM            = gds_session.GetColumn(0, "orgareanm");				// 근무지명
	FV_ORG_AREA_POS_AGENCY_CD = gds_session.GetColumn(0, "orgareaposagencycd");		// 근무지 
	FV_ORG_AREA_UKEY_ID       = gds_session.GetColumn(0, "orgareaukeyid");      	// 근무지ukeyid
	FV_ORG_AREA_SUB_CD        = gds_session.GetColumn(0, "orgareaukeysubcd");   	// 근무지subcd
	FV_ORG_AREA_CHANNEL_CD    = gds_session.GetColumn(0, "orgareaukeychannelcd"); 	// 근무지 channelcd	
	FV_USER_GRP               = gds_session.GetColumn(0, "usergrp");				// 유저그룹
	
	FV_ORG_AREA_CL1           = gds_session.GetColumn(0, "orgareacl1");				// 근무지 구분
	FV_DUTY                   = gds_session.GetColumn(0, "duty");	   		    	// 직책		
	
	
	cf_setParam(gds_temp, "prod_cd"      , ds_cpntDisList.GetColumn(nRow, "prod_cd"));
	cf_setParam(gds_temp, "prod_nm"      , ds_cpntDisList.GetColumn(nRow, "prod_nm"));
	cf_setParam(gds_temp, "color_cd"     , ds_cpntDisList.GetColumn(nRow, "color_cd"));
	cf_setParam(gds_temp, "color_nm"     , ds_cpntDisList.GetColumn(nRow, "color_nm"));
	cf_setParam(gds_temp, "ser_num"      , ds_cpntDisList.GetColumn(nRow, "ser_num"));
	cf_setParam(gds_temp, "prchs_mgmt_no", ds_cpntDisList.GetColumn(nRow, "prchs_mgmt_no"));
	cf_setParam(gds_temp, "in_mgmt_no"   , ds_cpntDisList.GetColumn(nRow, "in_mgmt_no"));
	cf_setParam(gds_temp, "in_seq"       , ds_cpntDisList.GetColumn(nRow, "in_seq"));	
*/	
	
    FV_PROD_CD    = gds_temp.GetColumn(0,"prod_cd");
    FV_SER_NUM    = gds_temp.GetColumn(0,"ser_num");
    FV_COLOR_CD   = gds_temp.GetColumn(0,"color_cd");
    FV_IN_MGMT_NO = gds_temp.GetColumn(0,"in_mgmt_no");
    FV_IN_SEQ     = gds_temp.GetColumn(0,"in_seq");
    FV_PRCHS_MGMT_NO = gds_temp.GetColumn(0,"prchs_mgmt_no");

	gds_temp.Clear();
    
}

/*******************************************************************************
 * @description    : 조회 조건상의 Combox 항목에 공통코드를 설정
*******************************************************************************/
function lf_setCombo()
{
	http.Sync = true;
	cf_setCommonCodeDsEnv();
	//cf_setCommonCode("div_eqpSalePrc.cmb_fnshYn" , "ZDIS_C_00040", "선택");	
	cf_setCommonCode("ds_eqpSt" , "ZBAS_P_00060");	// 단말기 등급
	cf_checkCommonCode(); 
	http.Sync = false;		
}

function lf_formInit()
{
	div_conInfo1.edt_userId.Text = FV_USER_NM;
}

/*******************************************************************************
 * @description         : 로컬 변수 초기화 초기화
*******************************************************************************/
function lf_formVarInit()
{
    if(uf_isNull(FV_PROD_CD)) {
    
    }

    
}

function lf_getCpntDisDtl()
{
	lf_formVarInit();

	ds_condition.ClearData();

    cf_setParam(ds_condition, "prod_cd"    , FV_PROD_CD ); 
    cf_setParam(ds_condition, "ser_num"    , FV_SER_NUM ); 
    cf_setParam(ds_condition, "color_cd"   , FV_COLOR_CD ); 
    cf_setParam(ds_condition, "in_mgmt_no" , FV_IN_MGMT_NO ); 
    cf_setParam(ds_condition, "in_seq"     , FV_IN_SEQ ); 
    cf_setParam(ds_condition, "prchs_mgmt_no" , FV_PRCHS_MGMT_NO ); 
    
	var sSvcID 	= "getDisDtl";
	var sInDs  	= "nc_input_fieldDs=ds_condition";
	var sOutDs 	= "ds_cpntDis=CpntDis ds_cpntEtcDis=CpntEtcDis";
	var sArg	= "sktst.dis.INN#getCpntDisDtl";

	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg, null, true, true);	
}

/*******************************************************************************
 * @description : 대리점 팝업 
 ******************************************************************************/
function btn_agency_OnClick(obj)
{
	var sArg  = "org_id="+quote(FV_ORG_ID); 
		sArg += " org_cl="+quote(FV_ORG_CL); 
 
	cf_callAgencyPop(sArg, ds_consult_m, "DEAL_CO_NM,POS_AGENCY,UKEY_AGENCY_CD" );
}

/*******************************************************************************
 * @description : 대리점 editbox 변경시 
 ******************************************************************************/ 
function div_conInfo1_edt_agencyNm_OnChanged(obj,strText)
{
	ds_consult_m.SetColumn(0, "POS_AGENCY", "");
	ds_consult_m.SetColumn(0, "UKEY_AGENCY_CD", "");
	ds_cmbUser.Clear();
}

/*******************************************************************************
 * @description : 대리점 editbox 엔터키 입력시 대리점 팝업 
 ******************************************************************************/ 
function div_conInfo1_edt_agencyNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if (nChar == 13) {
		ApplyData();
		var sArg  = "org_id="+quote(FV_ORG_ID); 
			sArg += " org_cl="+quote(FV_ORG_CL); 
		cf_callAgencyPop(sArg, ds_consult_m, "DEAL_CO_NM,POS_AGENCY,UKEY_AGENCY_CD" );
	}
}

function div_conInfo1_btn_dealCo_OnClick(obj)
{
	div_conInfo1.edt_dealCd.Text = "";
		
	var sArg  = "deal_co_cl1="+quote("A2,A3,A4,B1,B2,C1,Z1"); 
		sArg += " pos_agency="+quote(div_conInfo1.edt_posAgency.Text); // 소속 대리점	옵션
		sArg += " only_stl_plc='Y'";
		
	cf_callDealPop(sArg, div_conInfo1, "edt_dealNm, edt_dealCd", 0, "Y");
}

/*******************************************************************************
 * @description : 상담처 editbox 변경시 
 ******************************************************************************/ 
function div_conInfo1_edt_dealNm_OnChanged(obj,strText)
{
	ds_consult_m.SetColumn(0, "CONPLC_CD", "");
}

/*******************************************************************************
 * @description : 상담처 editbox 엔터키 입력시 대리점 팝업 
 ******************************************************************************/ 
function div_conInfo1_edt_dealNm_OnKeyDown(obj,nChar,bShift,bCtrl, bAlt,LLParam,HLParam)
{
	if (nChar == 13) {
		ApplyData();
		var sArg  = "deal_co_cl1=" + quote("A2,A3,A4,A5,B1,B2,C1,Z1");
			sArg += " pos_agency=" + div_conInfo1.edt_posAgency.Value; 

		cf_callDealPop(sArg, div_conInfo1, "edt_dealNm,edt_dealCd");
	}
}

/*******************************************************************************
 * @description : 상품  팝업 
 ******************************************************************************/
function div_conInfo2_btn_ProdCd_OnClick(obj)
{

	f_clear();
	cf_commPopProd("div_conInfo2.edt_ProdCd", "div_conInfo2.edt_ProdNm", 13);

//    if(uf_isNull(FV_STR_POP_RESULT) == true) return;

    if ( uf_IsNull(div_conInfo2.edt_ProdCd.Text) ) {
//        ds_chgrgId.Clear();
    } else {
        f_getColorList();
    }
	
}

/*******************************************************************************
 * @description    :  단말기등급조회
*******************************************************************************/
/*
function f_getRateList()
{
	ds_rate.ClearData();

	var sSvcID 	= "getRateList";
	var sInDs  	= "nc_input_fieldDs=ds_prod_m";
	var sOutDs 	= "ds_rate=ds_rate";
	var sArg	= "sktst.cst.ADV#getRateMgmt";

	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg, null, true, true);
}
*/

/*******************************************************************************
 * @description    :  단말기색상조회
*******************************************************************************/
/*
function f_getColorList()
{
	ds_color.ClearData();

	var sSvcID 	= "getColorList";
	var sInDs  	= "nc_input_fieldDs=ds_consult_m";
	var sOutDs 	= "ds_color=ds_color ds_prod_m=ds_prod_m ds_consult_d=ds_consult_d ds_rate=ds_rate";
	var sArg	= "sktst.cst.ADV#getColorList";
		               
	// 공통 트랜잭션 호출
	cf_Transaction(sSvcID, sInDs, sOutDs, sArg, null, true, true);
}
*/

/*******************************************************************************
 * @description    :  callBack
*******************************************************************************/
function f_callBack(sSvcID)
{
    if (sSvcID = "getDisDtl"){
        // ds_cpntEtcDis : 구성품 추가시 사용
        // ds_viewCpntEtcDis : 구성품 정보 view에 사용
        ds_viewCpntEtcDis.Copy(ds_cpntEtcDis);
    
        lf_setDisAmt();
        
        if ( uf_IsNull(ds_cpntDis.GetColumn(0,"eqp_st")) ) {
            div_dis.edt_eqpSt.Text = ds_eqpSt.GetColumn(0,"COMM_CD_VAL");
        }
    }
    
    if (sSvcID == "saveCpntDis"){
        this.Close();
    }
}

/*******************************************************************************
* 함수명 : df_reSet
* 기능명 : 화면 초기화
*******************************************************************************/
function df_reSet(sArg)
{
	cf_setAuth(pFrmNum);   // 권한 공통

	lf_getSession();           
	lf_setCombo();
	lf_formInit();
	lf_getCpntDisDtl();
}

/*******************************************************************************
 * @description    : 저장
*******************************************************************************/
function btn_save_OnClick(obj)
{
    // 구성품관리-------
    // 1. 출고
    // 2. 출고상세
    // 3. 입출고이력상세
    // 4. 재고
    // 5. 기타입출고이력상세
    // 6. 기타재고
    
    // 상품관리---------
    // 7. 상품재고
    // 8. 상품단가
    // 9. 구성품

    
/*	
	if ( !lf_saveValidationCheck() ) {
        return;
    }
    ds_consult_m.SetColumn(0, "COLOR_CD", 		div_conInfo2.cmb_color.value);
	ds_consult_m.SetColumn(0, "EQP_ST", 		div_conInfo2.cmb_rate.text);
	FV_RATE_CD = ds_consult_m.GetColumn(0,"EQP_ST");
*/

	cf_setParam(ds_cpntDis, "fix_yn", "N");
	cf_setParam(ds_cpntDis, "rmks"  , div_rmks.txa_rmks.Text );

 	var sSvcID = "saveCpntDis";
	var sInDs  = "ds_cpntDis=ds_cpntDis ds_cpntEtcDis=ds_cpntEtcDis";
	var sOutDs = "";
	var sArg   = "sktst.dis.INN#saveCpntDis";

	cf_Transaction(sSvcID, sInDs, sOutDs, sArg);

	return;

}

/*******************************************************************************
 * @description    :  상담등록 저장시 validation check
*******************************************************************************/
function lf_saveValidationCheck()
{
    var bFlag = true;

    if ( uf_IsNull(div_conInfo1.edt_agencyNm.Text) || uf_IsNull(div_conInfo1.edt_agency.Text) ) {
		alert("대리점을 입력해 주십시요.");
		return false;
	}

    if ( uf_IsNull(div_conInfo1.edt_dealNm.Text) || uf_IsNull(div_conInfo1.edt_dealCd.Text) ) {
		alert("보유처를 입력해 주십시요.");
		return false;
	}
	
    return bFlag;
}

/*******************************************************************************
 * @description : 재고가 계산 처리
 ******************************************************************************/ 
function lf_setDisAmt()
{
    var iProdPrchsAmt = div_prodSalePrc.msk_prodPrchsAmt.Value;
    var iCnptAddAmt   = div_prodSalePrc.msk_cpntAddAmt.Value;
    var iReserveAmt   = div_prodSalePrc.msk_reserveAmt.Value;
    
    var iDisAmt       = ParseInt(iProdPrchsAmt) + ParseInt(iCnptAddAmt) + ParseInt(iReserveAmt);

    div_prodSalePrc.msk_disAmt.value    = iDisAmt;
}

/*******************************************************************************
 * @description : 판매가 초기화
 ******************************************************************************/ 
function f_unSetSalePrc()
{
    div_eqpSalePrc.msk_salePrc.Value    = "";
    div_eqpSalePrc.msk_fixSalePrc.Value = "";
}

function grd_cpntList_OnCellDblClick(obj,nRow,nCell,nX,nY,nPivotIndex)
{
	if (nCell == 5) {
		Dialog("DIS::DISINN01110.xml", "", 430, 443);
	}
}

function grd_cpntEtcDis_OnCellDblClick(obj,nRow,nCell,nX,nY,nPivotIndex)
{
	// 추가수량 클릭 시.
	if(nCell == 6){

		// 상품이 단말기/usim인 경우 물론 0 보다 클때...
		/*
		if( (ds_inDtlList.GetColumn(nRow,"prod_cl") == "1" || ds_inDtlList.GetColumn(nRow,"prod_cl") == "2")
			&& (ds_inDtlList.GetColumn(nRow,"in_qty") > 0 ) ){

			ds_prodSerNumList.Filter("prod_cd='"+ds_inDtlList.GetColumn(nRow,"prod_cd")+"'&&color_cd='"+ds_inDtlList.GetColumn(nRow,"color_cd")+"'");
			ds_prodSerNumGrpList.CopyF(ds_prodSerNumList);			
			ds_prodSerNumList.UnFilter();

			Dialog("DIS::DISDCO00300.xml", "FV_STR_DS_DCO300=ds_prodSerNumGrpList FV_STR_DS_ORG_DCO300=ds_prodSerNumList", "255", "313");
		}
		*/
		var sBaseQty  = ds_viewCpntEtcDis.GetColumn(nRow,"base_qty");  // 기준수량
		var sPrchsQty = ds_viewCpntEtcDis.GetColumn(nRow,"prchs_qty"); // 매입수량
		var sAddQty   = ds_viewCpntEtcDis.GetColumn(nRow,"add_qty");   // 추가수량
		
		var sSumQty   = parseInt(sPrchsQty) + parseInt(sAddQty);

        if (sBaseQty <= sSumQty) {
            alert("기준수량을 초과할수 없습니다.");
            return;
        }
		
		var sArg = "p_cpntProdCl="+quote(ds_viewCpntEtcDis.GetColumn(nRow,"prod_cl"));
			sArg += " p_cpntProdCd="+quote(ds_viewCpntEtcDis.GetColumn(nRow,"cpnt_prod_cd"));
			sArg += " p_cpntProdNm="+quote(ds_viewCpntEtcDis.GetColumn(nRow,"cpnt_prod_nm"));
			sArg += " p_prodCd="+quote(ds_viewCpntEtcDis.GetColumn(nRow,"prod_cd"));
			sArg += " p_callBackFunc="+quote("lf_selCpntProc");
        		
		Dialog("DIS::DISINN01110.xml", sArg, "255", "313");
	}
}

/*******************************************************************************
 * @description : 판매가 초기화
 ******************************************************************************/ 
function lf_selCpntProc()
{
    /* 기타구성품재고검색에서 넘어온값 */
    /*
    cf_setParam(parent.ds_selEtcDis, "cpnt_prod_cl"   , ds_etcDisList.GetColumn(nRow, "prod_cl"));
    cf_setParam(parent.ds_selEtcDis, "cpnt_prod_cl_nm", ds_etcDisList.GetColumn(nRow, "prod_cl_nm"));
    cf_setParam(parent.ds_selEtcDis, "cpnt_mfact_id"  , ds_etcDisList.GetColumn(nRow, "mfact_id"));
    cf_setParam(parent.ds_selEtcDis, "cpnt_mfact_nm"  , ds_etcDisList.GetColumn(nRow, "mfact_nm"));
    cf_setParam(parent.ds_selEtcDis, "cpnt_prod_cd"   , ds_etcDisList.GetColumn(nRow, "prod_cd"));
    cf_setParam(parent.ds_selEtcDis, "cpnt_prod_nm"   , ds_etcDisList.GetColumn(nRow, "prod_nm"));
    cf_setParam(parent.ds_selEtcDis, "cpnt_color_cd"  , ds_etcDisList.GetColumn(nRow, "color_cd"));
    cf_setParam(parent.ds_selEtcDis, "cpnt_color_nm"  , ds_etcDisList.GetColumn(nRow, "color_nm"));
    cf_setParam(parent.ds_selEtcDis, "cpnt_ser_num"   , ds_etcDisList.GetColumn(nRow, "ser_num"));
    cf_setParam(parent.ds_selEtcDis, "cpnt_etc_seq"   , ds_etcDisList.GetColumn(nRow, "etc_seq"));
    cf_setParam(parent.ds_selEtcDis, "qty"            , ds_etcDisList.GetColumn(nRow, "qty"));
    cf_setParam(parent.ds_selEtcDis, "dis_amt"        , ds_etcDisList.GetColumn(nRow, "dis_amt"));
    cf_setParam(parent.ds_selEtcDis, "upd_cnt"        , ds_etcDisList.GetColumn(nRow, "upd_cnt"));
    

		<colinfo id="PROD_CD" size="255" summ="default" type="STRING"/>
		<colinfo id="PROD_NM" size="255" summ="default" type="STRING"/>
		<colinfo id="CPNT_PROD_CD" size="255" summ="default" type="STRING"/>
		<colinfo id="CPNT_PROD_NM" size="255" summ="default" type="STRING"/>
		<colinfo id="CPNT_COLOR_CD" size="255" summ="default" type="STRING"/>
		<colinfo id="CPNT_COLOR_NM" size="255" summ="default" type="STRING"/>
		<colinfo id="CPNT_SER_NUM" size="255" summ="default" type="STRING"/>
		<colinfo id="PROD_CL" size="255" summ="default" type="STRING"/>
		<colinfo id="PROD_CL_NM" size="255" summ="default" type="STRING"/>
		<colinfo id="DTL_CL" size="255" summ="default" type="STRING"/>
		<colinfo id="DTL_CL_NM" size="255" summ="default" type="STRING"/>
		<colinfo id="BASE_QTY" size="15" summ="default" type="DECIMAL"/>
		<colinfo id="PRCHS_QTY" size="15" summ="default" type="DECIMAL"/>
		<colinfo id="ADD_QTY" size="15" summ="default" type="DECIMAL"/>
		<colinfo id="SALE_PRICE" size="15" summ="default" type="DECIMAL"/>
		<colinfo id="PRCHS_PRC" size="15" summ="default" type="DECIMAL"/>
		<colinfo id="PRCHS_PLC_ID" size="255" summ="default" type="STRING"/>
    */
    var nViewRow   = ds_viewCpntEtcDis.currow;  // 현재 row
    var nSearchRow = 0;  // ds_cpntEtcDis의 Search row

    var nAddQty    = 1; // 추가수량 변수
    var nAddSum    = 0;

    // ds_viewCpntEtcDis에서 선택한 row를 ds_cpntEtcDis에 추가
    nSearchRow = ds_cpntEtcDis.SearchRow("cpnt_prod_cd='"+ds_viewCpntEtcDis.GetColumn(nViewRow,"cpnt_prod_cd")+"'"
                                         +" AND cpnt_color_cd='"+ds_viewCpntEtcDis.GetColumn(nViewRow,"cpnt_color_cd")+"'"
                                         +" AND length(cpnt_ser_num)="+length(ds_viewCpntEtcDis.GetColumn(nViewRow,"cpnt_ser_num")));
                                         
    ds_cpntEtcDis.AddRow();
    ds_cpntEtcDis.CopyRow(ds_cpntEtcdis.row, ds_cpntEtcDis, nSearchRow);
                            
    ds_cpntEtcDis.SetColumn(ds_cpntEtcdis.row, "cpnt_ser_num", ds_selEtcDis.GetColumn(0,"cpnt_ser_num") );
    ds_cpntEtcDis.SetColumn(ds_cpntEtcdis.row, "cpnt_etc_seq", ds_selEtcDis.GetColumn(0,"cpnt_etc_seq") );
    ds_cpntEtcDis.SetColumn(ds_cpntEtcdis.row, "base_qty"    , "0" );
    ds_cpntEtcDis.SetColumn(ds_cpntEtcdis.row, "prchs_qty"   , "0" );
    ds_cpntEtcDis.SetColumn(ds_cpntEtcdis.row, "add_qty"     , nAddQty );
    ds_cpntEtcDis.SetColumn(ds_cpntEtcdis.row, "sale_price"  , "" );
    ds_cpntEtcDis.SetColumn(ds_cpntEtcdis.row, "prchs_prc"   , ds_selEtcDis.GetColumn(0,"dis_amt") );

    for( var i = 0; i < ds_cpntEtcDis.rowcount; i++){
        if ( ds_viewCpntEtcDis.GetColumn(nViewRow,"cpnt_prod_cd") == ds_cpntEtcDis.GetColumn(i,"cpnt_prod_cd") &&
             ds_viewCpntEtcDis.GetColumn(nViewRow,"cpnt_color_cd") == ds_cpntEtcDis.GetColumn(i,"cpnt_color_cd") )
        {
             nAddSum = nAddSum + parseInt(ds_cpntEtcDis.GetColumn(i,"add_qty"));
        }
    }
    
    ds_viewCpntEtcDis.SetColumn(nViewRow,"add_qty",nAddSum) ;  

    /*
    var nRow        = ds_cpntEtcDis.currow;     // 현재 row
    var sCpntProdCl = ds_cpntEtcDis.GetColumn(nRow, "prod_cl");   // 구성품 상품구분
    var addQty      = 0;  //추가수량 변수

    // 배터리 일련번호 처리
    //if (sCpntProdCl == "2") {
    //    ds_cpntEtcDis.SetColumn(nRow, "ser_num", ds_selEtcDis.GetColumn(0,"cpnt_ser_num") );
    //}    

    var addQty = parseInt(ds_cpntEtcDis.GetColumn(nRow, "add_qty")) + 1;

    ds_cpntEtcDis.SetColumn(nRow, "cpnt_ser_num", ds_selEtcDis.GetColumn(0,"cpnt_ser_num") );
    ds_cpntEtcDis.SetColumn(nRow, "cpnt_etc_seq", ds_selEtcDis.GetColumn(0,"cpnt_etc_seq") );
    
    ds_cpntEtcDis.SetColumn(nRow, "add_qty"  , addQty );
    ds_cpntEtcDis.SetColumn(nRow, "prchs_prc", ds_selEtcDis.GetColumn(0,"dis_amt") );
    */
    
    lf_setCpntAddAmt();
    lf_setDisAmt();
}

function lf_setCpntAddAmt()
{
    var rowCnt  = ds_viewCpntEtcDis.rowcount;
    var iAddAmt = 0;
    var iAddQty = 0;
    var iSumAmt = 0;
    
    for ( var i = 0 ; i <= rowCnt ; i++ ) {
    
        iAddQty = ds_viewCpntEtcDis.GetColumn(i,"add_qty");
        
        if ( iAddQty > 0 )
        { 
            iAddAmt = iAddAmt + ( parseInt(ds_viewCpntEtcDis.GetColumn(i,"prchs_prc")) * parseInt(iAddQty) );
        }
    }
    
    div_prodSalePrc.msk_cpntAddAmt.value = iAddAmt;
    
    //iSumAmt = parseInt(div_prodSalePrc.msk_prodPrchsAmt.value) + parseInt(iAddAmt);
    //div_prodSalePrc.msk_disAmt.Value = iSumAmt;
    return;
}
]]></Script>
</Window>